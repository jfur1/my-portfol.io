{"version":3,"sources":["views/ForgotPassword.jsx","components/alerts.jsx","components/auth.jsx","views/navbar.jsx","components/alertDismissible.jsx","components/testAvatar.jsx","views/uploadProfilePic.jsx","views/home.jsx","components/switch.jsx","views/about.jsx","components/AreYouSure.jsx","views/portfolio.jsx","views/contact.jsx","views/profile.jsx","components/newRegistration/RegisterUser.jsx","components/newRegistration/Validated.jsx","components/slider/form.jsx","views/ResetPassword.jsx","views/Footer.jsx","App.js","index.js"],"names":["ForgotPassword","handleEmailChange","e","setState","email","target","value","sendEmail","a","preventDefault","tmpErr","notFound","none","state","error","errors","msgFromServer","fetch","method","headers","mode","credentials","withCredentials","body","JSON","stringify","response","json","res","data","this","className","id","xmlns","width","height","fill","viewBox","onClick","props","history","push","fill-rule","d","Form","Control","custom","isInvalid","type","placeholder","onChange","Feedback","Component","AlertMsg","msg","severity","Alert","authenticated","user","user_id","firstname","lastname","username","password","next","then","console","log","catch","err","NavBar","loggedIn","requestedBy","location","Navbar","sticky","style","background","Brand","href","src","alt","Toggle","aria-controls","Collapse","Nav","Item","Dropdown","fullname","Menu","Link","auth","logout","pathname","loggedOut","AlertDismissible","bsPrefix","show","showAlert","variant","Heading","textAlign","Button","setShow","handleSave","setEdited","setShowAlert","discardChanges","Avatar","containerId","generateHash","loaderId","onFileLoad","bind","onCloseClick","imgWidth","imgHeight","scale","lastMouseY","cropX","cropY","new","showLoader","img","lineWidth","closeIconColor","cropColor","mimeTypes","backgroundColor","shadingColor","shadingOpacity","mobileScaleSpeed","cropRadius","minCropRadius","image","prefix","s4","Math","floor","random","toString","substring","onClose","crop","x","halfWidth","y","halfHeight","getCropCoords","radius","onCrop","file","elem","onBeforeFileLoad","onImageLoad","Image","complete","init","onload","onImageLoadCallback","onBeforeFileLoadCallback","files","onFileLoadCallback","ref","EXIF","getData","exifOrientation","getTag","LoadImage","orientation","meta","onCloseCallback","originalWidth","originalHeight","ration","imageWidth","imageHeight","cropR","warn","calculatedRadius","max","min","initCanvas","stage","initStage","initBackground","shading","initShading","initCrop","cropStroke","initCropStroke","resize","initResize","resizeIcon","initResizeIcon","layer","Konva","Layer","add","scaledRadius","isLeftCorner","isTopCorner","isRightCorner","isBottomCorner","calcScaleRadius","calcResizerX","calcResizerY","moveResizer","getPreview","toDataURL","onScaleCallback","scaleY","isNotOutOfScale","fire","onCropCallback","on","setFillPatternOffset","container","cursor","evt","dragEvt","changedTouches","pageY","newMouseY","ieScaleFactor","undefined","movementY","Stage","Rect","strokeWidth","opacity","Circle","fillPatternImage","fillPatternOffset","fillPatternScale","draggable","dashEnabled","dash","stroke","strokeScaleEnabled","dragBoundFunc","pos","getAbsolutePosition","Path","display","justifyContent","position","label","labelStyle","lineHeight","borderStyle","name","overflow","zIndex","accept","htmlFor","left","top","React","defaultProps","fontSize","fontWeight","color","fontFamily","border","borderRadius","UploadProfilePicture","preview","initXcoord","initYcoord","initRadius","r","currentPrefix","stagePreview","fullImg","cb","reader","FileReader","readAsDataURL","result","onerror","getBase64","stageImage","stageCoords","Home","profile","images","info","about","useState","showDelete","setShowDelete","edited","setFullname","public_email","publicEmail","setPublicEmail","phone","setPhone","setLocation","current_occupation","currentOccupation","setCurrentOccupation","current_organization","currentOrganization","setCurrentOrganization","font","setFont","font_size","size","setSize","showEditPic","setShowEditPic","setX","setY","setR","base64image","binaryToBase64","profilePic","setProfilePic","base64preview","profileAvatar","setProfileAvatar","setPrefix","locationToCreate","locationToUpdate","updateFullname","createCurrentOccupation","updateCurrentOccupation","createCurrentOrganization","updateCurrentOrganization","createProfileImages","updateProfileImages","updateFont","updateSize","updatePreviewCoords","createLocation","length","updateLocation","updatePhone","updateEmail","window","reload","btoa","Uint8Array","reduce","tmp","byte","String","fromCharCode","FormatTextarea","text","split","map","str","idx","ownedByUser","Modal","onHide","backdrop","keyboard","centered","scrollable","Header","closeButton","Title","Body","noValidate","onSubmit","Row","Label","column","sm","defaultValue","Col","Text","indexOf","fullImage","Footer","DropdownButton","title","eventKey","active","onSelect","fillRule","Switch","isOn","handleToggle","checked","About","hobbiesData","hobbies","skillsData","skills","reordered","setReordered","changingOrder","setChangingOrder","bio","setBio","values","setHobbies","setSkills","validated","setValidated","errs","setErrs","duplicateSkill","setDuplicateSkill","duplicateHobby","setDuplicateHobby","skillsToDelete","setSkillToDelete","hobbiesToDelete","setHobbyToDelete","useEffect","handleHobbyChange","event","tmpHobbies","hobby_id","uid","hobby","toUpdate","some","removeHobby","splice","handleSkillChange","tmpSkills","skill_id","skill","removeSkill","handleOnDragEnd","destination","source","droppableId","items","Array","from","index","reorderedItem","ChangeOrder","onDragEnd","provided","droppableProps","innerRef","row","draggableId","draggableProps","dragHandleProps","validate","isValidated","forEach","stopPropagation","bioToUpdate","hobbiesToCreate","hobbiesToUpdate","skillsToCreate","skillsToUpdate","rowIdx","updateBio","createHobbies","hobbyToCreate","createHobby","updateHobbies","hobbyToUpdate","updateHobby","createSkills","skillToCreate","createSkill","updateSkills","skillToUpdate","updateSkill","reorder","deleteSkills","skillToDelete","deleteSkill","deleteHobbies","hobbyToDelete","deleteHobby","rows","replace","Group","controlId","required","AreYouSure","requestedDelete","setRequestedDelete","setRequestedDeleteIdx","deleteProject","deleteWork","deleteEdu","Portfolio","portfolioData","portfolio","educationData","education","projectsData","projects","requestedDeleteIdx","duplicateProject","setDuplicateProject","duplicateWork","setDuplicateWork","duplicateEducation","setDuplicateEducation","setProjects","projectsToDelete","setProjectsToDelete","setPortfolio","workExperienceToDelete","setWorkExperienceToDelete","setEducation","educationToDelete","setEducationToDelete","occupation","projectsToCreate","projectsToUpdate","workExperienceToCreate","workExperienceToUpdate","educationToCreate","educationToUpdate","project_id","description","organization","from_when","to_when","link","portfolio_id","education_id","createProjects","projectToCreate","createProject","updateProjects","projectToUpdate","updateProject","createPortfolio","workToCreate","createWorkExperience","updateWorkExperience","workToUpdate","createEdu","eduToCreate","createEducation","updateEdu","eduToUpdate","updateEducation","deleteProjects","projectToDelete","workToDelete","deleteWorkExperience","eduToDelete","deleteEducation","FormatDate","date","dateString","year","obj","Object","keys","Tab","Container","defaultActiveKey","Badge","Content","Pane","tmpProjects","handleProjectTitleChange","as","handleProjectDescriptionChange","handleProjectOrganizationChange","DatePicker","selected","Date","newDate","offset","getTimezoneOffset","setHours","toISOString","handleProjectStartChange","handleProjectFinishChange","handleProjectLinkChange","tmpPortfolio","handlePortfolioOccupationChange","handlePortfolioOrganizationChange","handlePortfolioStartChange","handlePortfolioFinishChange","handlePortfolioDescriptionChange","duplicates","newIdx","tmpRow","tmpIdx","project","tmpEducation","handleEducationChange","handleEducationOrganizationChange","handleEducationStartChange","handleEducationFinishChange","handleEducationDescriptionChange","rel","Contact","linksData","contact","links","setLinks","emailToUpdate","setEmailToUpdate","phoneToUpdate","setPhoneToUpdate","linksToDelete","setLinksToDelete","setDuplicates","linksToCreate","linksToUpdate","link_id","createLinks","linkToCreate","createLink","updateLinks","linkToUpdate","updateLink","deleteLinks","linkToDelete","deleteLink","ChangeLinksOrder","handleLinkTitleChange","tmpLinks","handleLinkChange","handleLinkDescriptionChange","disabled","delete","Profile","loading","linkObj","workExperience","updatedFont","updatedSize","key","alert","substr","urls","Promise","all","url","hostname","errorMsg","Tabs","activeKey","k","registerUser","passwordCheck","RegExp","test","Validated","failedAttempt","HomeSlider","loginEmail","setLoginEmail","loginPassword","setLoginPassword","registerFullName","setRegisterFullName","registerUsername","setRegisterUserName","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","registerPasswordCheck","setRegisterPasswordCheck","showPassword","setShowPassword","fullnameLength","invalidEmail","passwordLength","usernameLength","invalidUsername","noMatch","setErrors","showAlertRegistered","setShowAlertRegistered","showAlertLogout","setShowAlertLogout","showAlertLoginFail","setShowAlertLoginFail","postData","tmpErrors","emailTaken","usernameTaken","loginFailure","clearState","document","getElementById","classList","remove","signUpButton","signInButton","register","backBtn","addEventListener","margin","handleUsernameChange","newlyRegistered","dismissible","login","ResetPassword","handleChange","updatePassword","tmpErrs","validatePasswords","null","match","params","token","updated","confirmPassword","showAbout","setShowAbout","showContact","setShowContact","textDecoration","App","backgroundImage","backgroundRepeat","backgroundSize","backgroundAttachment","minHeight","minWidth","paddingBottom","exact","path","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.3fc405b3.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Form } from 'react-bootstrap';\n\nclass ForgotPassword extends Component{\n    constructor(){\n        super();\n\n        this.state = {\n            email: '',\n            error: false,\n            msgFromServer: '',\n            errors: {email: '',  notFound: '', none: ''}\n        }\n    }\n\n    handleEmailChange = (e) => {\n        this.setState({email: e.target.value});\n    }\n\n    sendEmail = async(e) => {\n        e.preventDefault();\n        var tmpErr = {email: '', notFound: '', none: ''};\n        if(this.state.email === ''){\n            tmpErr[\"email\"] = \"Please enter your username or email.\";\n            this.setState({\n                error: false,\n                errors: tmpErr,\n                msgFromServer: ''\n            });\n        }   \n        else{\n            const response = await fetch('/forgotPassword',  {\n                method: 'POST', \n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                withCredentials: true,\n                body: JSON.stringify({\n                    email: this.state.email\n                })\n            })\n            const res = await response.json();\n\n            if(res.data === 'No users registered with that email/username.'){\n                tmpErr[\"notFound\"] = \"Please enter your username or email.\";\n                this.setState({\n                    error: true,\n                    errors: tmpErr,\n                    msgFromServer:'No users registered with that email/username.' \n                });\n            } else if(res.data === 'Recovery email sent.'){\n                tmpErr['email'] = ''; tmpErr['notFound'] = '';\n                tmpErr[\"none\"] = \"An email has been sent to reset your password!\";\n                this.setState({\n                    error: false,\n                    errors: tmpErr,\n                    msgFromServer: 'An email has been sent to reset your password!'\n                });\n            }\n        }\n    }\n\n    render(){\n        const {email, error, msgFromServer} = this.state;\n        return(\n            <div className=\"register-body\">\n                <div className=\"slider-container\" id=\"slider-container\">\n                    \n                    <div className=\"form-container back-btn-container mx-4 my-4\" id=\"back\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"#06D6A0\" className=\"bi bi-arrow-left-circle\" viewBox=\"0 0 16 16\" \n                    onClick={() => {this.props.history.push('/')}}>\n                            <path fill-rule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\"/>\n                        </svg>\n                    </div>\n            \n                    <div className=\"form-box\">\n                        <h2>Reset Password</h2><br/>\n\n                        <Form.Control\n                        custom\n                        isInvalid={this.state.errors['email'] || this.state.errors['notFound']} \n                        type=\"email\" \n                        placeholder=\"Email or Username\" \n                        value={email}\n                            onChange={e => this.setState({email: e.target.value})}\n                        /><br/>\n\n                        <Form.Control.Feedback type=\"invalid\">\n                            {this.state.errors['email'] && email === ''\n                            ? \"Please enter your username or email.\"\n                            : null}\n                            {this.state.errors['notFound']\n                            ? \"Email/Username is not recognized. Please try again or register for a new account.\"\n                            : null}\n                        </Form.Control.Feedback>      \n                        <Form.Control.Feedback type=\"valid\">\n                            {this.state.errors['none']\n                            ? this.state.errors['none']\n                            : null}\n                        </Form.Control.Feedback>      \n                    \n                        <button className=\"form-button\" onClick={e => {\n                            this.sendEmail(e)\n                        }}>Reset</button>\n\n\n                    {msgFromServer && !error\n                    ? <><p>{msgFromServer}</p>\n                        <p>Check your spam folder if you do not see the email.</p>\n                        <button className=\"form-button\" onClick={e => {\n                            this.props.history.push('/')\n                        }}>Home</button>\n                        </>\n                    : null}\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default ForgotPassword;","import Alert from '@material-ui/lab/Alert';\n\n/* Valid \"severity\" types: {error, warning, info, success} */\n\nexport const AlertMsg = (type, msg) => {\n    let severity;\n    \n    if (type === \"error\" || type === \"warning\" || type === \"success\" || type === \"info\"){\n        severity = type;\n    } else{\n        return null;\n    }\n\n    return (\n        <Alert severity={severity}> {msg} </Alert>\n    );\n}","class Auth {\n    constructor(){\n        this.authenticated = false;\n        this.user = {\n            user_id: null,\n            firstname: null,\n            lastname: null,\n            email: null,\n            username: null,\n        }\n    }\n\n    login(email, password, next){\n\n        const data = { email, password };\n\n\n        fetch('/login', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data),\n        })\n        .then(data => data.json())\n        .then(user => {\n\n            //console.log(\"User Recieved by /auth : \", user);\n            \n            if(!(typeof user !== 'undefined') || !user[\"authenticated\"]){\n                this.authenticated = false;\n                return next({error: true});\n            }\n            else{\n                // Only authenticate a user upon JSON response: {authenticated: true}\n                this.authenticated = true;\n                this.user = user.data;\n                return next(user.data);\n            }\n        })\n    }\n\n    // User remains authenticated until they log out\n    logout(next){\n        fetch('/logout', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            withCredentials: true,\n            mode: 'cors',\n            credentials: 'include',\n        })\n        .then(data => data.json())\n        .then((res) => {\n            console.log(\"Logged Out.\");\n            this.authenticated = false;\n            return next();\n        })\n        .catch((err) => console.log(err));\n    }\n\n    isAuthenticated(){\n        return this.authenticated;\n    }\n}\n\nexport default new Auth();","import React from 'react';\nimport { Nav, Navbar, Dropdown } from 'react-bootstrap';\nimport auth from '../components/auth';\n\nexport const NavBar = (props) => {\n    //console.log(\"NavBar Component Recieved Props: \", props);\n    const loggedIn = (props.data.loggedIn !== null) ? props.data.loggedIn : false;\n    const requestedBy = (typeof props.location.state !== 'undefined' && typeof props.location.state.requestedBy !== 'undefined') ? props.location.state.requestedBy : props.data.requestedBy;\n    \n    //const user = (props.data.user !== null) ? props.data.user : null;\n    \n\n    return(\n\n        <Navbar sticky=\"top\" style={{background:'rgba(255,255,255,1)'}}>\n            <Navbar.Brand href={loggedIn ? `/${requestedBy.username}` : '/'}>\n                <img style={{height: \"30px\"}} src=\"/mp-new-logo.png\" alt=\"logo\"/>\n                &nbsp;&nbsp;&nbsp;\n            </Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Nav.Item>\n                    {loggedIn ?\n                    <Dropdown id=\"collapsible-nav-dropdown\">\n                        <Dropdown.Toggle \n                            className=\"bg-transparent text-dark\" \n                            id=\"dropdown-custom-components\"\n                        >\n                            Signed in as: <b>{requestedBy.fullname}</b>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item>\n                                <Nav.Link onClick={() => {\n                                    auth.logout(() => {\n                                        props.history.push({\n                                            pathname:\"/\",\n                                            state: {loggedOut: true}\n                                     });\n                                    });\n                                }}>Logout</Nav.Link>\n                            </Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                    :                              \n                    <Nav.Link onClick={() => {props.history.push(\"/\");}}>Login or Register</Nav.Link>\n                    }\n                </Nav.Item>\n            </Navbar.Collapse>\n        </Navbar>\n    )\n\n\n}","import Alert from 'react-bootstrap/Alert';\nimport { Button } from 'react-bootstrap';\n\nexport const AlertDismissible = (props) => {\n    return (\n      <>\n        <Alert bsPrefix=\"edit-alert\" show={props.showAlert} variant=\"warning\">\n        <Alert.Heading style={{textAlign: 'center'}}>Attention!</Alert.Heading>\n          <p style={{textAlign: 'center'}}>\n            You have unsaved changes! Are you sure you want to exit?\n          </p>\n          <hr />\n          <div className=\"d-flex justify-content-center\">\n            <Button onClick={() => {\n                props.setShow(false); \n                props.handleSave(); \n                props.setEdited(false); \n                props.setShowAlert(false);\n            }} variant=\"outline-success\">\n                Save Changes\n            </Button>\n            <Button onClick={() => {\n                props.setShow(false); \n                props.discardChanges();\n                props.setEdited(false); \n                props.setShowAlert(false);\n            }} variant=\"outline-danger\">\n                Exit\n            </Button>\n          </div>\n        </Alert>\n      </>\n    );\n}","import React from 'react'\nimport Konva from 'konva/src/Core'\nimport EXIF from 'exif-js'\nimport LoadImage from 'blueimp-load-image'\nimport 'konva/src/shapes/Image'\nimport 'konva/src/shapes/Circle'\nimport 'konva/src/shapes/Rect'\nimport 'konva/src/shapes/Path'\nimport 'konva/src/Animation'\nimport 'konva/src/DragAndDrop'\n\nclass Avatar extends React.Component {\n\n  static defaultProps = {\n    shadingColor: 'grey',\n    shadingOpacity: 0.6,\n    cropColor: 'white',\n    closeIconColor: 'white',\n    lineWidth: 4,\n    minCropRadius: 30,\n    backgroundColor: 'grey',\n    mimeTypes: 'image/jpeg,image/png',\n    mobileScaleSpeed: 0.5, // experimental\n    onClose: () => {\n    },\n    onCrop: () => {\n    },\n    onFileLoad: () => {\n    },\n    onImageLoad: () => {\n    },\n    onBeforeFileLoad: () => {\n    },\n    label: 'Choose a file',\n    labelStyle: {\n      fontSize: '1.25em',\n      fontWeight: '700',\n      color: 'black',\n      display: 'inline-block',\n      fontFamily: 'sans-serif',\n      cursor: 'pointer'\n    },\n    borderStyle: {\n      border: '2px solid #979797',\n      borderStyle: 'dashed',\n      borderRadius: '8px',\n      textAlign: 'center'\n    }\n  };\n\n  constructor(props) {\n    super(props);\n    const containerId = this.generateHash('avatar_container');\n    const loaderId = this.generateHash('avatar_loader');\n    this.onFileLoad = this.onFileLoad.bind(this);\n    this.onCloseClick = this.onCloseClick.bind(this);\n    this.state = {\n      imgWidth: 0,\n      imgHeight: 0,\n      scale: 1,\n      containerId,\n      loaderId,\n      lastMouseY: 0,\n      cropX: props.cropX,\n      cropY: props.cropY,\n      new: props.new,\n      showLoader: !(this.props.src || this.props.img)\n    }\n    //console.log(\"Recieved src from parent:\", this.props.src);\n    //console.log(\"Recieved coords from parent:\", this.state.cropX, this.state.cropY, this.props.cropRadius);\n  }\n\n  get lineWidth() {\n    return this.props.lineWidth\n  }\n\n  get containerId() {\n    return this.state.containerId\n  }\n\n  get closeIconColor() {\n    return this.props.closeIconColor\n  }\n\n  get cropColor() {\n    return this.props.cropColor\n  }\n\n  get loaderId() {\n    return this.state.loaderId\n  }\n\n  get mimeTypes() {\n    return this.props.mimeTypes\n  }\n\n  get backgroundColor() {\n    return this.props.backgroundColor\n  }\n\n  get shadingColor() {\n    return this.props.shadingColor\n  }\n\n  get shadingOpacity() {\n    return this.props.shadingOpacity\n  }\n\n  get mobileScaleSpeed() {\n    return this.props.mobileScaleSpeed\n  }\n\n  get cropRadius() {\n    return this.state.cropRadius\n  }\n\n  get minCropRadius() {\n    return this.props.minCropRadius\n  }\n\n  get scale() {\n    return this.state.scale\n  }\n\n  get width() {\n    return this.state.imgWidth\n  }\n\n  get halfWidth() {\n    return this.state.imgWidth / 2\n  }\n\n  get height() {\n    return this.state.imgHeight\n  }\n\n  get halfHeight() {\n    return this.state.imgHeight / 2\n  }\n\n  get image() {\n    return this.state.image\n  }\n\n\n  generateHash(prefix) {\n    const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    return prefix + '-' + s4() + '-' + s4() + '-' + s4()\n  }\n\n  onCloseCallback() {\n    this.props.onClose();\n  }\n\n  onCropCallback(crop, img) {\n \n    if(this.state.cropX == null && this.state.cropY == null) {\n        crop.x(this.halfWidth);\n        crop.y(this.halfHeight);\n    }\n    //console.log(\"Crop Radius:\", crop.radius());\n    if((typeof(crop.x()) !== 'undefined') && (typeof(crop.y()) !== 'undefined'))\n        this.props.getCropCoords(crop.x(), crop.y(), crop.radius());\n    console.log(\"Img preview in onCrop:\", img)\n    this.props.onCrop(img);\n  }\n\n  onFileLoadCallback(file, img) {\n    this.setState({new: true})\n    this.props.onFileLoad(file)\n  }\n\n  onBeforeFileLoadCallback(elem) {\n    this.props.onBeforeFileLoad(elem)\n  }\n\n  onImageLoadCallback(image) {\n    this.props.onImageLoad(image)\n  }\n\n  componentDidMount() {\n    if (this.state.showLoader) return;\n\n    const image = this.props.img || new Image();\n    if (!this.props.img && this.props.src) image.src = this.props.src;\n\n    this.setState({ image }, () => {\n        //console.log(\"image in componentDidMount:\", image)\n        // This is a HTML image object\n        if (this.image.complete) return this.init();\n        this.image.onload = () => {\n            this.onImageLoadCallback(this.image);\n            this.init()\n      }\n    })\n  }\n\n  onFileLoad(e) {\n    e.preventDefault();\n\n    this.onBeforeFileLoadCallback(e);\n    if(!e.target.value) return;\n\n    let file = e.target.files[0];\n    this.onFileLoadCallback(file);\n\n    const ref = this;\n    EXIF.getData(file, function() {\n      let exifOrientation = EXIF.getTag(this, \"Orientation\");\n      console.log(\"Orientation:\", exifOrientation)\n      LoadImage(\n        file,\n        function (image, data) {\n            console.log(data)\n            ref.setState({ image, file, data, showLoader: false});\n            ref.init();\n        },\n        {orientation: exifOrientation, meta: true}\n      );\n    })\n    // This is a HTML image object\n    //console.log(\"Image in onFileLoad:\", this.image)\n  }\n\n  onCloseClick() {\n    this.setState({ showLoader: true }, () => this.onCloseCallback())\n  }\n\n  init() {\n    const { height, minCropRadius, cropRadius } = this.props;\n    const originalWidth = this.image.width;\n    const originalHeight = this.image.height;\n    const ration = originalHeight / originalWidth;\n    const { imageWidth, imageHeight } = this.props;\n    let imgHeight;\n    let imgWidth;\n    let cropR = cropRadius;\n\n    if(this.state.new)\n        cropR = 0;\n\n    if (imageHeight && imageWidth) {\n      console.warn('The imageWidth and imageHeight properties can not be set together, using only imageWidth.');\n    }\n\n    if (imageHeight && !imageWidth) {\n      imgHeight = imageHeight || originalHeight;\n      imgWidth = imgHeight / ration;\n    } else if (imageWidth) {\n      imgWidth = imageWidth;\n      imgHeight = imgWidth * ration || originalHeight;\n    } else {\n      imgHeight = height || originalHeight;\n      imgWidth = imgHeight / ration;\n    }\n\n    const scale = imgHeight / originalHeight;\n    const calculatedRadius = Math.max(minCropRadius, (cropR || Math.min(imgWidth, imgHeight) / 3));\n\n    this.setState({\n      imgWidth,\n      imgHeight,\n      scale, \n      cropX: this.state.new ? imgWidth/2 : this.props.cropX,\n      cropY: this.state.new ? imgHeight/2 : this.props.cropY,\n      cropRadius: calculatedRadius\n    }, this.initCanvas)\n  }\n\n  initCanvas() {\n    const stage = this.initStage();\n    const background = this.initBackground();\n    const shading = this.initShading();\n    const crop = this.initCrop();\n    const cropStroke = this.initCropStroke();\n    const resize = this.initResize();\n    const resizeIcon = this.initResizeIcon();\n\n    const layer = new Konva.Layer();\n\n    layer.add(background);\n    layer.add(shading);\n    layer.add(cropStroke);\n    layer.add(crop);\n\n    layer.add(resize);\n    layer.add(resizeIcon);\n\n    stage.add(layer);\n\n    const scaledRadius = (scale = 0) => crop.radius() - scale;\n    const isLeftCorner = scale => crop.x() - scaledRadius(scale) < 0;\n    const calcLeft = () => crop.radius() + 1;\n    const isTopCorner = scale => crop.y() - scaledRadius(scale) < 0;\n    const calcTop = () => crop.radius() + 1;\n    const isRightCorner = scale => crop.x() + scaledRadius(scale) > stage.width();\n    const calcRight = () => stage.width() - crop.radius() - 1;\n    const isBottomCorner = scale => crop.y() + scaledRadius(scale) > stage.height();\n    const calcBottom = () => stage.height() - crop.radius() - 1;\n    const isNotOutOfScale = scale => !isLeftCorner(scale) && !isRightCorner(scale) && !isBottomCorner(scale) && !isTopCorner(scale);\n    const calcScaleRadius = scale => scaledRadius(scale) >= this.minCropRadius ? scale : crop.radius() - this.minCropRadius;\n    const calcResizerX = x => x + (crop.radius() * 0.86);\n    const calcResizerY = y => y - (crop.radius() * 0.5);\n    const moveResizer = (x, y) => {\n      resize.x(calcResizerX(x) - 8);\n      resize.y(calcResizerY(y) - 8);\n      resizeIcon.x(calcResizerX(x) - 8);\n      resizeIcon.y(calcResizerY(y) - 10)\n    };\n\n    const getPreview = () => crop.toDataURL({\n      x: crop.x() - crop.radius(),\n      y: crop.y() - crop.radius(),\n      width: crop.radius() * 2,\n      height: crop.radius() * 2\n    });\n\n    const onScaleCallback = (scaleY) => {\n      const scale = scaleY > 0 || isNotOutOfScale(scaleY) ? scaleY : 0;\n      cropStroke.radius(cropStroke.radius() - calcScaleRadius(scale));\n      crop.radius(crop.radius() - calcScaleRadius(scale));\n      resize.fire('resize')\n    };\n\n    this.onCropCallback(crop, getPreview());\n\n    crop.on(\"dragmove\", () => crop.fire('resize'));\n    crop.on(\"dragend\", () => this.onCropCallback(crop, getPreview()));\n\n    crop.on('resize', () => {\n      const x = isLeftCorner() ? calcLeft() : (isRightCorner() ? calcRight() : crop.x());\n      const y = isTopCorner() ? calcTop() : (isBottomCorner() ? calcBottom() : crop.y());\n      moveResizer(x, y);\n      crop.setFillPatternOffset({ x: x / this.scale, y: y / this.scale });\n      crop.x(x);\n      cropStroke.x(x);\n      crop.y(y);\n      cropStroke.y(y)\n    });\n\n    crop.on(\"mouseenter\", () => stage.container().style.cursor = 'move');\n    crop.on(\"mouseleave\", () => stage.container().style.cursor = 'default');\n    crop.on('dragstart', () => stage.container().style.cursor = 'move');\n    crop.on('dragend', () => stage.container().style.cursor = 'default');\n\n    resize.on(\"touchstart\", (evt) => {\n      resize.on(\"dragmove\", (dragEvt) => {\n        if (dragEvt.evt.type !== 'touchmove') return;\n        const scaleY = (dragEvt.evt.changedTouches['0'].pageY - evt.evt.changedTouches['0'].pageY) || 0;\n        onScaleCallback(scaleY * this.mobileScaleSpeed)\n      })\n    });\n\n    resize.on(\"dragmove\", (evt) => {\n      if (evt.evt.type === 'touchmove') return;\n      const newMouseY = evt.evt.y;\n      const ieScaleFactor = newMouseY ? (newMouseY - this.state.lastMouseY) : undefined;\n      const scaleY = evt.evt.movementY || ieScaleFactor || 0;\n      this.setState({\n        lastMouseY: newMouseY,\n      });\n      onScaleCallback(scaleY)\n    });\n    resize.on(\"dragend\", () => this.onCropCallback(crop, getPreview()));\n\n    resize.on('resize', () => moveResizer(crop.x(), crop.y()));\n\n    resize.on(\"mouseenter\", () => stage.container().style.cursor = 'nesw-resize');\n    resize.on(\"mouseleave\", () => stage.container().style.cursor = 'default');\n    resize.on('dragstart', (evt) => {\n      this.setState({\n        lastMouseY: evt.evt.y,\n      });\n      stage.container().style.cursor = 'nesw-resize'\n    });\n    resize.on('dragend', () => stage.container().style.cursor = 'default')\n  }\n\n  initStage() {\n    return new Konva.Stage({\n      container: this.containerId,\n      width: this.width,\n      height: this.height\n    })\n  }\n\n  initBackground() {\n      console.log(\"Init background:\", this.image)\n    return new Konva.Image({\n      x: 0,\n      y: 0,\n      width: this.width,\n      height: this.height,\n      image: this.image\n    })\n  }\n\n  initShading() {\n    return new Konva.Rect({\n      x: 0,\n      y: 0,\n      width: this.width,\n      height: this.height,\n      fill: this.shadingColor,\n      strokeWidth: 4,\n      opacity: this.shadingOpacity\n    })\n  }\n\n  initCrop() {\n      console.log(\"Init Crop:\",this.image)\n    return new Konva.Circle({\n      x: this.state.cropX !== null ? this.state.cropX : this.halfWidth,\n      y: this.state.cropY !== null ? this.state.cropY : this.halfHeight,\n      radius: this.cropRadius,\n      fillPatternImage: this.image,\n      fillPatternOffset: {\n        x: this.state.cropX !== null \n            ? (this.state.cropX / this.scale) \n            : this.halfWidth / this.scale,\n        y: this.state.cropY !== null \n            ? (this.state.cropY / this.scale) \n            : this.halfHeight / this.scale\n      },\n      fillPatternScale: {\n        x: this.scale,\n        y: this.scale\n      },\n      opacity: 1,\n      draggable: true,\n      dashEnabled: true,\n      dash: [10, 5]\n    })\n  }\n\n  initCropStroke() {\n    return new Konva.Circle({\n      x: this.state.cropX !== null ? this.state.cropX : this.halfWidth,\n      y: this.state.cropY !== null ? this.state.cropY : this.halfHeight,\n      radius: this.cropRadius,\n      stroke: this.cropColor,\n      strokeWidth: this.lineWidth,\n      strokeScaleEnabled: true,\n      dashEnabled: true,\n      dash: [10, 5]\n    })\n  }\n\n  initResize() {\n    return new Konva.Rect({\n      x: this.state.cropX !== null \n        ? (this.state.cropX + this.cropRadius * 0.86 - 8) \n        : (this.halfWidth + this.cropRadius * 0.86 - 8),\n      y: this.state.cropY !== null \n        ? (this.state.cropY + this.cropRadius * -0.5 - 8) \n        : (this.halfHeight + this.cropRadius * -0.5 - 8),\n      width: 16,\n      height: 16,\n      draggable: true,\n      dragBoundFunc: function (pos) {\n        return {\n          x: this.getAbsolutePosition().x,\n          y: pos.y\n        }\n      }\n    })\n  }\n\n  initResizeIcon() {\n\n    return new Konva.Path({\n      x: this.state.cropX !== null \n        ? (this.state.cropX + this.cropRadius * 0.86 - 8) \n        : (this.halfWidth + this.cropRadius * 0.86 - 8),\n      y: this.state.cropY !== null \n        ? (this.state.cropY + this.cropRadius * -0.5 - 10) \n        : (this.halfHeight + this.cropRadius * -0.5 - 10),\n      data: 'M47.624,0.124l12.021,9.73L44.5,24.5l10,10l14.661-15.161l9.963,12.285v-31.5H47.624z M24.5,44.5   L9.847,59.653L0,47.5V79h31.5l-12.153-9.847L34.5,54.5L24.5,44.5z',\n      fill: this.cropColor,\n      scale: {\n        x: 0.2,\n        y: 0.2\n      }\n    })\n  }\n\n  render() {\n    const { width, height } = this.props;\n\n    const style = {\n      display: 'flex',\n      justifyContent: 'center',\n      backgroundColor: this.backgroundColor,\n      width: width || this.width,\n      position: 'relative'\n    };\n\n    const inputStyle = {\n      width: 0.1,\n      height: 0.1,\n      opacity: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      zIndex: -1,\n    };\n\n    const label = this.props.label;\n\n    const labelStyle = { ...this.props.labelStyle, ...{ lineHeight: (height || 200) + 'px' } };\n\n    const borderStyle = {\n      ...this.props.borderStyle, ...{\n        width: width || 200,\n        height: height || 200\n      }\n    };\n\n    const closeBtnStyle = {\n      position: 'absolute',\n      zIndex: 999,\n      cursor: 'pointer',\n      left: '10px',\n      top: '10px'\n    };\n\n    return (\n      <div>\n        {\n          this.state.showLoader\n            ? <div style={borderStyle}>\n              <input\n                onChange={(e) => this.onFileLoad(e)}\n                name={this.loaderId} type=\"file\"\n                id={this.loaderId}\n                style={inputStyle}\n                accept={this.mimeTypes}\n              />\n              <label htmlFor={this.loaderId} style={labelStyle}>{label}</label>\n            </div>\n            : <div style={style}>\n              <svg\n                onClick={this.onCloseClick}\n                style={closeBtnStyle}\n                viewBox=\"0 0 475.2 475.2\"\n                width=\"20px\" height=\"20px\">\n                <g>\n                  <path\n                    d=\"M405.6,69.6C360.7,24.7,301.1,0,237.6,0s-123.1,24.7-168,69.6S0,174.1,0,237.6s24.7,123.1,69.6,168s104.5,69.6,168,69.6    s123.1-24.7,168-69.6s69.6-104.5,69.6-168S450.5,114.5,405.6,69.6z M386.5,386.5c-39.8,39.8-92.7,61.7-148.9,61.7    s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7,0-297.8C128.5,48.9,181.4,27,237.6,27s109.1,21.9,148.9,61.7    C468.6,170.8,468.6,304.4,386.5,386.5z\"\n                    fill={this.closeIconColor} />\n                  <path\n                    d=\"M342.3,132.9c-5.3-5.3-13.8-5.3-19.1,0l-85.6,85.6L152,132.9c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1    l85.6,85.6l-85.6,85.6c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.6-85.6l85.6,85.6c2.6,2.6,6.1,4,9.5,4    c3.5,0,6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1l-85.4-85.6l85.6-85.6C347.6,146.7,347.6,138.2,342.3,132.9z\"\n                    fill={this.closeIconColor} />\n                </g>\n              </svg>\n              <div id={this.containerId} />\n            </div>\n        \n        }\n      </div>\n    )\n  }\n}\n\nexport default Avatar\n","import React from 'react';\nimport Avatar from '../components/testAvatar';\n\nfunction getBase64(file, cb) {\n  let reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = function () {\n      cb(reader.result)\n  };\n  reader.onerror = function (error) {\n      console.log('Error: ', error);\n  };\n}\n\nclass UploadProfilePicture extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state = {\n          preview: null,\n          src: props.src,\n          img: props.img,\n          initXcoord: props.x,\n          initYcoord: props.y,\n          initRadius: props.r,\n          new: false,\n          currentPrefix: null,\n        }\n        this.onCrop = this.onCrop.bind(this)\n        this.onClose = this.onClose.bind(this)\n        this.onFileLoad = this.onFileLoad.bind(this)\n        this.getCropCoords = this.getCropCoords.bind(this)\n        //console.log(props)\n      }\n      \n      onClose() {\n        this.setState({preview: null});\n        console.log(\"Closed\");\n      }\n      \n      onCrop(preview) {\n        this.setState({preview});\n        //console.log(\"Recieved Preview:\", preview)\n        this.props.stagePreview(preview);\n      }\n\n      onFileLoad(file){\n        let fullImg = '';\n        this.setState({new: true})\n        getBase64(file, (result) => {\n          fullImg = result;\n          this.props.stageImage(fullImg);\n          //console.log(\"Image orientation:\", file)\n        })\n      }\n\n      getCropCoords(x, y, r){\n        // console.log(\"Middle Component Recieved Crop Coordinates:\");\n        // console.log(\"(x: \" + x ,\", y: \" + y + \", Radius: \", + r + \")\");\n        this.props.stageCoords(x, y, r);\n      }\n\n      render () {\n        \n        return (\n          <div>\n            <Avatar\n              width={390}\n              height={295}\n              onCrop={this.onCrop}\n              onClose={this.onClose}\n              closeIconColor={\"black\"}\n              onFileLoad={this.onFileLoad}\n              src={this.state.src}\n              new={this.state.new}\n              cropX={this.state.initXcoord}\n              cropY={this.state.initYcoord}\n              cropRadius={this.state.initRadius}\n              getCropCoords={this.getCropCoords}\n              minCropRadius={60}\n              img={this.state.img}\n            />\n            <br></br>\n            <img src={this.state.preview} alt=\"Preview\" />\n            \n          </div>\n        )\n      }\n}\n\nexport default UploadProfilePicture;","// Home Tab on a User's Profile\nimport { useState } from 'react';\nimport { Modal, Button, Form, Dropdown, DropdownButton, Col } from 'react-bootstrap';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport UploadProfilePicture from './uploadProfilePic';\n\nexport const Home = (props) => {\n    //console.log(\"Home Component Recieved Props: \", props);\n    const user = props.data.user;\n    const profile = (props.data.profile !== null) ? props.data.profile : props.location.state.profile;\n    const images = (props.data.images !== null) ? props.data.images : props.location.state.images;\n    const info = (props.data.about !== null) ? props.data.about : props.location.state.about;\n\n    // NOTE TO SELF: Type check for images -- (e.g. new user)\n\n    const [show, setShow] = useState(false);\n    const [showDelete, setShowDelete] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false);\n    const [fullname, setFullname] = useState(user.fullname);\n    const [publicEmail, setPublicEmail] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].public_email : '');\n    const [phone, setPhone] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].phone : '');\n    const [location, setLocation] = useState((info !== null && info.location !== null) ? info.location : null);\n    const [currentOccupation, setCurrentOccupation]\n    = useState(\n        typeof(profile[0]) !== 'undefined' \n            ? profile[0].current_occupation \n            : null\n    );\n    const [currentOrganization, setCurrentOrganization] \n    = useState(\n        typeof(profile[0]) !== 'undefined' \n            ? profile[0].current_organization \n            : null\n    );\n    const [font, setFont] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].font : null);\n    const [size, setSize] = useState(typeof(profile[0]) !== 'undefined' && !profile[0].font_size ? profile[0].font_size : \"100%\");\n    const [showEditPic, setShowEditPic] = useState(false);\n    const [x, setX] = useState(typeof(images[0]) !== 'undefined' ? images[0].x : null);\n    const [y, setY] = useState(typeof(images[0]) !== 'undefined' ? images[0].y : null);\n    const [r, setR] = useState(typeof(images[0]) !== 'undefined' ? images[0].radius : null)\n\n    const [profilePic, setProfilePic] \n    = useState(\n        typeof(images[0]) !== 'undefined' && typeof(images[0].base64image) !== 'undefined'\n            ? binaryToBase64(images[0].base64image.data) \n            : \"\"\n    );\n    \n    const [profileAvatar, setProfileAvatar] \n    = useState(\n        typeof(images[0]) !== 'undefined' && typeof(images[0].base64preview) !== 'undefined'\n            ? binaryToBase64(images[0].base64preview.data) \n            : \"\"\n    );\n    \n    const [prefix, setPrefix] \n    = useState(\n        typeof(images[0]) !== 'undefined' && typeof(images[0].prefix) !== 'undefined'\n            ? images[0].prefix \n            : \"\"\n    );\n\n    // Modal Alert\n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited){\n            setShowAlert(true);\n        } else{\n            setShow(false);\n            setShowEditPic(false);\n        }\n    }\n    const discardChanges = () => {\n        setFullname(user.fullname);\n        setCurrentOccupation(typeof(profile[0]) !== 'undefined' ? profile[0].current_occupation : null);\n        setCurrentOrganization(typeof(profile[0]) !== 'undefined' ? profile[0].current_organization : null);\n        setX(typeof(images[0]) !== 'undefined' ? images[0].x : null);\n        setY(typeof(images[0]) !== 'undefined' ? images[0].y : null);\n        setR(typeof(images[0]) !== 'undefined' ? images[0].radius : null);\n        setShowEditPic(false);\n    }\n\n    const stageImage = (fullImage) => {\n        //console.log(\"Recieved Full Base64 Img:\", fullImage);\n        setProfilePic(fullImage.substring(fullImage.indexOf(',')+1));\n        setPrefix(fullImage.substring(0, fullImage.indexOf(',')+1));\n    }\n    const stagePreview = (preview) => {\n        //console.log(\"Recieved Base64 Preview:\", preview);\n        setProfileAvatar(preview.substring(preview.indexOf(',')+1));\n    }\n\n    const stageCoords = (x, y, r) => {\n        //console.log(\"Home tab recieved crop coords:\");\n        //console.log(\"(x: \" + x ,\", y: \" + y + \", Radius: \", + r + \")\");\n        setX(x); setY(y); setR(r);\n    }\n\n    const handleSave = async() => {\n        let locationToCreate = [];\n        let locationToUpdate = [];\n        \n        // Declare Funcation Prototypes\n        const updateFullname = async() => {\n            await props.updateFullname(user.user_id, fullname);\n        }\n\n        const createCurrentOccupation = async() => {\n            await props.createCurrentOccupation(user.user_id, currentOccupation);\n        }\n\n        const updateCurrentOccupation = async() => {\n            await props.updateCurrentOccupation(user.user_id, currentOccupation);\n        }\n\n        const createCurrentOrganization = async() => {\n            await props.createCurrentOrganization(user.user_id, currentOrganization);\n        }\n\n        const updateCurrentOrganization = async() => {\n            await props.updateCurrentOrganization(user.user_id, currentOrganization);\n        }\n\n        const createProfileImages = async() => {\n            await props.createProfileImages(user.user_id, profilePic, profileAvatar, prefix)\n        }\n\n        const updateProfileImages = async() => {\n            await props.updateProfileImages(user.user_id, profilePic, profileAvatar, prefix)\n        }\n\n        const updateFont = async() => {\n            await props.updateFont(user.user_id, font);\n        }\n\n        const updateSize = async() => {\n            await props.updateSize(user.user_id, size);\n        }\n\n        const updatePreviewCoords = async() => {\n            await props.updatePreviewCoords(user.user_id, x, y, r);\n        }\n\n        // Conditionally Call Functions\n        if(fullname !== user.fullname) await updateFullname();\n\n        if((!info && location) || (info !== null && info.location !== location)){\n            //console.log(`Set location update from: ${info.location} to: ${location}`);\n            locationToUpdate.push(location);\n        }\n\n        const createLocation = async() => {\n            await props.createLocation(user.user_id, locationToCreate[0]);\n        }\n        if(locationToCreate.length) await createLocation();\n\n        const updateLocation = async() => {\n            await props.updateLocation(locationToUpdate[0], user.user_id);\n        }\n        if(locationToUpdate.length) await updateLocation();\n\n        if((!typeof(profile.current_occupation) !== 'undefined') && currentOccupation)\n            await createCurrentOccupation();\n        else if(typeof(profile[0]) !== 'undefined' && currentOccupation !== profile[0].current_occupation)\n            await updateCurrentOccupation();\n\n        if((!typeof(profile.current_organization) !== 'undefined') && currentOrganization)\n            await createCurrentOrganization();\n        else if(typeof(profile[0]) !== 'undefined' && currentOrganization !== profile[0].current_organization)\n            await updateCurrentOrganization();\n\n        const updatePhone = async() => {\n            await props.updatePhone(user.user_id, phone);\n        }\n        if((typeof(profile[0]) == 'undefined' && phone) || (phone !== profile[0].phone)) await updatePhone();\n\n        const updateEmail = async() => {\n            await props.updateEmail(user.user_id, publicEmail);\n        }\n        if((typeof(profile[0]) == 'undefined' && publicEmail) || (publicEmail !== profile[0].public_email)) await updateEmail();\n\n        if(typeof(profile[0]) !== 'undefined' && font !== profile[0].font)\n            await updateFont();\n        \n        if(typeof(profile[0]) !== 'undefined' && size !== profile[0].font_size)\n            await updateSize();\n            \n        // Create Profile Picture\n        if(typeof(images[0]) == 'undefined' && (profileAvatar || profilePic)){\n            await createProfileImages();\n        }\n        else if(profilePic !== images[0].base64image || profileAvatar !== images[0].base64preview){\n            await updateProfileImages();\n        }\n        if(typeof(images[0]) !== 'undefined' && ((images[0].x !== x && x) || (images[0].y !== y && y))){\n            await updatePreviewCoords();\n        }\n\n\n        window.location.reload();\n    }\n\n    function binaryToBase64(data){\n        var image = btoa(new Uint8Array(data).reduce(function (tmp, byte) {\n            return tmp + String.fromCharCode(byte);\n        }, ''));\n        return image;\n    }\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n    return(\n        <div className=\"tab-container\"> \n        {props.data.ownedByUser \n        ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button>\n        : null}\n        \n        <Modal\n            show={show}\n            onHide={handleClose}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"lg\"\n            centered\n            scrollable={false}\n        >\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    Edit Homepage\n                    <AlertDismissible\n                        setShow={setShow}\n                        setEdited={setEdited}\n                        setShowAlert={setShowAlert}\n                        showAlert={showAlert}\n                        handleSave={handleSave}\n                        discardChanges={discardChanges}\n                    />\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form noValidate onSubmit={handleSave}>\n                    \n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Full Name\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1\" \n                            defaultValue={fullname} \n                            onChange={e => \n                                {    \n                                setFullname(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Current Occupation\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1 mt-2\" \n                            defaultValue={currentOccupation} \n                            onChange={e => \n                                {setCurrentOccupation(e.target.value); \n                                setEdited(true); \n                            }}\n                        ></input>\n                    </Form.Row>\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Current Organization\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1 mt-2\" \n                            defaultValue={currentOrganization} \n                            onChange={e => \n                                {setCurrentOrganization(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Location\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1\" \n                            id=\"location\" \n                            defaultValue={(info !== null && info.location !== null) \n                                ? info.location \n                                : ''} \n                            onChange={e => \n                                {setLocation(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n\n                    <Form.Row className='mt-4'>\n                        <Form.Label column sm={2}>\n                            Public Email\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                                type=\"email\" \n                                style={{textAlign:\"left\", width: \"55%\"}} \n                                defaultValue={typeof(profile[0]) !== 'undefined' ? profile[0].public_email : null}  \n                                onChange={e => {\n                                    setPublicEmail(e.target.value); \n                                    setEdited(true);\n                                }}/>\n                            <Form.Text className=\"text-muted\">\n                            Public email to display on your profile.\n                            </Form.Text>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Phone Number\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"55%\"}} \n                            defaultValue={typeof(profile[0]) !== 'undefined' ? profile[0].phone : null} \n                            onChange={e => {\n                                setPhone(e.target.value);\n                                setEdited(true);\n                            }}/>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label>\n                            Edit Profile Picture\n                        </Form.Label>\n                    </Form.Row>\n\n                    <Form.Row className='justify-content-center'>\n                        {showEditPic \n                        ? <UploadProfilePicture \n                            stagePreview={stagePreview}\n                            stageImage={stageImage}\n                            stageCoords={stageCoords}\n                            x={x}\n                            y={y}\n                            r={r}\n                        />\n                        : <img src={typeof(images[0]) !== 'undefined'\n                            ? prefix + profileAvatar\n                            : ''} alt=\"Preview\"/>}\n                        \n                        {showDelete\n                            ? <Modal\n                                show={showDelete}\n                                onHide={() => setShowDelete(false)}\n                                backdrop=\"static\"\n                                keyboard={false}\n                                size=\"sm\"\n                                centered\n                                scrollable={false}\n                            >\n                            <Modal.Header closeButton>\n                            <Modal.Title>Modal title</Modal.Title>\n                            </Modal.Header>\n                                <Modal.Body>\n                                    <p>Are you sure you want to remove your current avatar?</p>\n                                </Modal.Body>\n                            <Modal.Footer>\n                                <Button variant=\"secondary\" onClick={() => setShowDelete(false)}>Cancel</Button>\n                                <Button variant=\"danger\" \n                                    onClick={() => {\n                                        setProfileAvatar('');\n                                        setProfilePic('');\n                                        setEdited(true);\n                                        setShowDelete(false);\n                                    }}>    \n                                OK</Button>\n                            </Modal.Footer>\n                            </Modal>\n                        :null}\n\n                        {!showEditPic\n                        ? <DropdownButton id=\"avatar-dropdown\" title=\"edit\" size=\"sm\">\n                            <Dropdown.Item eventKey=\"1\" \n                                onClick={() => {setShowEditPic(!showEditPic);setEdited(true);}}>\n                                Upload a photo...\n                            </Dropdown.Item>\n                            <Dropdown.Item eventKey=\"2\" onClick={() => setShowDelete(true)}>Remove Photo</Dropdown.Item>\n                        </DropdownButton>\n                        : null}\n                    </Form.Row>\n\n                    <br></br>\n                    <Form.Row className='mt-3'>\n                        <Form.Label>\n                            Edit Font\n                        </Form.Label>\n                    </Form.Row>\n                    <Dropdown id=\"collapsible-nav-dropdown\">\n                        <Dropdown.Toggle className=\"bg-transparent text-dark\" id=\"dropdown-custom-components\">\n                        Your font: <b style={{\n                            fontFamily: font\n                        }}>{!font ? \"Arial\" : font}</b>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item active={(font === \"Arial\") ? true : false} onSelect={e => {setFont(\"Arial\");setEdited(true);}} style={{fontFamily: \"Arial\"}}>Arial</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Times New Roman\") ? true : false} onSelect={e => {setFont(\"Times New Roman\");setEdited(true);}} style={{fontFamily: \"Times New Roman\"}}>Times New Roman</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Helvetica\") ? true : false} onSelect={e => {setFont(\"Helvetica\");setEdited(true);}} style={{fontFamily: \"Helvetica\"}}>Helvetica</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Lucida Console\") ? true : false} onSelect={e => {setFont(\"Lucida Console\");setEdited(true);}} style={{fontFamily: \"Lucida Console\"}}>Lucida Console</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Georgia\") ? true : false} onSelect={e => {setFont(\"Georgia\");setEdited(true);}} style={{fontFamily: \"Georgia\"}}>Georgia</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Garamond\") ? true : false} onSelect={e => {setFont(\"Garamond\");setEdited(true);}} style={{fontFamily: \"Garamond\"}}>Garamond</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Verdana\") ? true : false} onSelect={e => {setFont(\"Verdana\");setEdited(true);}} style={{fontFamily: \"Verdana\"}}>Verdana</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Courier New\") ? true : false} onSelect={e => {setFont(\"Courier New\");setEdited(true);}} style={{fontFamily: \"Courier New\"}}>Courier New</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Monaco\") ? true : false} onSelect={e => {setFont(\"Monaco\");setEdited(true);}} style={{fontFamily: \"Monaco\"}}>Monaco</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Brush Script MT\") ? true : false} onSelect={e => {setFont(\"Brush Script MT\");setEdited(true);}} style={{fontFamily: \"Brush Script MT\"}}>Brush Script MT</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Lucida Handwriting\") ? true : false} onSelect={e => {setFont(\"Lucida Handwriting\");setEdited(true);}} style={{fontFamily: \"Lucida Handwriting\"}}>Lucida Handwriting</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Copperplate\") ? true : false} onSelect={e => {setFont(\"Copperplate\");setEdited(true);}} style={{fontFamily: \"Copperplate\"}}>Copperplate</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n\n                    <br></br>\n                    <Dropdown id=\"collapsible-nav-dropdown\">\n                        <Dropdown.Toggle className=\"bg-transparent text-dark\" id=\"dropdown-custom-components\">\n                        Font size: <b style={{fontFamily: font, fontSize: size}}>\n                        {size === \"75%\" ? \"Small Text\" : null}\n                        {size === \"100%\" ? \"Medium Text\" : null}\n                        {size === \"125%\" ? \"Large Text\" : null}</b>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item active={(size === \"75%\") ? true : false} onSelect={e => {setSize(\"75%\");setEdited(true);}} style={{fontSize: '75%'}}>Small text</Dropdown.Item>\n                            <Dropdown.Item active={(size === \"100%\") ? true : false} onSelect={e => {setSize(\"100%\");setEdited(true);}} style={{fontSize: '100%'}}>Normal Text</Dropdown.Item>\n                            <Dropdown.Item active={(size === \"125%\") ? true : false} onSelect={e => {setSize(\"125%\");setEdited(true);}} style={{fontSize: '125%'}}>Large Text</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n\n                    <Button variant=\"success\" type=\"submit\" className=\"mt-5\">Save Changes</Button>\n\n                </Form>\n            </Modal.Body>\n        </Modal>\n            {(user !== null && typeof user !== 'undefined')\n            ? \n            <div className='home-container'>\n                <div className=\"mt-3 ml-2 mr-4\">\n                {typeof(images[0]) !== 'undefined' && images[0].base64preview.data.length > 0\n                 ? <img src={prefix + `${binaryToBase64(images[0].base64preview.data)}`}  alt=\"Preview\"/>\n                 : null}\n                </div> \n\n\n                <div className=\"mt-4 ml-4\">\n                    <h3><b>{user.fullname}</b></h3>\n                    \n                    <p>\n                        {typeof(profile[0]) !== 'undefined' && profile[0].current_occupation\n                        ? <b>{profile[0].current_occupation}</b>\n                        : null}\n                        {typeof(profile[0]) !== 'undefined' && profile[0].current_organization\n                            ? <> at {profile[0].current_organization}</>\n                            : null}\n                    </p>\n\n                    {info !== null && info.location !== null\n                    ? <div className=\"row ml-1\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-geo-alt-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>\n                        </svg>\n                        <FormatTextarea text={info.location === \"\" ? '' : info.location}/>\n                        </div>\n                    : null}\n                    \n                    {info !== null && info.public_email !== null\n                    ?<div className=\"row ml-1 mt-3\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z\"/>\n                        </svg>\n                        {info.public_email}\n                        </div>\n                    : null}\n                    \n\n                    {info !== null && info.phone !== null \n                    ? <div className=\"row ml-1 mt-3\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-telephone-fill\" viewBox=\"0 0 16 16\">\n                        <path fillRule=\"evenodd\" d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\n                        </svg>\n                        {info.phone}\n                    </div>\n                    : null}\n                </div>\n\n                <br></br>\n            </div> \n\n            : null}\n\n        </div>\n    )\n}","import React from 'react';\n\nconst Switch = ({ isOn, handleToggle, type }) => {\n  if(type === \"register\"){\n    return(\n        <>\n          <input\n            checked={isOn}\n            onChange={handleToggle}\n            className=\"register-switch-checkbox\"\n            id={`register-switch-new`}\n            type=\"checkbox\"\n          />\n            <label\n            style={{ background: isOn && '#06D6A0' }}\n            className=\"register-switch-label\"\n            htmlFor={`register-switch-new`}\n            >\n            <span className={`register-switch-button`} />\n          </label>\n        </>\n    );\n  } else{\n    return (\n      <>\n        <input\n          checked={isOn}\n          onChange={handleToggle}\n          className=\"react-switch-checkbox\"\n          id={`react-switch-new`}\n          type=\"checkbox\"\n        />\n          <label\n          style={{ background: isOn && '#06D6A0' }}\n          className=\"react-switch-label\"\n          htmlFor={`react-switch-new`}\n          >\n          <span className={`react-switch-button`} />\n        </label>\n      </>\n    );\n  }\n  \n};\n\nexport default Switch;","import { useEffect, useState } from 'react';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { Modal, Button, Form, Col } from 'react-bootstrap';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport Switch  from '../components/switch';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\nexport const About = props => {\n    //console.log(\"About Recieved Parent Props: \", props);\n    \n    // User Data\n    const info = (props.data.about !== null) ? props.data.about : props.location.state.about;\n    const user = (props.location.state.user !== null) ? props.location.state.user : props.data.user;\n    const hobbiesData = (props.data.hobbies !== null) ? props.data.hobbies : props.location.state.hobbies;\n    const images = (props.data.images !== null) ? props.data.images : props.location.state.images;\n    const skillsData = (props.data.skills !== null) ? props.data.skills : props.location.state.skills;\n\n    // Hooks used to keep track of current edits\n    const [show, setShow] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false); \n\n    const [reordered, setReordered] = useState(false);\n    const [changingOrder, setChangingOrder] = useState(false);\n\n    const [location, setLocation] = useState((info !== null && info.location !== null) ? info.location : null);\n    const [bio, setBio] = useState((info !== null && info.bio !== null) ? info.bio : null);\n    const [hobbies, setHobbies] = useState({values: hobbiesData});\n    const [skills, setSkills] = useState({values: skillsData});\n\n    const [validated, setValidated] = useState(false);\n    const [errs, setErrs] = useState({}); \n    \n    const [duplicateSkill, setDuplicateSkill] = useState({});\n    const [duplicateHobby, setDuplicateHobby] = useState({});\n\n\n    // Hooks used to format final onClick data for POST request\n    \n    const [skillsToDelete, setSkillToDelete] = useState([]);\n    const [hobbiesToDelete, setHobbyToDelete] = useState([]);\n\n    // After successful post request, profile.jsx updates state with new data\n    // New data passed to hobbiesData/skillsData, and is copied into hobbies/skills hooks\n    // where data can be manipulated by user\n    useEffect(() => {\n        setHobbies({values: hobbiesData});\n        setSkills({values: skillsData});\n        setHobbyToDelete([]);\n        setSkillToDelete([]);\n        setValidated(false);\n        setErrs({});\n        setDuplicateSkill({});\n        setDuplicateHobby({});\n    }, [hobbiesData, skillsData]);\n\n    // Toggle Modal\n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited){\n            setShowAlert(true);\n        } else{\n            setHobbies({values: hobbiesData});\n            setSkills({values: skillsData});\n            setDuplicateSkill({});\n            setDuplicateHobby({});\n            setChangingOrder(false);\n            setShow(false);    \n        }\n    }\n\n    // Replace state with original data\n    const discardChanges = () => {\n        setLocation((info !== null && info.location !== null) ? info.location : null);\n        setBio((info !== null && info.bio !== null) ? info.bio : null);\n        setHobbies({values: hobbiesData});\n        setSkills({values: skillsData});\n        setHobbyToDelete([]);\n        setSkillToDelete([]);\n        setChangingOrder(false);\n        setReordered(false);\n        setErrs({});\n        setDuplicateSkill({});\n        setDuplicateHobby({});\n    }\n\n\n    // ----------- [BEGIN] Hobby Handlers -------------------\n    const renderHobbiesForm = () => {\n        return (\n            <Form.Group controlId=\"validationCustom02\">\n            {hobbies.values.map((row, idx) =>\n                <Form.Row className='mb-4 ml-3 mr-3' key={idx}>\n                    <Form.Control \n                        required\n                        style={{textAlign: \"left\", width: \"70%\"}}\n                        isInvalid={(errs[\"hobby\"] && row.hobby === \"\") || (typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined' && row.hobby !== \"\")}\n                        type=\"text\" \n                        value={row.hobby} \n                        placeholder={\"Enter Hobby\"} \n                        onChange={e => {\n                            handleHobbyChange(e, idx);\n                    }}/>\n                    <Button \n                        variant=\"outline-danger\" \n                        size=\"sm\"\n                        onClick={() => removeHobby(idx)}    \n                    >Delete</Button>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errs[\"hobby\"] && row.hobby === \"\"\n                            ? \"Please provide a hobby.\"\n                            : null}\n                        {typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined' && row.hobby !== \"\"\n                            ? \"Duplicate hobbies are not allowed.\"\n                            : null\n                        }\n                    </Form.Control.Feedback>\n                </Form.Row>\n            )}\n            </Form.Group>\n        )\n    }\n    const handleHobbyChange = (event, idx) => {\n        let tmpHobbies = [...hobbies.values];\n        tmpHobbies[idx] = {\n            hobby_id: hobbies.values[idx].hobby_id, \n            uid: hobbies.values[idx].uid ,\n            hobby: event.target.value\n        };\n        if((typeof(tmpHobbies[idx].hobby_id) !== 'undefined')\n        && !(typeof(tmpHobbies[idx].toUpdate) !== 'undefined')){\n            tmpHobbies[idx].toUpdate = true;\n        }\n        if((hobbies.values.some(e => e.hobby === event.target.value))){\n            setDuplicateHobby({...duplicateHobby, [\"Idx\"+idx]: true});\n        }\n        else if(!(hobbies.values.some(e => e.hobby === event.target.value)) && typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateHobby[\"Idx\"+idx];\n        }\n        setHobbies({values: tmpHobbies});\n        setEdited(true);\n    }\n    const addHobby = () => {\n        setHobbies({values: \n            [\n                ...hobbies.values, \n                {hobby: ''}\n            ]\n        });\n    }\n    const removeHobby = (idx) => {\n        let tmpHobbies = [...hobbies.values];\n        // Trying to delete hobby with an existing ID? => stage hobby to be deleted\n        if(typeof(tmpHobbies[idx].hobby_id) !== 'undefined'){\n            setHobbyToDelete(\n                [\n                    ...hobbiesToDelete,\n                    {hobby_id: tmpHobbies[idx].hobby_id}\n                ]);\n        }\n        tmpHobbies.splice(idx, 1);\n        setHobbies({values: tmpHobbies});\n        setEdited(true);\n    }\n\n\n    // ----------- [BEGIN] Skill Handlers ------------------- \n\n    const renderSkillsForm = () => {\n        return (\n            <Form.Group controlId=\"validationCustom01\">\n             {skills.values.map((row, idx) =>\n                <Form.Row className='mb-4 ml-3 mr-3' key={idx}>\n                    <Form.Control \n                            required\n                            style={{textAlign: \"left\", width: \"70%\"}}\n                            isInvalid={(errs[\"skill\"] && row.skill === \"\") || (typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined' && row.skill !== \"\")}\n                            type=\"text\" \n                            value={row.skill} \n                            placeholder={\"Enter skill\"} \n                            onChange={e => {\n                                handleSkillChange(e, idx);\n                        }}/>\n                    <Button \n                        variant=\"outline-danger\" \n                        size=\"sm\"\n                        onClick={() => removeSkill(idx)}    \n                    >Delete</Button>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {(errs[\"skill\"] && row.skill === \"\")\n                            ? \"Please provide a skill.\"\n                            : null}\n                        {typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined' && row.skill !== \"\"\n                            ? \"Duplicate skills are not allowed.\"\n                            : null\n                        }\n                    </Form.Control.Feedback>\n                </Form.Row>\n            )}\n            </Form.Group>\n        )\n    }\n    const handleSkillChange = (event, idx) => {\n        let tmpSkills = [...skills.values];\n        tmpSkills[idx] = {\n            skill_id: skills.values[idx].skill_id, \n            uid: skills.values[idx].uid ,\n            skill: event.target.value\n        };\n        if((typeof(tmpSkills[idx].skill_id) !== 'undefined')\n        && !(typeof(tmpSkills[idx].toUpdate) !== 'undefined')){\n            tmpSkills[idx].toUpdate = true;\n        }\n        if(skills.values.some(e => e.skill === event.target.value)){\n            setDuplicateSkill({...duplicateSkill, [\"Idx\"+idx] : true});\n        }\n        else if(!(skills.values.some(e => e.skill === event.target.value)) && typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateSkill[\"Idx\"+idx];\n        }\n        setSkills({values: tmpSkills});\n        setEdited(true);\n    }\n    const addSkill = () => {\n        setSkills({values: \n            [\n                ...skills.values,\n                {skill: ''}\n            ]\n        });\n    }\n    const removeSkill = (idx) => {\n        let tmpSkills = [...skills.values];\n        // Trying to delete skill with an existing ID? => stage skill to be deleted\n        if(typeof(tmpSkills[idx].skill_id) !== 'undefined'){\n            setSkillToDelete( \n                [\n                    ...skillsToDelete, \n                    {skill_id: tmpSkills[idx].skill_id}\n                ]);\n        } \n        tmpSkills.splice(idx, 1);\n        setSkills({values: tmpSkills});\n        setEdited(true);\n    }\n\n    // ----------- [END] Skill Handlers -------------------\n    function handleOnDragEnd(result) {\n        console.log(result)\n      if (!result.destination) return;\n\n      // Sorting in same list\n      if(result.source.droppableId === result.destination.droppableId){\n        if(result.source.droppableId === \"hobbies\"){\n            const items = Array.from(hobbies.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setHobbies({values: items});\n        } else if(result.source.droppableId === \"skills\"){\n            const items = Array.from(skills.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setSkills({values: items});\n        }\n\n      } else{\n          console.log(\"No sorting between lists!\");\n          return;\n      }\n    }\n    \n    const ChangeOrder = () => {\n        return (\n            <Form.Row className=\"text-center\">\n            <DragDropContext \n                onDragEnd={handleOnDragEnd}\n            >\n            <Col>\n                <Droppable droppableId=\"hobbies\">\n                {(provided) => (\n                    <div {...provided.droppableProps} ref={provided.innerRef}>\n                        {hobbies.values.map((row, idx) => {\n                            return (\n                                <Draggable key={idx} draggableId={row.hobby} index={idx}>\n                                    {(provided) => (\n                                    \n                                        <div \n                                        className='draggable-container mb-4 ml-3 mr-3' \n                                        ref={provided.innerRef} \n                                        {...provided.draggableProps} \n                                        {...provided.dragHandleProps}>\n\n                                        {row.hobby\n                                            ? row.hobby\n                                            : null}\n                                        </div>\n                                    )}\n                                </Draggable>\n                            );\n                        })}\n                        {provided.placeholder}\n                    </div>\n                )}\n                </Droppable>\n            </Col>\n            <Col>\n                <Droppable droppableId=\"skills\">\n                {(provided) => (\n                    <div {...provided.droppableProps} ref={provided.innerRef}>\n                        {skills.values.map((row, idx) => {\n                            return (\n                                <Draggable key={idx} draggableId={row.skill} index={idx}>\n                                    {(provided) => (\n                                    \n                                        <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                        {row.skill\n                                            ? row.skill\n                                            : null}\n                                        </div>\n                                    )}\n                                </Draggable>\n                            );\n                        })}\n                        {provided.placeholder}\n                    </div>\n                )}\n                </Droppable>\n            </Col>\n            </DragDropContext>\n        </Form.Row>\n        );\n    }\n\n    const validate = () => {\n        let isValidated = true;\n        let errors = {};\n        hobbies.values.forEach((row, idx) => {\n            if(!(typeof(row.hobby_id) !== 'undefined') && (row.hobby === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"hobby\"] = true;\n            }\n            if(typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        skills.values.forEach((row, idx) => {\n            if(!(typeof(row.skill_id) !== 'undefined') && (row.skill === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"skill\"] = true;\n            }\n            if(typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        setErrs(errors);\n        return isValidated;\n    }\n\n    // Format edit hooks to be sent in POST request\n    const handleSave = async(event) => {\n        if(!validate()){\n            event.preventDefault();\n            event.stopPropagation();\n        } else{\n        \n        // Location\n        let locationToUpdate = [];\n        let bioToUpdate = [];\n        var hobbiesToCreate = [];\n        var hobbiesToUpdate = [];\n        var skillsToCreate = [];\n        var skillsToUpdate = [];\n        \n        if((!info && location) || (info !== null && info.location !== location)){\n            //console.log(`Set location update from: ${info.location} to: ${location}`);\n            locationToUpdate.push(location);\n        }\n\n        // Bio\n        // Need a better check for creates\n        if((!info && bio) || (info !== null &&  info.bio !== bio)){\n            //console.log(`Set bio update from: ${info.bio} to: ${bio}`);\n            bioToUpdate.push(bio);\n        }\n\n        // Hobbies: \n        // No ID? => CREATE new hobby\n        // Existing ID? => UPDATE existing hobby\n        hobbies.values.forEach((row, idx) => {\n            //console.log(`Row: ${row.hobby}, IDX: ${idx}`);\n            if( !(typeof(row.hobby_id) !== 'undefined')){\n                if(row.hobby === ''){\n                    console.log('A hobby is required to create!');\n                } else{\n                    hobbiesToCreate.push({\n                        hobby: row.hobby,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                if(row.hobby === ''){\n                    console.log('A hobby is required to update!');\n                } else{\n                    hobbiesToUpdate.push({\n                        hobby_id: row.hobby_id,\n                        hobby: row.hobby,\n                        rowIdx: idx\n                    })\n                }\n            }\n        })\n        // Skills: \n        // No ID? => CREATE new skill\n        // Existing ID? => UPDATE existing skill\n        skills.values.forEach((row, idx) => {\n            //console.log(`Row: ${row.skill}, IDX: ${idx}`);\n            if( !(typeof(row.skill_id) !== 'undefined')){\n                if(row.skill === ''){\n                    console.log(\"A skill is required to create!\");\n                } else{\n                    skillsToCreate.push({\n                        skill: row.skill,\n                        rowIdx: idx\n                    })\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                if(row.skill === ''){\n                    console.log(\"A skill is required to updated!\");\n                } else{\n                    skillsToUpdate.push({\n                        skill_id: row.skill_id,\n                        skill: row.skill,\n                        rowIdx: idx\n                    })\n                }\n            }\n        })\n        \n        console.log(\"Location to Update:\", locationToUpdate);\n        console.log(\"Bio to Update:\", bioToUpdate);\n        console.log(\"Hobbies to Create\", hobbiesToCreate);\n        console.log(\"Hobbies to Update:\", hobbiesToUpdate);\n        console.log(\"Hobbies to Delete:\", hobbiesToDelete);\n        console.log(\"Skills to Create:\", skillsToCreate);\n        console.log(\"Skills to Update:\", skillsToUpdate);\n        console.log(\"Skills to Delete:\", skillsToDelete);\n        \n        \n        // Begin POST requests\n\n        const updateLocation = async() => {\n            await props.updateLocation(locationToUpdate[0], user.user_id);\n        }\n        if(locationToUpdate.length) await updateLocation();\n\n        const updateBio = async() => {\n            await props.updateBio(bioToUpdate[0], user.user_id)\n        }\n        if(bioToUpdate.length) await updateBio();\n\n        const createHobbies = async() => {\n            for await (let hobbyToCreate of hobbiesToCreate){\n                await props.createHobby(user.user_id, hobbyToCreate.hobby, hobbyToCreate.rowIdx);\n            }\n        }\n        if(hobbiesToCreate.length) await createHobbies();\n\n        const updateHobbies = async() => {\n            for await(let hobbyToUpdate of hobbiesToUpdate){\n                await props.updateHobby(hobbyToUpdate.hobby_id, hobbyToUpdate.hobby, user.user_id, hobbyToUpdate.rowIdx)\n            }\n        }\n        if(hobbiesToUpdate.length) await updateHobbies();\n\n        const createSkills = async() => {\n            for await (let skillToCreate of skillsToCreate){\n                await props.createSkill(user.user_id, skillToCreate.skill, skillToCreate.rowIdx);\n            }\n        }\n        if(skillsToCreate.length) await createSkills();\n\n        const updateSkills = async() => {\n            for await (let skillToUpdate of skillsToUpdate){\n                await props.updateSkill(skillToUpdate.skill_id, skillToUpdate.skill, user.user_id, skillToUpdate.rowIdx);\n            }\n        }\n        if(skillsToUpdate.length) await updateSkills();\n\n        const reorder = async() => {\n            hobbies.values.forEach(async (row, rowIdx) => {\n                await props.updateHobby(row.hobby_id, row.hobby, user.user_id, rowIdx);\n            })\n            skills.values.forEach(async (row, rowIdx) => {\n                await props.updateSkill(row.skill_id, row.skill, user.user_id, rowIdx);\n            })\n        }\n        if(reordered) await reorder();\n\n        const deleteSkills = async() => {\n            for await (let skillToDelete of skillsToDelete){\n                await props.deleteSkill(skillToDelete.skill_id);\n            }\n        }\n        if(skillsToDelete.length) await deleteSkills();\n\n        const deleteHobbies = async() => {\n            for await (let hobbyToDelete of hobbiesToDelete){\n                await props.deleteHobby(hobbyToDelete.hobby_id);\n            }\n        }\n        if(hobbiesToDelete.length) await deleteHobbies();\n       \n\n        window.location.reload();\n        }\n    };\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n    function binaryToBase64(data){\n        var image = btoa(new Uint8Array(data).reduce(function (tmp, byte) {\n            return tmp + String.fromCharCode(byte);\n        }, ''));\n        return image;\n    }\n\n    return(\n        <div className=\"tab-container\">\n        {props.data.ownedByUser \n        ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button>\n        : null}\n        <h3>About</h3>\n        <hr color=\"black\"/>\n        \n\n        <Modal\n            show={show}\n            onHide={handleClose}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"lg\"\n            centered\n            scrollable={false}\n        >\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    Edit\n                    <AlertDismissible\n                        setShow={setShow}\n                        setEdited={setEdited}\n                        setShowAlert={setShowAlert}\n                        showAlert={showAlert}\n                        handleSave={handleSave}\n                        discardChanges={discardChanges}\n                    />\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form noValidate validated={validated} onSubmit={handleSave}>\n                    \n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Location\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign: \"left\"}}\n                            className=\"form-control\" \n                            id=\"location\" \n                            defaultValue={(info !== null && info.location !== null) \n                                ? info.location\n                                : ''} \n                            onChange={e => \n                                {setLocation(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Bio\n                        </Form.Label>\n                            <textarea \n                                className=\"form-control\" \n                                rows=\"5\" \n                                id=\"bio\" \n                                defaultValue={(info !== null && info.bio !== null) \n                                    ? info.bio.replace(/\\\\n/g, '\\n')\n                                    : null} \n                                onChange={e => {\n                                    setBio(e.target.value); \n                                    setEdited(true);\n                                }}/>\n                    </Form.Row>\n                    <Form.Group className=\"mt-4\">\n                        {(hobbiesData.length > 1 || skillsData.length > 1)\n                        ? <>\n                        <label>Change Order</label>\n                            <Switch\n                                isOn={changingOrder}\n                                handleToggle={() => {\n                                    if(!validate()){\n                                        console.log(\"Please address errs\");\n                                    } else{\n                                        setChangingOrder(!changingOrder);\n                                    }\n                                }}\n                            />\n                            </>\n                        : null}\n                    </Form.Group>\n\n                    <Form.Row className=\"text-center\">\n                        <Col>\n                            <Form.Label className='text-center'>\n                                <h4>Hobbies</h4>\n                            </Form.Label > <br></br>\n\n                            {changingOrder ? null : renderHobbiesForm()}\n                            \n                            {hobbies.values.length < 6 && !changingOrder\n                                ? <Button \n                                    onClick={() => addHobby()} \n                                    variant=\"outline-success\" \n                                    size=\"sm\"    \n                                >Add Hobby</Button>\n                                : null }\n                                \n                        </Col> \n                        <Col>\n                            <Form.Label className='text-center'>\n                                <h4>Skills</h4>\n                            </Form.Label > <br></br>\n\n                            {changingOrder ? null : renderSkillsForm()}\n\n                            {skills.values.length < 6 && !changingOrder\n                            ? <Button \n                                onClick={() => addSkill()} \n                                variant=\"outline-success\" \n                                size=\"sm\"    \n                            >Add Skill</Button>\n                            : null }\n                        </Col>\n                    </Form.Row>\n\n                    {changingOrder \n                        ? <ChangeOrder></ChangeOrder>\n                        : null}\n\n                    <Button variant=\"success\" type=\"submit\" className=\"mt-5\">Save Changes</Button>\n\n                </Form>             \n            </Modal.Body>\n            <Modal.Footer>\n            \n            </Modal.Footer>\n        </Modal>\n\n        <div className=\"about-container\">\n            <div>\n            {typeof(images[0]) !== 'undefined' && images[0].base64preview.data.length > 0\n                 ? <img src={images[0].prefix + `${binaryToBase64(images[0].base64preview.data)}`}  alt=\"Preview\"/>\n                 : null}\n            </div>\n\n            <div className=\"col ml-1\">\n\n                {info !== null && info.location !== null\n                ? <div className=\"d-flex flex-row mr-4 mb-2\">\n                    <div>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" className=\"align-self-center mr-3 bi bi-geo-alt-fill\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>\n                    </svg>\n                    </div>\n                    <div className=\"d-flex flex-column\">\n                        <FormatTextarea text={info.location}/>\n                    </div>\n                    </div>\n                : null}\n\n\n                {info !== null && info.bio !== null\n                ? <div className=\"d-flex flex-row mr-4\">\n                    <div>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" className=\"align-self-center mr-3 bi bi-person-lines-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\n                        </svg>\n                    </div>\n                    <div className=\"d-flex flex-column\">\n                        <FormatTextarea text={info.bio}/>\n                    </div>\n                </div>\n                : null}\n                \n                <hr className='float-left' style={{width: '95%'}}/><br/>\n\n                <div className=\"user-container row\" style={{width: '95%'}}>\n                    <div className='d-flex flex-column mx-auto'>\n                        <h4><b>Hobbies:</b></h4>\n                        {hobbiesData\n                        ? hobbiesData.map((row, idx) => \n                            <Button className=\"my-1 noHover\" style={{backgroundColor: '#45d2bce9', border: 'none'}} key={idx}>\n                                {row.hobby}\n                            </Button>\n                        ) \n                        : null}\n                    </div>\n                    \n                    <div className='d-flex flex-column mx-auto'>\n                    <h4><b>Skills:</b></h4>\n                    {skillsData \n                    ? skillsData.map((row, idx) => \n                        <Button className=\"my-1 noHover\" style={{backgroundColor: '#45d2bce9', border: 'none'}} key={idx}>\n                            {row.skill}\n                        </Button>\n                    ) \n                    : null}\n                    </div>\n                </div>\n            </div>\n        </div>\n\n\n    </div>\n    );\n}","import { Modal, Button } from 'react-bootstrap';\n\nexport const AreYouSure = (props) => {\n    console.log(\"AreYouSure recieved props:\", props)\n    return(\n        <Modal\n            show={props.showDelete}\n            onHide={() => props.setShowDelete(false)}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"sm\"\n            centered\n            scrollable={false}\n            >\n            <Modal.Header closeButton>\n            <Modal.Title>Modal title</Modal.Title>\n            </Modal.Header>\n                <Modal.Body>\n                    <p>Are you sure you want to remove this {props.requestedDelete}?</p>\n                </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" \n                    onClick={() => {\n                        props.setRequestedDelete('');   \n                        props.setRequestedDeleteIdx(null);\n                        props.setShowDelete(false);\n                    }}>Cancel</Button>\n                <Button variant=\"danger\" \n                    onClick={() => {\n                        if(props.requestedDelete === 'project')\n                            props.deleteProject(props.idx);\n                        else if(props.requestedDelete === 'work experience')\n                            props.deleteWork(props.idx)\n                        else if(props.requestedDelete === 'education')\n                            props.deleteEdu(props.idx)\n                        props.setEdited(true);\n                        props.setShowDelete(false);\n                        props.setRequestedDelete('');   \n                        props.setRequestedDeleteIdx(null);                 \n                    }}>\n                OK</Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}","import { useEffect, useState } from 'react';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { Nav, Tab, Modal, Button, Form, Row, Col, Badge } from 'react-bootstrap';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { AreYouSure } from '../components/AreYouSure';\nimport Switch  from '../components/switch';\nimport DatePicker from 'react-datepicker'\n\nexport const Portfolio = props => {\n    //console.log(\"Portfolio Recieved Props: \", props);\n    // Data passed down from Profile through the parent state\n    const user = props.location.state.user;\n    const portfolioData = (props.data.portfolio !== null) ? props.data.portfolio: props.location.state.portfolio;\n    const educationData = (props.data.education !== null) ? props.data.education : props.location.state.education;\n    const projectsData = (props.data.projects !== null) ? props.data.projects : props.location.state.projects;\n\n    // Display Toggles\n    const [show, setShow] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false); \n    const [showDelete, setShowDelete] = useState(false);\n    const [requestedDelete, setRequestedDelete] = useState('');\n    const [requestedDeleteIdx, setRequestedDeleteIdx] = useState(null);\n\n    const [reordered, setReordered] = useState(false);\n    const [changingOrder, setChangingOrder] = useState(false);\n\n    const [validated, setValidated] = useState(false);\n    const [errs, setErrs] = useState({\"project\": {}, \"portfolio\": {}, \"education\": {}}); \n\n    const [duplicateProject, setDuplicateProject] = useState({});\n    const [duplicateWork, setDuplicateWork] = useState({});\n    const [duplicateEducation, setDuplicateEducation] = useState({});\n    \n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited) setShowAlert(true);\n        else{\n            setChangingOrder(false);\n            setShow(false);\n            setProjects({values: projectsData});\n            setPortfolio({values: portfolioData});\n            setEducation({values: educationData});\n            setValidated(false);\n            setErrs({\"project\": {}, \"portfolio\": {}, \"education\": {}});\n            setDuplicateProject({});\n            setDuplicateWork({});\n            setDuplicateEducation({});\n            setRequestedDelete('');\n        }\n    }\n\n    // Replace state with original data\n    const discardChanges = () => {\n        setProjects({values: projectsData});\n        setPortfolio({values: portfolioData});\n        setEducation({values: educationData});\n        setProjectsToDelete([]);\n        setWorkExperienceToDelete([]);\n        setEducationToDelete([]);\n        setChangingOrder(false);\n        setReordered(false);\n        setValidated(false);\n        setErrs({\"project\": {}, \"portfolio\": {}, \"education\": {}});\n        setDuplicateProject({});\n        setDuplicateWork({});\n        setDuplicateEducation({});\n    }\n\n    // Data to be Modified\n    const [projects, setProjects] = useState({values: projectsData});\n    const [projectsToDelete, setProjectsToDelete] = useState([]);\n\n    const [portfolio, setPortfolio] = useState({values: portfolioData});\n    const [workExperienceToDelete, setWorkExperienceToDelete] = useState([]);\n\n    const [education, setEducation] = useState({values: educationData});\n    const [educationToDelete, setEducationToDelete] = useState([]);\n\n    // Upon successful POST response, props will change, so reset hooks\n    useEffect(() => {\n        setProjects({values: projectsData});\n        setProjectsToDelete([]);\n\n        setPortfolio({values: portfolioData});\n        setWorkExperienceToDelete([]);\n\n        setEducation({values: educationData});\n        setEducationToDelete([]);\n\n        setValidated(false);\n        setErrs({\"project\": {}, \"portfolio\": {}, \"education\": {}});\n\n        setDuplicateProject({});\n        setDuplicateWork({});\n        setDuplicateEducation({});\n    }, [props, projectsData, portfolioData, educationData])\n\n\n    // --------------- Begin Projects Event Handling --------------\n\n    const handleProjectTitleChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: event.target.value,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        // Delete empty-error if user fills out field\n        if((typeof(errs[\"project\"][\"Idx\"+idx]) !== 'undefined') \n        && (tmpProjects[idx].title !== \"\")){\n            delete errs[\"project\"][\"Idx\"+idx];\n        }\n        // New event is a duplicate? Add idx as duplicate\n        if(projects.values.some(e => e.title === event.target.value)){\n            setDuplicateProject({...duplicateProject, [\"Idx\"+idx]: true});\n        }\n        // No longer a duplicate? Delete from duplicates\n        else if(!(projects.values.some(e => e.title === event.target.value)) && typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined'){\n            if(typeof(errs[\"project\"][\"Idx\"+idx]) !== 'undefined'){\n                delete errs[\"project\"][\"Idx\"+idx];\n            }\n            console.log(\"Deleting dup project at idx:\", idx)\n            delete duplicateProject[\"Idx\"+idx];\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n    \n    const handleProjectDescriptionChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: event.target.value,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectOrganizationChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: event.target.value,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectStartChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            console.log(\"offset:\", offset)\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: newDate,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectFinishChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: newDate,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectLinkChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: event.target.value\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const addProject = () => {\n        setProjects({\n            values: [\n                ...projects.values, \n                {\n                    title: '',\n                    description: '',\n                    organization: '',\n                    from_when: \"infinity\",\n                    to_when: \"infinity\",\n                    link: ''\n                }\n            ]\n        });\n    }\n\n    const deleteProject = (idx) => {\n        let tmpProjects = [...projects.values];\n        let errors = {};\n        let duplicates = {}\n        if(typeof(tmpProjects[idx]) == 'undefined'){}\n        else if((typeof(tmpProjects[idx].project_id) !== 'undefined')){\n            setProjectsToDelete(\n                [\n                    ...projectsToDelete, \n                    {project_id: tmpProjects[idx].project_id}\n                ]);\n        }\n        tmpProjects.splice(idx, 1);\n        \n        // Indexes are shifted upon a delete, so we need to recalculate blanks, and/or duplicates\n        tmpProjects.forEach((row, newIdx) => {\n            if((row.title === \"\")){\n                errors[\"Idx\"+newIdx] = true;\n            } else{\n                tmpProjects.forEach((tmpRow, tmpIdx) => {\n                    if(tmpRow.title === row.title && tmpIdx !== newIdx){\n                        duplicates[\"Idx\"+tmpIdx] = true;\n                        duplicates[\"Idx\"+newIdx] = true;\n                    }\n                })\n            }\n        })\n\n        setErrs({\n            project: errors,\n            portfolio: {...errs[\"portfolio\"]},\n            education: {...errs[\"education\"]}\n        })\n        setDuplicateProject(duplicates)\n        console.log(\"New dups after delete:\", duplicates)\n        console.log(\"errors['project'] after delete:\", errors);\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    };\n    // -----------------------------------------------------\n    function handleOnDragEnd(result) {\n        console.log(result)\n      if (!result.destination) return;\n\n      // Sorting in same list\n      if(result.source.droppableId === result.destination.droppableId){\n        if(result.source.droppableId === \"projects\"){\n            const items = Array.from(projects.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setProjects({values: items});\n        } else if(result.source.droppableId === \"work-experience\"){\n            const items = Array.from(portfolio.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setPortfolio({values: items});\n        } else if(result.source.droppableId === \"education\"){\n            const items = Array.from(education.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setEducation({values: items});\n        }\n\n      } else{\n          console.log(\"No sorting between lists!\");\n          return;\n      }\n    }\n\n    \n    // --------------- Begin Portfolio Event Handling ------------\n\n    const handlePortfolioOccupationChange = (event, idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: event.target.value,\n            organization: portfolio.values[idx].organization,\n            from_when: portfolio.values[idx].from_when,\n            to_when: portfolio.values[idx].to_when,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        // Delete empty-error if user fills out field\n        if((typeof(errs[\"portfolio\"][\"Idx\"+idx]) !== 'undefined') \n        && (tmpPortfolio[idx].occupation !== \"\")){\n            delete errs[\"portfolio\"][\"Idx\"+idx];\n        }\n        // New event is a duplicate? Add idx as duplicate\n        if((portfolio.values.some(e => (e.occupation + e.organization) === (event.target.value + tmpPortfolio[idx].organization)))){\n            setDuplicateWork({...duplicateWork, [\"Idx\"+idx] : true});\n        }\n         // No longer a duplicate? Delete from duplicates\n        else if(!(portfolio.values.some(e => (e.occupation + e.organization) === event.target.value + tmpPortfolio[idx].organization)) && typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateWork[\"Idx\"+idx];\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioOrganizationChange = (event, idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: event.target.value,\n            from_when: portfolio.values[idx].from_when,\n            to_when: portfolio.values[idx].to_when,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        if((portfolio.values.some(e => (e.occupation + e.organization) === (tmpPortfolio[idx].occupation + event.target.value)))){\n            setDuplicateWork({...duplicateWork, [\"Idx\"+idx] : true});\n        }         \n        else if(!(portfolio.values.some(e => (e.occupation + e.organization) === tmpPortfolio[idx].occupation + event.target.value)) && typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateWork[\"Idx\"+idx];\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioStartChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: portfolio.values[idx].organization,\n            from_when: newDate,\n            to_when: portfolio.values[idx].to_when,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioFinishChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: portfolio.values[idx].organization,\n            from_when: portfolio.values[idx].from_when,\n            to_when: newDate,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioDescriptionChange = (event, idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: portfolio.values[idx].organization,\n            from_when: portfolio.values[idx].from_when,\n            to_when: portfolio.values[idx].to_when,\n            description: event.target.value\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const addWorkExperience = () => {\n        setPortfolio({\n            values: [\n                ...portfolio.values, \n                {\n                    occupation: '',\n                    organization: '',\n                    from_when: \"infinity\",\n                    to_when: \"infinity\",\n                    description: ''\n                }\n            ]\n        });\n    }\n\n    const deleteWorkExperience = (idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        let errors = {};\n        let duplicates = {};\n        if(typeof(tmpPortfolio[idx]) == 'undefined'){}\n        else if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')){\n            setWorkExperienceToDelete(\n                [\n                    ...workExperienceToDelete, \n                    {portfolio_id: tmpPortfolio[idx].portfolio_id}\n                ]);\n        }\n        tmpPortfolio.splice(idx, 1);\n\n        // Indexes are shifted upon a delete, so we need to recalculate blanks, and/or duplicates\n        tmpPortfolio.forEach((row, newIdx) => {\n            if(row.occupation === \"\"){\n                errors[\"Idx\"+newIdx] = true;\n            } else{\n                tmpPortfolio.forEach((tmpRow, tmpIdx) => {\n                    if((tmpRow.occupation + tmpRow.organization) === (row.occupation + row.organization) && tmpIdx !== newIdx){\n                        duplicates[\"Idx\"+tmpIdx] = true;\n                        duplicates[\"Idx\"+newIdx] = true;\n                    }\n                })\n            }\n        })\n\n        setErrs({\n            project: {...errs[\"project\"]},\n            portfolio: errors,\n            education: {...errs[\"education\"]}\n        })\n        setDuplicateWork(duplicates);\n        console.log(\"New dups after delete:\", duplicates)\n        console.log(\"errors['portfolio'] after delete:\", errors);\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n\n    // --------------- Begin Education Event Handling ------------\n\n    const handleEducationOrganizationChange = (event, idx) => {\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: event.target.value,\n            education: education.values[idx].education,\n            from_when: education.values[idx].from_when,\n            to_when: education.values[idx].to_when,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationChange = (event, idx) => {\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: event.target.value,\n            from_when: education.values[idx].from_when,\n            to_when: education.values[idx].to_when,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        // Delete empty-error if user fills out field\n        if((typeof(errs[\"education\"][\"Idx\"+idx]) !== 'undefined') \n        && (tmpEducation[idx].education !== \"\")){\n            delete errs[\"education\"][\"Idx\"+idx];\n        }\n        // New event is a duplicate? Add idx as duplicate\n        if((education.values.some(e => e.education === event.target.value))){\n            setDuplicateEducation({...duplicateEducation, [\"Idx\"+idx] : true});\n        }\n        // No longer a duplicate? Delete from duplicates\n        else if(!(education.values.some(e => e.education === event.target.value)) && typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateEducation[\"Idx\"+idx];\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationStartChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: education.values[idx].education,\n            from_when: newDate,\n            to_when: education.values[idx].to_when,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationFinishChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: education.values[idx].education,\n            from_when: education.values[idx].from_when,\n            to_when: newDate,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationDescriptionChange = (event, idx) => {\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: education.values[idx].education,\n            from_when: education.values[idx].from_when,\n            to_when: education.values[idx].to_when,\n            description: event.target.value\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    // Inserting null dates in psql is tricky -- instead use special value \"infinity\"\n    const addEducation = () => {\n        setEducation({\n            values: [\n                ...education.values, \n                {\n                    organization: '',\n                    education: '',\n                    from_when: \"infinity\",\n                    to_when: \"infinity\",\n                    description: ''\n                }\n            ]\n        });\n    }\n\n    const deleteEducation = (idx) => {\n        let tmpEducation = [...education.values];\n        let duplicates = {};\n        let errors = {};\n        if(typeof(tmpEducation[idx]) == 'undefined'){\n            \n        }\n        else if((typeof(tmpEducation[idx].education_id) !== 'undefined')){\n            setEducationToDelete(\n                [\n                    ...educationToDelete, \n                    {education_id: tmpEducation[idx].education_id}\n                ]);\n        }\n        tmpEducation.splice(idx, 1);\n\n        tmpEducation.forEach((row, newIdx) => {\n            if(row.education === \"\"){\n                errors[\"Idx\"+idx] = true;\n            } else{\n                tmpEducation.forEach((tmpRow, tmpIdx) => {\n                    if(tmpRow.education === row.education && tmpIdx !== newIdx){\n                        duplicates[\"Idx\"+tmpIdx] = true;\n                        duplicates[\"Idx\"+newIdx] = true;\n                    }\n                })\n            }\n        })\n        setErrs({\n            project: {...errs[\"project\"]},\n            portfolio: {...errs[\"portfolio\"]},\n            education: errors\n        })\n        setDuplicateEducation(duplicates);\n        console.log(\"New dups after delete:\", duplicates)\n        console.log(\"errors['project'] after delete:\", errors);\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n\n    // --------------- End Education Event Handling --------------\n\n    const validate = () => {\n        let isValidated = true;\n        setErrs({});\n        let errors = {};\n        errors[\"project\"] = {};\n        errors[\"portfolio\"] = {};\n        errors[\"education\"] = {};\n        projects.values.forEach((row, idx) => {\n            if((row.title === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"project\"][\"Idx\"+idx] = true;\n            }\n            if(typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        portfolio.values.forEach((row, idx) => {\n            if((row.occupation === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"portfolio\"][\"Idx\"+idx] = true;\n            }\n            if(typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        education.values.forEach((row, idx) => {\n            if((row.education === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"education\"][\"Idx\"+idx] = true;\n            }\n            if(typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n\n        console.log(\"errors['project'] in validate():\", errors[\"project\"]);\n        console.log(\"duplicate projects in validate():\", duplicateProject);\n        setErrs(errors);\n        return isValidated;\n    }\n\n    const handleSave = async(event) => {\n        if(!validate()){\n            event.preventDefault();\n            event.stopPropagation();\n        } else{\n\n        var projectsToCreate = [];\n        var projectsToUpdate = [];\n        var workExperienceToCreate = [];\n        var workExperienceToUpdate = [];\n        var educationToCreate = [];\n        var educationToUpdate = [];\n\n        // Determine what needs to be created vs. updated\n        projects.values.forEach((row, idx) => {\n            \n            if(!(typeof(row.project_id) !== 'undefined')){\n                if(row.title === ''){\n                    console.log(\"A title is required in order to create!\");\n                } else {\n                    projectsToCreate.push({\n                        title: row.title,\n                        description: row.description,\n                        organization: row.organization,\n                        from_when: row.from_when,\n                        to_when: row.to_when,\n                        link: row.link,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                projectsToUpdate.push({\n                    project_id: row.project_id,\n                    title: row.title,\n                    description: row.description,\n                    organization: row.organization,\n                    from_when: row.from_when,\n                    to_when: row.to_when,\n                    link: row.link,\n                    rowIdx: idx\n                })\n            }\n        })\n        portfolio.values.forEach((row, idx) => {\n            if(!(typeof(row.portfolio_id) !== 'undefined')){\n                if(row.occupation === ''){\n                    console.log(\"An occupation is required in order to create!\");\n                } else {\n                    workExperienceToCreate.push({\n                        occupation: row.occupation,\n                        organization: row.organization,\n                        from_when: row.from_when,\n                        to_when: row.to_when,\n                        description: row.description,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                workExperienceToUpdate.push({\n                    portfolio_id: row.portfolio_id,\n                    occupation: row.occupation,\n                    organization: row.organization,\n                    from_when: row.from_when,\n                    to_when: row.to_when,\n                    description: row.description,\n                    rowIdx: idx\n                })\n            }\n        })\n        education.values.forEach((row, idx) => {\n            if(!(typeof(row.education_id) !== 'undefined')){\n                if(row.education === ''){\n                    console.log(\"Education Field is required in order to create!\");\n                } else {\n                    educationToCreate.push({\n                        organization: row.organization,\n                        education: row.education,\n                        from_when: row.from_when,\n                        to_when: row.to_when,\n                        description: row.description,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                educationToUpdate.push({\n                    education_id: row.education_id,\n                    organization: row.organization,\n                    education: row.education,\n                    from_when: row.from_when,\n                    to_when: row.to_when,\n                    description: row.description,\n                    rowIdx: idx\n                })\n            }\n        })\n\n        console.log(\"Projects to Create:\", projectsToCreate);\n        console.log(\"Projects to Update:\", projectsToUpdate);\n        console.log(\"Projects to Delete:\", projectsToDelete);\n        console.log(\"Work Experience to Create:\", workExperienceToCreate);\n        console.log(\"Work Experience to Update:\", workExperienceToUpdate);\n        console.log(\"Work Experience to Delete:\", workExperienceToDelete);\n        console.log(\"Education to Create:\", educationToCreate);\n        console.log(\"Education to Update:\", educationToUpdate);\n        console.log(\"Education to Delete:\", educationToDelete);\n\n        // Begin POST Requests\n\n        const createProjects = async() => {\n            for await (const projectToCreate of projectsToCreate){\n                await props.createProject(user.user_id, projectToCreate, projectToCreate.rowIdx);\n            }\n        }\n        if(projectsToCreate.length) await createProjects();\n\n        const updateProjects = async() => {\n            for(const projectToUpdate of projectsToUpdate){\n                await props.updateProject(user.user_id, projectToUpdate, projectToUpdate.rowIdx);\n            }\n        }\n        if(projectsToUpdate.length) await updateProjects();\n\n        const createPortfolio = async() => {\n            for await (let workToCreate of workExperienceToCreate){\n                await props.createWorkExperience(user.user_id, workToCreate, workToCreate.rowIdx);\n            }\n        }\n        if(workExperienceToCreate.length) await createPortfolio();\n\n        const updateWorkExperience = async() => {\n            for(const workToUpdate of workExperienceToUpdate){\n                await props.updateWorkExperience(user.user_id, workToUpdate, workToUpdate.rowIdx);\n            }\n        }\n        if(workExperienceToUpdate.length) await updateWorkExperience();\n\n        const createEdu = async() => {\n                for await (let eduToCreate of educationToCreate){\n                    await props.createEducation(user.user_id, eduToCreate, eduToCreate.rowIdx);\n                }\n        }\n        if(educationToCreate.length) await createEdu();\n\n        const updateEdu = async() => {\n            for await (const eduToUpdate of educationToUpdate){\n                await props.updateEducation(user.user_id, eduToUpdate, eduToUpdate.rowIdx);\n            }\n        }\n        if(educationToUpdate.length) await updateEdu();\n\n        const deleteProjects = async() => {\n            for await (let projectToDelete of projectsToDelete){\n                await props.deleteProject(projectToDelete.project_id);\n            }\n        };\n        if(projectsToDelete.length) await deleteProjects();\n\n        const deleteWork = async() => {\n            for await (let workToDelete of workExperienceToDelete){\n                await props.deleteWorkExperience(workToDelete.portfolio_id);\n            }\n        }\n        if(workExperienceToDelete.length) await deleteWork();\n\n        const deleteEdu = async() => {\n            for await (let eduToDelete of educationToDelete){\n                await props.deleteEducation(eduToDelete.education_id);\n            }\n        }\n        if(educationToDelete.length) await deleteEdu();\n\n        const reorder = async() => {\n            console.log(\"Reordered projects:\");\n            projects.values.forEach(async (row, rowIdx) => {\n                console.log(\"Row:\", row);\n                console.log(\"New Position:\", rowIdx);\n                await props.updateProject(user.user_id, row, rowIdx);\n            })\n            console.log(\"Reordered Work Experience:\");\n            portfolio.values.forEach(async (row, rowIdx) => {\n                console.log(\"Row:\", row);\n                console.log(\"New Position:\", rowIdx);\n                await props.updateWorkExperience(user.user_id, row, rowIdx);\n            })\n            education.values.forEach(async (row, rowIdx) => {\n                console.log(\"Row:\", row);\n                console.log(\"New Position:\", rowIdx);\n                await props.updateEducation(user.user_id, row, rowIdx);\n            })\n        }\n        if(reordered) await reorder();\n\n\n        window.location.reload();\n        }\n    }\n\n\n    // Dynamically render list of forms\n    const renderProjectsForm = () => {\n        return projects.values.map((row, idx) => \n        <Form.Row className='draggable-container mb-4 ml-1' key={idx}>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Project\n                </Form.Label>\n                <Col>\n                    <Form.Control \n                        required\n                        style={{textAlign: \"left\"}}\n                        isInvalid={(length(errs[\"project\"]) > 0 && row.title===\"\") || (typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined' && row.title !== \"\")}\n                        type=\"text\" \n                        value={row.title || ''} \n                        placeholder={\"Project Title (Required)\"} \n                        onChange={e => handleProjectTitleChange(e, idx)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        {(length(errs[\"project\"]) > 0) && row.title === \"\"\n                            ? \"Please provide a project title.\"\n                            : null}\n                        {(typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined' && row.title !== \"\")\n                            ? \"Duplicate project titles are not allowed.\"\n                            : null\n                        }\n                    </Form.Control.Feedback>\n                </Col>\n            </Form.Row>\n\n            <Col className='mt-1'>\n                <Button variant=\"outline-danger\" size=\"sm\"\n                    onClick={() => {\n                        setShowDelete(true);\n                        setRequestedDelete('project');\n                        setRequestedDeleteIdx(idx);\n                    }}\n                >Delete Project</Button>\n            </Col>   \n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Description\n                </Form.Label>\n                <Col>\n                    <Form.Control as=\"textarea\" id=\"description\" rows=\"3\" \n                    defaultValue={row.description !== null \n                        ? row.description.replace(/\\\\n/g, '\\n') \n                        : ''} \n                    placeholder={\"Add a description for your project!\"} \n                    onChange={e => handleProjectDescriptionChange(e, idx)}\n                    />\n                </Col>\n            </Form.Row>\n        \n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Organization\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"project-organization\" style={{textAlign: \"left\"}}\n                    value={row.organization !== null ? row.organization : ''} \n                    placeholder={\"Add an organization (Optional)\"} \n                    onChange={e => handleProjectOrganizationChange(e, idx)}></Form.Control>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Start Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.from_when !== \"infinity\" && typeof(row.from_when) !== 'undefined' && row.from_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.from_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}\n                    placeholder={\"Add a start date for your project (Optional)\"} \n                    onChange={ date => {\n                            handleProjectStartChange(date, idx);\n                    }}></Form.Control>\n                    \n                </Col>\n            </Form.Row>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Finish Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.to_when !== \"infinity\" && typeof(row.to_when) !== 'undefined' && row.to_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.to_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}  \n                    placeholder={\"Add a finish date for your project (Optional)\"} \n                    onChange={date => {\n                        handleProjectFinishChange(date, idx);\n                    }}></Form.Control>\n\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Link\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"project-link\" style={{textAlign: \"left\"}} value={row.link !== null ? row.link : ''} placeholder={\"Add an link for your project (Optional)\"} \n                        onChange={e => handleProjectLinkChange(e, idx)}\n                    />\n                </Col>\n            </Form.Row>\n        </Form.Row>\n        )\n    }\n\n    const renderWorkExperienceForm = () => {\n\n        return portfolio.values.map((row, idx) => \n        <Form.Row className='draggable-container mb-4 ml-3' key={idx}>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Title\n                </Form.Label>\n                <Col>\n                    <Form.Control \n                        type=\"text\" \n                        required\n                        style={{textAlign: \"left\"}}\n                        isInvalid={(length(errs[\"portfolio\"]) > 0 && row.occupation === \"\") || (typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined' && row.occupation !== \"\")}\n                        value={row.occupation !== null ? row.occupation : ''} \n                        placeholder={\"Occupation Title\"} \n                        onChange={e => {handlePortfolioOccupationChange(e, idx)}}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                    {(length(errs[\"portfolio\"]) > 0 && row.occupation === \"\")\n                        ? \"Please provide an occupation.\"\n                        : null} \n                    {(typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined' && row.occupation !== \"\")\n                        ? \"Duplicate (occupation titles, organization) not allowed.\"\n                        : null}\n                    </Form.Control.Feedback>\n                </Col>\n            </Form.Row>\n\n            <Col className='mt-1'><Button variant=\"outline-danger\" size=\"sm\"\n                onClick={() => {\n                    setShowDelete(true);\n                    setRequestedDelete('work experience');\n                    setRequestedDeleteIdx(idx);\n                }}\n            >Delete Work</Button></Col>   \n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Organization\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"organization\" style={{textAlign: \"left\"}} value={row.organization !== null ? row.organization : ''} placeholder={\"Add an organization (Optional)\"} \n                        onChange={e => {handlePortfolioOrganizationChange(e, idx)}}>\n                    </Form.Control>\n                </Col>\n            </Form.Row>\n        \n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Start Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.from_when !== \"infinity\" && typeof(row.from_when) !== 'undefined' && row.from_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.from_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}   \n                    placeholder=\n                    {\"Add a start date (Optional)\"} \n                    onChange={ date => {\n                        handlePortfolioStartChange(date, idx);\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Finish Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.to_when !== \"infinity\" && typeof(row.to_when) !== 'undefined' && row.to_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.to_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}  \n                    placeholder={\"Add a finish date (Optional)\"} \n                    onChange={date => {\n                        handlePortfolioFinishChange(date, idx);\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Description\n                </Form.Label>\n                <Col>\n                    <Form.Control as=\"textarea\" rows=\"3\" \n                    style={{textAlign: \"left\"}}\n                    defaultValue={row.description !== null \n                        ? row.description.replace(/\\\\n/g, '\\n') \n                        : ''}\n                    placeholder={\"Add a description (Optional)\"} \n                    onChange={e => handlePortfolioDescriptionChange(e, idx)}\n                    />\n                </Col>\n            </Form.Row>\n        </Form.Row>\n        )\n    }\n\n    const renderEducationForm = () => {\n        return education.values.map((row, idx) => \n        <Form.Row className='draggable-container mb-4 ml-3' key={idx}>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Education\n                </Form.Label>\n                <Col>\n                    <Form.Control \n                        type=\"text\" \n                        required\n                        style={{textAlign: \"left\"}}\n                        isInvalid={(length(errs[\"education\"]) > 0 && row.education === \"\") || (typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined' && row.education !== \"\")}\n                        value={row.education !== null ? row.education : ''} \n                        placeholder={\"Education (Required)\"} \n                        onChange={e => {handleEducationChange(e, idx)}}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                    {(length(errs[\"education\"]) > 0 && row.education === \"\")\n                        ? \"Please provide education.\"\n                        : null}\n                    {(typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined' && row.education !== \"\")\n                        ? \"Duplicate education is not allowed.\"\n                        :null}\n                    </Form.Control.Feedback>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Organization\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"education-organization\" style={{textAlign: \"left\"}} value={row.organization !== null ? row.organization : ''} placeholder={\"Add an organization (Optional)\"}\n                        onChange={e => {handleEducationOrganizationChange(e, idx)}}\n                    ></Form.Control>\n                </Col>\n            </Form.Row>\n\n\n            <Col className='mt-1'>\n                <Button variant=\"outline-danger\" size=\"sm\"\n                    onClick={() => {\n                        setShowDelete(true);\n                        setRequestedDelete('education');\n                        setRequestedDeleteIdx(idx);\n                    }}\n                >Delete Education</Button>\n            </Col>   \n        \n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Start Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.from_when !== \"infinity\" && typeof(row.from_when) !== 'undefined' && row.from_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.from_when.replace(/-/g, '\\/'))\n                    : ''}   \n                    placeholder=\n                    {\"Add a start date (Optional)\"} \n                    onChange={ date => {\n                        handleEducationStartChange(date, idx)\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Finish Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.to_when !== \"infinity\" && typeof(row.to_when) !== 'undefined' && row.to_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.to_when.replace(/-/g, '\\/')) \n                    : ''}  \n                    placeholder={\"Add a finish date (Optional)\"} \n                    onChange={date => {\n                        handleEducationFinishChange(date, idx)\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Description\n                </Form.Label>\n                <Col>\n                    <Form.Control as=\"textarea\" rows=\"3\" \n                    style={{textAlign: \"left\"}}\n                    defaultValue={row.description !== null\n                        ? row.description.replace(/\\\\n/g, '\\n')  \n                        : ''}\n                    placeholder={\"Add a description (Optional)\"}\n                    onChange={e => {handleEducationDescriptionChange(e, idx)}}\n                    />\n                </Col>\n            </Form.Row>\n        </Form.Row>\n        )\n    }\n\n    const ChangeOrder = (props) => {\n        console.log(\"ChangeOrder Component Recieved ID:\", props.droppableId)\n        return (\n            <DragDropContext \n                onDragEnd={handleOnDragEnd}\n            >\n            {props.droppableId === \"projects\"\n            ? <Droppable droppableId=\"projects\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {projects.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.title} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.title\n                                        ? <b>{row.title}</b>\n                                        : null}\n\n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            : null}\n\n            {props.droppableId === \"work-experience\"\n            ? <Droppable droppableId=\"work-experience\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {portfolio.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.occupation} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.occupation\n                                        ? <b>{row.occupation}</b>\n                                        : null}\n                                    {row.organization\n                                        ? <>{' | ' + row.organization}</>\n                                        : null}\n\n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            : null}\n\n            {props.droppableId === \"education\"\n            ? <Droppable droppableId=\"education\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {education.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.education} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.education\n                                        ? <b>{row.education}</b>\n                                        : null}\n                                        \n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            : null}\n            </DragDropContext>\n        );\n    }\n\n    const FormatDate = (props) => {\n        let date = props.dateString;\n        const months = {\"01\": \"January\", \"02\": \"February\", \"03\": \"March\", \"04\": \"April\", \"05\": \"May\", \"06\": \"June\", \n                        \"07\": \"July\", \"08\": \"August\", \"09\": \"September\", \"10\": \"October\", \"11\": \"November\", \"12\": \"December\"};\n        const year = date.substring(0, 4);\n        const monthDecimal = date.substring(5, 7);\n        const month = months[monthDecimal];\n        const formattedDate = month + ' ' + year;\n        return ' ' + formattedDate + ' ';\n    }\n\n    function length(obj) {\n        if((!(typeof(obj) !== 'undefined')) || (obj == null)) return 0;\n        return Object.keys(obj).length;\n    }\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n\n    return(\n        <div className=\"tab-container\">        \n        {props.data.ownedByUser ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button> : null}\n        <h3>Portfolio</h3>\n        <Modal\n            show={show}\n            onHide={handleClose}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"lg\"\n            centered\n            scrollable={false}\n        >\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Edit\n                    <AlertDismissible\n                        setShow={setShow}\n                        setEdited={setEdited}\n                        setShowAlert={setShowAlert}\n                        showAlert={showAlert}\n                        handleSave={handleSave}\n                        discardChanges={discardChanges}\n                    />\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n            <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"projects\">\n            <Form noValidate validated={validated} onSubmit={handleSave}>\n                <Row>\n                    <Col sm={3}>\n                    <Nav variant=\"pills\" className=\"flex-column\">\n                        <Nav.Item>\n                            <Nav.Link \n                                className={(length(errs[\"project\"]) > 0) || (length(duplicateProject) > 0)\n                                    ? \"nav-error\" \n                                    : \"\"}\n                                eventKey=\"projects\" \n                                onClick={() => setChangingOrder(false)}\n                            >\n                            Projects\n                            {((length(errs[\"project\"]) > 0) || (length(duplicateProject) > 0))\n                            ? <Badge variant=\"danger\" className='ml-4'>\n                                {(length(errs[\"project\"]) + length(duplicateProject))}\n                                </Badge>\n                            : null}\n                            \n                            </Nav.Link>\n                        </Nav.Item>\n                        <Nav.Item>\n                            <Nav.Link \n                                className={(length(errs[\"portfolio\"]) > 0) || (length(duplicateWork) > 0)\n                                    ? \"nav-error\" : \"\"}\n                                eventKey=\"work-exerience\" \n                                onClick={() => setChangingOrder(false)}\n                            >Work Experience\n                            {(length(errs[\"portfolio\"]) > 0) || (length(duplicateWork) > 0)\n                            ? <Badge variant=\"danger\" className='ml-1'>\n                                {length(errs[\"portfolio\"]) + length(duplicateWork)}\n                                </Badge>\n                            : null}\n                            </Nav.Link>\n                        </Nav.Item>\n                        <Nav.Item>\n                            <Nav.Link \n                                className={(length(errs[\"education\"]) > 0) || (length(duplicateEducation) > 0)\n                                ? \"nav-error\" : \"\"}  \n                                eventKey=\"education\" \n                                onClick={() => setChangingOrder(false)}\n                            >Education\n                            {(length(errs[\"education\"]) > 0) || (length(duplicateEducation) > 0)\n                            ? <Badge variant=\"danger\" className='ml-4'>\n                                {length(errs[\"education\"]) + length(duplicateEducation)}\n                                </Badge>\n                            : null}\n                            </Nav.Link>\n                        </Nav.Item>\n                    </Nav>\n                    </Col>\n                    <Col sm={9}>\n                    <Tab.Content>\n                        <Tab.Pane eventKey=\"projects\">\n                            <Form.Group>\n                                <h4>Projects</h4>\n                                {projects.values.length < 4\n                                ? <Button onClick={() => addProject()} variant=\"outline-success\" size=\"sm\">Add Project</Button>  \n                                : null }<br></br>\n                                                               \n                                {projectsData.length > 1\n                                ? <><label>Change Order</label>\n                                    <Switch\n                                        isOn={changingOrder}\n                                        handleToggle={() => {                                    \n                                            if(!validate()){\n                                                console.log(\"Please address errs\");\n                                            } else{\n                                                setChangingOrder(!changingOrder);\n                                            }\n                                        }}\n                                    /></>\n                                : null}\n\n\n                                {changingOrder\n                                ? <ChangeOrder droppableId=\"projects\"></ChangeOrder>\n                                : renderProjectsForm()}\n\n                            </Form.Group>\n                        </Tab.Pane>\n                        <Tab.Pane eventKey=\"work-exerience\">\n                            <Form.Group>\n                                <h4>Work Experience</h4>\n                                {portfolio.values.length < 4\n                                ? <Button onClick={() => addWorkExperience()} variant=\"outline-success\" size=\"sm\">Add Work Experience</Button>  \n                                : null }<br></br>\n\n                                {portfolioData.length > 1\n                                ? <><label>Change Order</label>\n                                    <Switch\n                                        isOn={changingOrder}\n                                        handleToggle={() => {\n                                            if(!validate()){\n                                                console.log(\"Please address errs\");\n                                            } else{\n                                                setChangingOrder(!changingOrder);\n                                            }\n                                        }}\n                                    /></>\n                                : null}\n\n                                {changingOrder\n                                ? <ChangeOrder droppableId=\"work-experience\"></ChangeOrder>\n                                : renderWorkExperienceForm()}\n                            </Form.Group>\n                        </Tab.Pane>\n                        <Tab.Pane eventKey=\"education\">\n                            <Form.Group>\n                                <h4>Education</h4>\n                                {education.values.length < 4\n                                ? <Button onClick={() => addEducation()} variant=\"outline-success\" size=\"sm\">Add Education</Button>  \n                                : null }<br></br>\n\n                                {educationData.length > 1\n                                ? <><label>Change Order</label>\n                                    <Switch\n                                        isOn={changingOrder}\n                                        handleToggle={() => {\n                                            if(!validate()){\n                                            console.log(\"Please address errs\");\n                                        } else{\n                                            setChangingOrder(!changingOrder);\n                                        }}}\n                                    /></>\n                                : null} \n\n                                {showDelete\n                                ?    <AreYouSure\n                                        showDelete={showDelete}\n                                        setShowDelete={setShowDelete}\n                                        deleteWork={deleteWorkExperience}\n                                        deleteEdu={deleteEducation}\n                                        deleteProject={deleteProject}\n                                        setEdited={setEdited}\n                                        requestedDelete={requestedDelete}\n                                        setRequestedDelete={setRequestedDelete}\n                                        idx={requestedDeleteIdx}\n                                        setRequestedDeleteIdx={setRequestedDeleteIdx}\n                                    />\n                                :null}\n                                \n                                {changingOrder\n                                ? <ChangeOrder droppableId=\"education\"></ChangeOrder>\n                                : renderEducationForm()}\n\n\n                            </Form.Group>\n                        </Tab.Pane>\n                    </Tab.Content>\n                    </Col>\n                </Row>\n                <Button variant=\"success\" type=\"submit\">Save Changes</Button>\n            </Form>\n            </Tab.Container>\n\n            </Modal.Body>\n            <Modal.Footer>\n                \n            </Modal.Footer>\n        </Modal>\n        <br></br>\n\n        <h3>Projects</h3>\n        <hr color=\"black\"/>\n        <div className=\"info-container\">\n            {projectsData\n            ? projectsData.map((row, idx) => \n                <div className=\"mb-2 ml-3 mr-3\" key={idx}>\n                    \n                    <div className='row'>\n                        <h5 className='mr-1'><b>{row.title}</b></h5>\n                    \n                        {(row.organization && row.organization !== \"null\")\n                        ? <h5 className='align-self-center'>{' | ' + row.organization}</h5>\n                        : null}\n                    </div>\n\n                    <p className='mb-2'>\n                    {(row.from_when && row.from_when !== \"infinity\")\n                    ? <FormatDate dateString={row.from_when} key={idx}/>\n                    : null\n                    }\n                    -\n                    {(row.to_when && row.to_when !== \"infinity\")\n                    ?  <FormatDate dateString={row.to_when} key={idx}/>\n                    : null}\n                    </p>\n                    \n                    {row.description \n                    ? <><FormatTextarea text={row.description} key={idx}/></>\n                    : null}\n\n                    {(row.link && row.link !== \"null\")\n                    ? <div className='my-1'>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"mr-1 bi bi-link-45deg\" viewBox=\"0 0 16 16\">\n                            <path d=\"M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z\"/>\n                            <path d=\"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z\"/>\n                        </svg>\n                        <a href={row.link} target=\"_blank\" rel=\"noreferrer\">{row.link}</a>\n                    </div>\n                    : null}\n                    \n                    <hr/>\n                </div>\n            )\n            : null}\n        </div>\n\n        <h3>Work Experience</h3>\n        <hr color=\"black\"/>\n        <div className=\"info-container\">\n        {portfolioData\n        ? portfolioData.map((row, idx) => \n            <div className=\"mb-3 ml-3 mr-3\" key={idx}>\n                \n                <div className='row'>\n                    <h5 className='mr-1'><b>{row.occupation}</b></h5>\n                    <h5 className='align-self-center'>{!row.organization ? '' :  ' | ' + row.organization}</h5>\n                </div>\n\n                <p className='mb-3'>\n                {(row.from_when && row.from_when !== \"infinity\")\n                ? <FormatDate dateString={row.from_when} key={idx}/>\n                : null}\n                -\n                {(row.to_when && row.to_when !== \"infinity\")\n                ? <FormatDate dateString={row.to_when} key={idx}/>\n                : null}\n                </p>\n\n                {(row.description)\n                ? <FormatTextarea text={row.description} key={idx}/>\n                : null}\n\n                <hr/>\n            </div>\n        )\n        : null } \n        </div>\n\n        <h3>Education</h3>\n        <hr color=\"black\"/>\n        <div className=\"info-container\">\n            {educationData \n            ? educationData.map((row, idx) => \n                <div className=\"ml-3 mr-3\" key={idx}>\n                    \n                    <div className='row'>\n                        <h5 className='mr-1'><b>{row.education}</b></h5>\n\n                        {row.organization \n                        ? <h5><p>{' | ' + row.organization}</p></h5>\n                        : null}\n                    </div>\n                    \n                    <p>\n                    {(row.from_when && row.from_when !== \"infinity\")\n                    ? <FormatDate dateString={row.from_when} key={idx}/>\n                    : null}\n                    \n                    -\n                    {(row.to_when && row.to_when !== \"infinity\")\n                    ? <FormatDate dateString={row.to_when} key={idx}/>\n                    : null}\n                    </p>\n\n                    {row.description\n                    ? <FormatTextarea text={row.description} key={idx}/>\n                    : null}\n                    <hr/>\n                </div>\n            )\n            : null}\n        </div>\n\n        </div>\n    );\n}","import { useEffect, useState } from 'react';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { Modal, Button, Form, Col } from 'react-bootstrap';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport { AreYouSure } from '../components/AreYouSure'\nimport Switch  from '../components/switch';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\n\n\nexport const Contact = (props) => {\n    //console.log(\"Contact Recieved Props: \", props);\n\n    // Original Data from Parent Profile\n    const user = (props.location.state.user !== null) ? props.location.state.user : props.data.user;\n    let profile = (props.data.profile !== null) ? props.data.profile : props.location.state.profile;\n    const linksData = (props.data.contact !== null) ? props.data.contact : props.location.state.contact;\n    const images = (props.data.images !== null) ? props.data.images : props.location.state.images;\n\n    // Display Toggles\n    const [show, setShow] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false); \n    const [showDelete, setShowDelete] = useState(false);\n    const [requestedDelete, setRequestedDelete] = useState('');\n    const [requestedDeleteIdx, setRequestedDeleteIdx] = useState(null);\n    \n    const [reordered, setReordered] = useState(false);\n    const [changingOrder, setChangingOrder] = useState(false);\n\n    // Data to be Modified\n    const [publicEmail, setPublicEmail] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].public_email : '');\n    const [phone, setPhone] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].phone : '');\n    const [links, setLinks] = useState({values: linksData});\n\n    // POST request hooks\n    const [emailToUpdate, setEmailToUpdate] = useState([]);\n    const [phoneToUpdate, setPhoneToUpdate] = useState([]);\n    const [linksToDelete, setLinksToDelete] = useState([]);\n\n    const [validated, setValidated] = useState(false);\n    const [errs, setErrs] = useState({}); \n    const [duplicates, setDuplicates] = useState({});\n\n\n    // Event Handlers\n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited){\n            setShowAlert(true);\n        }\n        else {\n            setShow(false);\n            setChangingOrder(false);\n            setLinks({values: linksData});\n            setDuplicates({});\n        }\n    }\n\n    // Replace state with original data\n    const discardChanges = () => {\n        setPublicEmail(publicEmail);\n        setPhone(phone);\n        setLinks({values: linksData});\n        setChangingOrder(false);\n        setReordered(false);\n        setLinksToDelete([]);\n        setValidated(false);\n        setErrs({});\n        setDuplicates({});\n    }\n\n    // form values change? => stage values to be updated\n    useEffect(() => {\n        if(profile.phone !== phone)\n            setPhoneToUpdate(phone);\n        if(profile.public_email !== publicEmail){\n            setEmailToUpdate(publicEmail);\n        }\n\n    }, [phone, profile.phone, profile.public_email, publicEmail])\n\n    //Upon successful POST response, linksData or aboutData will change, so reset hooks\n    useEffect(() => {\n        setPhoneToUpdate([]);\n        setEmailToUpdate([]);\n        setLinksToDelete([]);\n        setLinks({values: linksData});\n        setValidated(false);\n        setErrs({});\n        setDuplicates({});\n    }, [props, linksData])\n\n\n    const validate = () => {\n        let isValidated = true;\n\n        links.values.forEach((row, idx) => {\n            if(row.link === \"\"){\n                isValidated = false;\n                setValidated(false);\n                setErrs({link: true});\n            }\n            if(typeof(duplicates[\"Idx\"+idx]) !== 'undefined'){\n                console.log(\"Validation found duplicate at idx:\", idx)\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        return isValidated;\n    }\n\n    const handleSave = async(event) => {\n        if(!validate()){\n            event.preventDefault();\n            event.stopPropagation();\n        } else{\n\n        console.log(\"Saving Changes:\");\n        console.log(\"Email to Update:\", emailToUpdate);\n        console.log(\"Phone to Update:\", phoneToUpdate);\n\n        var linksToCreate = [];\n        var linksToUpdate = [];\n        // Update/Insert (Upsert) Links?\n        links.values.forEach((row, idx) => {\n            if(!(typeof(row.link_id) !== 'undefined')){\n                if(row.link === \"\"){\n                    console.log(\"A link is required in order to create!\")\n                } else{\n                    linksToCreate.push({\n                        title: row.title,\n                        link: row.link,\n                        description: row.description,\n                        rowIdx: idx\n                    });\n                }\n            } else if((typeof(row.toUpdate) !== 'undefined')){\n                linksToUpdate.push({\n                    link_id: row.link_id,\n                    title: row.title,\n                    link: row.link,\n                    description: row.description,\n                    rowIdx: idx\n                });\n            }\n        })\n\n        console.log(\"Links to Create:\", linksToCreate);\n        console.log(\"Links to Update:\", linksToUpdate);\n        console.log(\"Links to Delete\", linksToDelete);        \n        console.log(\"links.values:\", links.values);\n\n        // Begin POST Requests\n        const updatePhone = async() => {\n            await props.updatePhone(user.user_id, phoneToUpdate);\n        }\n        if(phoneToUpdate.length) await updatePhone();\n\n        \n        const updateEmail = async() => {\n            await props.updateEmail(user.user_id, emailToUpdate);\n        }\n        if(emailToUpdate.length) await updateEmail();\n\n\n        const createLinks = async() => {\n            for await (let linkToCreate of linksToCreate){\n                await props.createLink(user.user_id, linkToCreate, linkToCreate.rowIdx);\n            }\n        }\n        if(linksToCreate.length) await createLinks();\n\n\n        const updateLinks = async() => {\n            for await(let linkToUpdate of linksToUpdate){\n                await props.updateLink(linkToUpdate, user.user_id, linkToUpdate.rowIdx);\n            }\n        }\n        if(linksToUpdate.length) await updateLinks();\n\n\n        const reorder = async() => {\n            links.values.forEach(async (row, rowIdx) => {\n                await props.updateLink(row.link_id, row.link, row.title, row.description, user.user_id, rowIdx);\n            })\n        }\n        if(reordered) await reorder();\n\n\n        const deleteLinks = async() => {\n            for await (let linkToDelete of linksToDelete){\n                await props.deleteLink(linkToDelete.link_id);\n            }\n        }\n        if(linksToDelete.length) await deleteLinks();\n\n\n        window.location.reload();\n        }\n    }\n    \n    const renderLinksForm = () => {\n        return (\n            <Form.Group controlId=\"validationCustom01\">\n            {links.values.map((row, idx) => \n                <Form.Row className='draggable-container mb-4 ml-3 mr-3' key={idx}>\n                    <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                        <Form.Label column sm={3}>\n                            Title\n                        </Form.Label>\n                        <Col>\n                            <Form.Control type=\"text\" value={row.title || ''} placeholder={\"Link Title (Optional)\"} \n                            onChange={e => {handleLinkTitleChange(e, idx)}}/>\n                        </Col>\n                    </Form.Row>\n                    \n    \n                    <Form.Row className='mt-1 mr-2' style={{\"width\": \"75%\"}}>\n                        <Form.Label column sm={3}>\n                            Link\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                                required\n                                isInvalid={(errs[\"link\"] && row.link === \"\") || (typeof(duplicates[\"Idx\"+idx]) !== 'undefined' && row.link !== \"\")}\n                                type=\"text\" \n                                value={row.link} \n                                placeholder={\"Add your link here (Required)\"} \n                                onChange={e => {\n                                    handleLinkChange(e, idx);\n                            }}/>\n                            <Form.Control.Feedback type=\"invalid\">\n                                {/* Can't ever have both cases! */}\n                                {(errs[\"link\"] && row.link === \"\") \n                                ? \"Please provide a Link.\" \n                                : null} \n                                {typeof(duplicates[\"Idx\"+idx]) !== 'undefined' && row.link !== \"\"\n                                ? \"Duplicate links are not allowed.\"\n                                : null\n                                }\n                            </Form.Control.Feedback>\n                        </Col>\n                    </Form.Row>\n\n                    <Col className='mt-1' style={{width: \"75%\"}}>\n                        <Button onClick={() => {\n                            setRequestedDelete('link');\n                            setRequestedDeleteIdx(idx);\n                            setShowDelete(true);\n                        }} variant=\"outline-danger\" size=\"sm\">Delete Link</Button>\n                    </Col>   \n                \n                    <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                            <Form.Label column sm={3}>\n                                Description\n                            </Form.Label>\n                            <Col>\n                                <Form.Control as=\"textarea\" rows={3}\n                                defaultValue={(row.description !== null) ? row.description.replace(/\\\\n/g, '\\n') : ''} \n                                placeholder={\"Add a description for your link! (Optional)\"} \n                                onChange={e => {\n                                    handleLinkDescriptionChange(e, idx);\n                                }}></Form.Control>\n                            </Col>\n                        </Form.Row>\n                </Form.Row>\n            )}\n            </Form.Group>\n        );\n    }\n    \n    function binaryToBase64(data){\n        var image = btoa(new Uint8Array(data).reduce(function (tmp, byte) {\n            return tmp + String.fromCharCode(byte);\n        }, ''));\n        return image;\n    }\n\n\n    const ChangeLinksOrder = () => {\n        return (\n            <DragDropContext \n                onDragEnd={handleOnDragEnd}\n            >\n            <Droppable droppableId=\"links\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {links.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.link} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.link\n                                        ? <b>{row.link}</b>\n                                        : null}\n\n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            </DragDropContext>\n        );\n    }\n\n    const handleLinkTitleChange = (event, idx) => {\n        let tmpLinks = [...links.values];\n        tmpLinks[idx] = {\n            link_id: links.values[idx].link_id,\n            uid: links.values[idx].uid,\n            link: links.values[idx].link,\n            title: event.target.value,\n            description: links.values[idx].description\n        }\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined')\n        && !(typeof(tmpLinks[idx].toUpdate) !== 'undefined')){\n            tmpLinks[idx].toUpdate = true;\n        }\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    const handleLinkChange = (event, idx) => {\n        let tmpLinks = [...links.values];\n        tmpLinks[idx] = {\n            link_id: links.values[idx].link_id,\n            uid: links.values[idx].uid,\n            link: event.target.value,\n            title: links.values[idx].title,\n            description: links.values[idx].description\n        }\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined')\n        && !(typeof(tmpLinks[idx].toUpdate) !== 'undefined')){\n                tmpLinks[idx].toUpdate = true;\n        }\n        // If duplicate => add index to duplicates hook\n        if((links.values.some(e => e.link === event.target.value))){\n            console.log(\"Found duplicate:\", event.target.value);\n            setDuplicates({...duplicates, [\"Idx\"+idx]: true});\n        } \n        // User fixes duplicate entry: not a duplicate, but exists as one in duplcates hook => remove\n        else if(!(links.values.some(e => e.link === event.target.value)) && typeof(duplicates[\"Idx\"+idx]) !== \"undefined\"){\n            delete duplicates[\"Idx\"+idx];\n        }\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    const handleLinkDescriptionChange = (event, idx) => {\n        let tmpLinks = [...links.values];\n        tmpLinks[idx] = {\n                link_id: links.values[idx].link_id,\n                uid: links.values[idx].uid,\n                link: links.values[idx].link,\n                title: links.values[idx].title,\n                description: event.target.value\n        }\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined') \n        && !(typeof(tmpLinks[idx].toUpdate) !== 'undefined')){\n            tmpLinks[idx].toUpdate = true;\n        }\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    const addLink = () => {\n        setLinks({values: [...links.values, {title: '', link: '', description: ''}]});\n    }\n\n    const removeLink = (idx) => {\n        let tmpLinks = [...links.values];\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined')){\n            // Must create hook since we're removing the link\n            setLinksToDelete([...linksToDelete, {link_id: tmpLinks[idx].link_id}]);\n        }\n        tmpLinks.splice(idx, 1);\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    function handleOnDragEnd(result) {\n        console.log(result)\n      if (!result.destination) return;\n  \n      const items = Array.from(links.values);\n      const [reorderedItem] = items.splice(result.source.index, 1);\n      items.splice(result.destination.index, 0, reorderedItem);\n  \n      setReordered(true);\n      setEdited(true);\n      setLinks({values: items});\n    }\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n    return (\n        <div className=\"tab-container\"> \n            <Modal\n                show={show}\n                onHide={handleClose}\n                backdrop=\"static\"\n                keyboard={false}\n                size=\"lg\"\n                centered\n                scrollable={false}\n            >\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        <h3>Edit</h3>\n                        <AlertDismissible\n                            setShow={setShow}\n                            setEdited={setEdited}\n                            setShowAlert={setShowAlert}\n                            showAlert={showAlert}\n                            handleSave={handleSave}\n                            discardChanges={discardChanges}\n                        />\n\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n\n                <Form noValidate validated={validated} onSubmit={handleSave}>\n                    <h4>Contact Information</h4>\n                    <Form.Row className='mt-4'>\n                        <Form.Label column sm={2}>\n                            Public Email\n                        </Form.Label>\n                        <Col>\n                            <Form.Control type=\"email\" style={{width: \"55%\"}} \n                            defaultValue={publicEmail} \n                            onChange={e => {\n                                setPublicEmail(e.target.value); \n                                setEdited(true);\n                            }}/>\n                            <Form.Text className=\"text-muted\">\n                            Public email to display on your profile.\n                            </Form.Text>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Phone Number\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                            type=\"text\" \n                            style={{width: \"55%\"}} \n                            defaultValue={phone} \n                            onChange={e => {\n                                setPhone(e.target.value);\n                                setEdited(true);\n                            }}/>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Group>\n                        <Form.Label className='mt-4'>\n                            <h4>Links</h4>\n                        </Form.Label > <br></br>\n                            {links.values.length < 6\n                                ? <Button \n                                onClick={() => addLink()} \n                                variant=\"outline-success\" \n                                size=\"sm\" \n                                disabled={changingOrder}\n                                >Add Link</Button>\n                                \n                                : null }\n                            <br></br>\n\n                            {linksData.length > 1\n                            ? <><label>Change Order</label>\n                                <Switch\n                                    isOn={changingOrder}\n                                    handleToggle={() => {\n                                        if(!validate()){\n                                            console.log(\"Please address errs\");\n                                        } else{\n                                            setChangingOrder(!changingOrder);\n                                        }\n                                    }}\n                                /></>\n                            : null}\n\n                            {showDelete\n                                ?    <AreYouSure\n                                        showDelete={showDelete}\n                                        setShowDelete={setShowDelete}\n                                        delete={removeLink}\n                                        setEdited={setEdited}\n                                        requestedDelete={requestedDelete}\n                                        setRequestedDelete={setRequestedDelete}\n                                        idx={requestedDeleteIdx}\n                                        setRequestedDeleteIdx={setRequestedDeleteIdx}\n                                    />\n                                :null}\n                       \n\n                        {changingOrder \n                        ? <ChangeLinksOrder></ChangeLinksOrder>\n                        : renderLinksForm()}\n\n                    </Form.Group>\n                    <Button variant=\"success\" type=\"submit\">Save Changes</Button>\n                </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    \n                </Modal.Footer>\n            </Modal>\n\n            {/* After integrating backend, render original data not tmpHooks */}\n            {props.data.ownedByUser ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button> : null}\n            <h3>Contact Information</h3>\n            <hr color=\"black\"/>\n            <br/>\n\n        <div className=\"contact-container\">\n            <div className='mr-4'>\n                {typeof(images[0]) !== 'undefined' && images[0].base64preview.data.length > 0\n                 ? <img src={images[0].prefix + `${binaryToBase64(images[0].base64preview.data)}`}  alt=\"Preview\"/>\n                 : null}\n            </div>\n            \n            <div className=\"col ml-4\">\n            {typeof(profile[0]) !== 'undefined' && profile[0].public_email !== null\n                ? <div className=\"row ml-1\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\n                        <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z\"/>\n                    </svg>\n                    {profile[0].public_email}\n                    </div>\n                : null}\n\n                {typeof(profile[0]) !== 'undefined' && profile[0].phone !== null\n                ? <div className=\"row ml-1 mt-3 mb-2\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-telephone-fill\" viewBox=\"0 0 16 16\">\n                    <path fillRule=\"evenodd\" d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\n                    </svg>\n                    {profile[0].phone}\n                </div>\n                : null}\n\n                <hr className='my-4 mr-4'/>\n\n                <div className=\"d-flex flex-row mt-3\">\n                    <div className='d-flex flex-column'>\n                        <h4 className='mb-4'> My Links</h4>\n                        {linksData \n                        ? linksData.map((row, idx) => \n                        \n                            <div className=\"mb-1 ml-3 mr-3\" key={idx}>\n                                \n                                {row.title \n                                ? <b>{row.title}</b>\n                                : null }\n\n                                {(row.link && row.link !== \"null\")\n                                ? <div className='my-1'>\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"mr-1 bi bi-link-45deg\" viewBox=\"0 0 16 16\">\n                                        <path d=\"M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z\"/>\n                                        <path d=\"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z\"/>\n                                    </svg>\n                                    <a href={row.link} target=\"_blank\" rel=\"noreferrer\">{row.link}</a>\n                                </div>\n                                : null}\n\n                                {row.description \n                                ? <FormatTextarea text={row.description} key={idx}/>\n                                : null }\n                                \n                                <hr/>\n                            </div>\n                            )\n                    : null }\n                </div>\n\n                </div>\n            </div>\n        </div>         \n    </div>\n    );\n}","import React, { Component } from 'react';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { AlertMsg } from '../components/alerts';\n\n// Import Components\nimport { NavBar } from './navbar';\nimport { Home } from './home';\nimport { About } from './about';\nimport { Portfolio } from './portfolio';\nimport { Contact } from './contact';\n\nclass Profile extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            user: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.user !== 'undefined') ? this.props.location.state.user : null,\n            \n            key: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.key !== 'undefined') ? this.props.location.state.key : \"home\",\n            \n            ownedByUser: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.ownedByUser !== 'undefined') ? this.props.location.state.ownedByUser : false,\n            \n            alert: null,\n\n            loggedIn: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.loggedIn !== 'undefined') ? this.props.location.state.loggedIn : false,\n\n            requestedBy: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.requestedBy !== 'undefined') ? this.props.location.state.requestedBy : null,\n\n            about: (typeof this.props.location.about !== 'undefined') ? this.props.location.state.about : [],\n\n            profile: (typeof this.props.location.profile !== 'undefined') ? this.props.location.state.profile : null,\n\n            portfolio: (typeof this.props.location.portfolio !== 'undefined') ? this.props.location.state.portfolio : null,\n\n            contact: (typeof this.props.location.contact !== 'undefined') ? this.props.location.state.contact : null,\n\n            education: (typeof this.props.location.education !== 'undefined') ? this.props.location.state.education : null,\n\n            hobbies: (typeof this.props.location.hobbies !== 'undefined') ? this.props.location.state.hobbies : null,\n\n            skills: (typeof this.props.location.skills !== 'undefined') ? this.props.location.state.skills : null,\n\n            projects: (typeof this.props.location.projects !== 'undefined') ? this.props.location.state.projects : null,\n\n            images: (typeof this.props.location.images !== 'undefined') ? this.props.location.state.images : null,\n\n            font: (typeof this.props.location.font !== 'undefined') ? this.props.location.state.font : null,\n\n            loading: true\n        }\n    }\n\n    // GET profile data, then determine if the user owns this profile\n    async componentDidMount(){\n\n        var pathname = window.location.pathname.substr(1, window.location.pathname.length);\n        \n        const urls = [\n            '/getUserData',\n            '/about',\n            '/profile',\n            '/portfolio',\n            '/contact',\n            '/education',\n            '/hobbies',\n            '/skills',\n            '/projects',\n            '/images',\n        ];\n\n        let [data, about, profile, portfolio, contact, education, hobbies, skills, projects, images] = await \n        Promise.all(urls.map(url => \n            fetch(url, {\n                method: 'GET',\n                headers: {username: pathname}, \n                mode: 'cors',\n                credentials: 'include',\n                withCredentials: true,\n            })\n            .then((res) => res.json())\n        ))\n\n        // If no profile found, redirect back to splash page w/ error msg\n        if((typeof data !== 'undefined') && data[\"error\"] && window.location.hostname === 'localhost'){\n            \n            if(!(typeof data.requestedBy !== 'undefined')){\n                return this.props.history.push({\n                    pathname: '/',\n                    errorMsg: (pathname !== \"dashboard\") ? `Unable to locate user: ${pathname}` : null,\n                })\n            } \n            else{\n                this.props.history.push({\n                    pathname: `/${data.requestedBy.username}`,\n                    errorMsg: `Unable to locate user: ${pathname}`,\n                    state: {\n                        user: data.requestedBy,\n                        key: \"home\",\n                        ownedByUser: this.state.ownedByUser,\n                        loggedIn: this.state.loggedIn,\n                        requestedBy: data.requestedBy,\n                        about: this.state.about,\n                        portfolio: this.state.portfolio,\n                        contact: this.state.contact,\n                        education: this.state.education,\n                        hobbies: this.state.hobbies,\n                        skills: this.state.skills,\n                        projects: this.state.projects,\n                        profile: this.state.profile,\n                        images: this.state.images\n                    }\n                })\n                window.location.reload();\n            }\n        }else{\n            // If user was found => Store in state\n            //console.log(\"Found user: \", data.user);\n            this.setState({\n                user: data.user, \n                requestedBy: data.requestedBy,\n                about: about,\n                profile: profile,\n                portfolio: portfolio,\n                contact: contact,\n                education: education,\n                hobbies: hobbies,\n                skills: skills,\n                projects: projects,\n                images: images\n            });\n        }\n\n        // Regardless of whether the current user matches the profile, a user must always be logged-in in order to edit their profile\n        if(typeof this.state.requestedBy !== 'undefined' && typeof this.state.user !== 'undefined' && this.state.requestedBy !== null && this.state.user !== null && this.state.requestedBy.user_id === this.state.user.user_id){\n            //console.log(\"Profile owned by user!\");\n            this.setState({ownedByUser: true});\n        }\n\n        if(typeof this.state.requestedBy !== 'undefined'){\n            this.setState({loggedIn: true});\n        }\n\n        if(typeof this.props.location.state.errorMsg !== 'undefined'){\n            this.setState({alert: AlertMsg(\"error\", this.props.location.state.errorMsg)}); \n        }\n\n        //console.log(\"STATE: \", this.state);\n        //console.log(\"PROPS: \", this.props.location.state);\n        this.setState({loading: false});\n    }\n\n    // Keeps track of what tab we're on, for the event of user refresh\n    componentDidUpdate(){\n        if(typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.key !== 'undefined'){\n            if(this.state.key !== this.props.location.state.key){\n                //console.log(\"Saving a new Key: \", this.state.key);\n                //console.log(\"State:\", this.state);\n                this.props.history.push({\n                    pathname: `/${this.state.user.username}`,\n                    state: {\n                        user: this.state.user,\n                        key: this.state.key,\n                        ownedByUser: this.state.ownedByUser,\n                        loggedIn: this.state.loggedIn,\n                        requestedBy: this.state.requestedBy,\n                        about: this.state.about,\n                        profile: this.state.profile,\n                        portfolio: this.state.portfolio,\n                        contact: this.state.contact,\n                        education: this.state.education,\n                        hobbies: this.state.hobbies,\n                        skills: this.state.skills,\n                        projects: this.state.projects,\n                        images: this.state.images\n                    }\n                })\n                return;\n            }\n        } else{\n            this.props.history.push({\n                pathname: `/${this.state.user.username}`,\n                state: {\n                    user: this.state.user,\n                    key: \"home\",\n                    ownedByUser: this.state.ownedByUser,\n                    loggedIn: this.state.loggedIn,\n                    requestedBy: this.state.requestedBy,\n                    about: this.state.about,\n                    profile: this.state.profile,\n                    portfolio: this.state.portfolio,\n                    contact: this.state.contact,\n                    education: this.state.education,\n                    hobbies: this.state.hobbies,\n                    skills: this.state.skills,\n                    projects: this.state.projects,\n                    images: this.state.images\n                }\n            })\n        }\n    }\n    \n    // ABOUT Tab\n    updateLocation = async (locationToUpdate, user_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateLocation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id, \n                location: locationToUpdate\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateBio = async(bioToUpdate, user_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateBio',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id, \n                bio: bioToUpdate\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    \n    createHobby = async(user_id, hobby, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createHobby',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                hobby: hobby,\n                position: idx\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    } \n    updateHobby = async(hobby_id, hobby, user_id, rowIdx) => {\n        this.setState({loading: true});\n        console.log(\"[Profile.jsx] Recieved Position:\", rowIdx);\n        const response = await fetch('/updateHobby',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                hobby_id: hobby_id, \n                hobby: hobby,\n                user_id: user_id,\n                position: rowIdx\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    deleteHobby = async(hobby_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteHobby',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                hobby_id: hobby_id\n            }\n        });\n        const data = await response.json();\n        ///console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    createSkill = async(user_id, skill, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createSkill',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                skill: skill,\n                position: idx\n            }\n        });\n        const data = await response.json();\n       // console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n    updateSkill = async(skill_id, skill, user_id, rowIdx) => {\n        this.setState({loading: true});\n        console.log(\"[Profile.jsx] Recieved Position:\", rowIdx);\n        const response = await fetch('/updateSkill',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                skill_id: skill_id, \n                skill: skill,\n                user_id: user_id,\n                position: rowIdx\n            }\n        });\n        const data = await response.json();\n        console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    deleteSkill = async(skill_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteSkill',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                skill_id: skill_id\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    // CONTACT Tab\n    updateEmail = async(user_id, public_email) => {\n        this.setState({loading: true});\n        const response = await fetch('/updatePublicEmail',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id, \n                public_email: public_email\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updatePhone = async(user_id, phone) => {\n        this.setState({loading: true});\n        const response = await fetch('/updatePhone',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id, \n                phone: phone\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createLink = async(user_id, linkObj, idx) =>{\n        this.setState({loading: true});\n        const response = await fetch('/createLink',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                linkObj: linkObj,\n                position: idx\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateLink = async(linkObj, user_id, rowIdx) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateLink',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                linkObj: linkObj,\n                user_id: user_id,\n                position: rowIdx\n            })\n        });\n        const data = await response.json();\n        console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    deleteLink = async(link_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteLink',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                link_id: link_id\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    // PORTFOLIO Tab\n\n    createProject = async(user_id, project, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createProject',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                title: project.title,\n                description: project.description,\n                organization: project.organization,\n                from_when: project.from_when,\n                to_when: project.to_when,\n                link: project.link,\n                position: idx\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    updateProject = async(user_id, project, rowIdx) => {\n        this.setState({loading: true});\n        //console.log(\"Profile.jsx Recieved Project:\", project)\n        const response = await fetch('/updateProject',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                project_id: project.project_id, \n                user_id: user_id,\n                title: project.title,\n                description: project.description,\n                organization: project.organization,\n                from_when: project.from_when,\n                to_when: project.to_when,\n                link: project.link,\n                position: rowIdx\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    } \n    \n    deleteProject = async(project_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteProject',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                project_id: project_id\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    createWorkExperience = async(user_id, workExperience, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createWorkExperience',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                occupation: workExperience.occupation,\n                organization: workExperience.organization,\n                from_when: workExperience.from_when,\n                to_when: workExperience.to_when,\n                description: workExperience.description,\n                position: idx\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    updateWorkExperience = async(user_id, workExperience, rowIdx) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateWorkExperience',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                portfolio_id: workExperience.portfolio_id, \n                user_id: user_id,\n                occupation: workExperience.occupation,\n                organization: workExperience.organization,\n                from_when: workExperience.from_when,\n                to_when: workExperience.to_when,\n                description: workExperience.description,\n                position: rowIdx\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    deleteWorkExperience = async(portfolio_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteWorkExperience',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                portfolio_id: portfolio_id\n            }\n        });\n        const data = await response.json();\n        console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    createEducation = async(user_id, education, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createEducation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                organization: education.organization,\n                education: education.education,\n                from_when: education.from_when,\n                to_when: education.to_when,\n                description: education.description,\n                position: idx\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    updateEducation = async(user_id, education, rowIdx) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateEducation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                education_id: education.education_id, \n                user_id: user_id,\n                organization: education.organization,\n                education: education.education,\n                from_when: education.from_when,\n                to_when: education.to_when,\n                description: education.description,\n                position: rowIdx\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    deleteEducation = async(education_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteEducation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                education_id: education_id\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return data;\n    }\n\n    // HOME Tab\n    updateFullname = async(user_id, fullname) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateFullname',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                fullname: fullname\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createCurrentOccupation = async(user_id, occupation) => {\n        this.setState({loading: true});\n        const response = await fetch('/createCurrentOccupation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                occupation: occupation\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateCurrentOccupation = async(user_id, occupation) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateCurrentOccupation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                occupation: occupation\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createCurrentOrganization = async(user_id, organization) => {\n        this.setState({loading: true});\n        const response = await fetch('/createCurrentOrganization',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                organization: organization\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateCurrentOrganization = async(user_id, organization) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateCurrentOrganization',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                organization: organization\n            }\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    \n    createProfileImages = async(user_id, base64image, base64preview, prefix) => {\n        this.setState({loading: true});\n        const response = await fetch('/createProfileImages',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                base64image: base64image,\n                base64preview: base64preview,\n                prefix: prefix\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateProfileImages = async(user_id, base64image, base64preview, prefix) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateProfileImages',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                base64image: base64image,\n                base64preview: base64preview,\n                prefix: prefix\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updatePreviewCoords = async(user_id, x, y, r) => {\n        this.setState({loading: true})\n        const response = await fetch('/updatePreviewCoords',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                x: x,\n                y: y,\n                radius: r\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateFont = async(user_id, updatedFont) => {\n        this.setState({loading: true})\n        console.log(\"Profile recieved font:\", updatedFont)\n        const response = await fetch('/updateFont',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                font: updatedFont\n            })\n        });\n        const data = await response.json();\n       // console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateSize = async(user_id, updatedSize) => {\n        this.setState({loading: true})\n        console.log(\"Profile recieved size:\", updatedSize)\n        const response = await fetch('/updateFontSize',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                size: updatedSize\n            })\n        });\n        const data = await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    render(){\n\n        return(\n            <div className=\"container\">\n\n                {this.state.loading\n                \n                ? <div className=\"loading-container\">\n                    <div className=\"holder\">\n                        <div className='box'>\n                        </div>\n                    </div>\n                    <div className=\"holder\">\n                        <div className='box'>\n                        </div>\n                    </div>\n                    <div className=\"holder\">\n                        <div className='box'>\n                        </div>\n                    </div>\n                </div>\n                \n                : <><NavBar {...this.props} data={this.state}/>\n                <div className=\"tabulation-container\" \n                    style={{\n                        fontFamily: typeof(this.state.profile[0]) !== 'undefined'\n                            ? this.state.profile[0].font : null, \n                        fontSize: typeof(this.state.profile[0]) !== 'undefined'\n                            ? this.state.profile[0].font_size : null\n                        }}>\n                <div className=\"user-container\">\n                    <Tabs\n                    className=\"tab-style mt-4\"\n                    activeKey={this.state.key}\n                    onSelect={(k) => this.setState({key: k})}\n                        >\n                        <Tab eventKey=\"home\" title=\"Home\" />\n                        <Tab eventKey=\"about\" title=\"About\" />\n                        <Tab eventKey=\"portfolio\" title=\"Portfolio\" />\n                        <Tab eventKey=\"contact\" title=\"Contact\" />\n                    </Tabs>\n                </div>\n\n                <div className=\"info-container\">\n                    { this.state.key === \"home\" ? \n                        <Home {...this.props} data={this.state} \n                            updateFullname={this.updateFullname}\n                            createCurrentOccupation={this.createCurrentOccupation}\n                            updateCurrentOccupation={this.updateCurrentOccupation}\n                            createCurrentOrganization={this.createCurrentOrganization}\n                            updateCurrentOrganization={this.updateCurrentOrganization}\n                            updateEmail={this.updateEmail}\n                            updatePhone={this.updatePhone}\n                            updateLocation={this.updateLocation}\n                            updateFont={this.updateFont}\n                            updateSize={this.updateSize}\n                            createProfileImages={this.createProfileImages}\n                            updateProfileImages={this.updateProfileImages}\n                            updatePreviewCoords={this.updatePreviewCoords}\n                        />\n                    : null }\n\n                    { this.state.key === \"about\" ?  \n                        <About {...this.props} \n                            data={this.state} \n                            updateLocation={this.updateLocation}\n                            updateBio={this.updateBio}\n                            updateHobby={this.updateHobby}\n                            updateSkill={this.updateSkill}\n                            createHobby={this.createHobby}\n                            createSkill={this.createSkill}\n                            deleteHobby={this.deleteHobby}\n                            deleteSkill={this.deleteSkill}\n                        />\n                    : null } \n\n                    { this.state.key === \"portfolio\" ?\n                        <Portfolio {...this.props} data={this.state}\n                            createProject={this.createProject}\n                            updateProject={this.updateProject}\n                            deleteProject={this.deleteProject}\n                            createWorkExperience={this.createWorkExperience}\n                            updateWorkExperience={this.updateWorkExperience}\n                            deleteWorkExperience={this.deleteWorkExperience}\n                            createEducation={this.createEducation}\n                            updateEducation={this.updateEducation}\n                            deleteEducation={this.deleteEducation}\n                        />\n                    : null }\n\n                    { this.state.key === \"contact\" ?\n                        <Contact {...this.props} data={this.state}\n                            updateEmail={this.updateEmail}\n                            updatePhone={this.updatePhone}\n                            createLink={this.createLink}\n                            updateLink={this.updateLink}\n                            deleteLink={this.deleteLink}\n                        />\n                    : null }\n                </div> \n            </div>\n            </>}\n        </div>\n        );\n    }\n\n}\n\nexport default Profile;\n","import { Validated } from '../newRegistration/Validated';\n\nfunction length(obj) {\n    if((!(typeof(obj) !== 'undefined')) || (obj == null)) return 0;\n    return Object.keys(obj).length;\n}\n\n\nexport const registerUser = (credentials, next) => {\n    const errors = Validated(credentials);\n    \n    if(length(errors) > 0){\n        return next({failedAttempt: true, errors: errors});\n    }\n    else{\n        fetch('/newUser', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(credentials),\n        })\n        .then(response => response.json())\n        .then(data => {\n            return next(data);\n        })\n        .catch((err) => {\n            console.error('Error:', err);\n        });\n    }\n}","export const Validated = (credentials) => {\n    const {\n        fullname,\n        email,\n        username,\n        password,\n        passwordCheck\n    } = credentials;\n\n    let errors = {};\n\n    if (fullname === \"\") {\n        errors[\"fullname\"] = \"Please enter your full name.\";\n    }\n    if (fullname.length > 49) {\n        errors[\"fullnameLength\"] = \"Full name must be less than 50 characters.\";\n    }\n    if (email === \"\") {\n        errors[\"email\"] = \"Please enter an email address.\";\n    }\n    if (email !== '') {\n        var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n        if (!pattern.test(email)) {\n            errors[\"invalidEmail\"] = \"Please enter a valid email address.\";\n        }\n    }\n    if (password === \"\") {\n        errors[\"password\"] = \"Please enter a password.\";\n    } else if(password.length < 7 || password.length > 19){\n        errors[\"passwordLength\"] = \"Password must be between 8 and 20 characters.\";\n    } \n\n    if(username === \"\"){\n        errors[\"username\"] = \"Please enter a username.\";\n    } else if(username.length < 7 || username.length > 49){\n        errors[\"usernameLength\"] = \"Username must be between 8 and 50 characters.\"\n    } else{\n        var regexp = new RegExp(/^[a-zA-Z0-9-_]+$/);\n        if(!regexp.test(username)){\n            errors[\"invalidUsername\"] = \"Username can only contrain alphanumeric values, dashes, or underscores.\"\n        }\n    }\n\n    if(passwordCheck === \"\"){\n        errors[\"passwordCheck\"] = \"Please confirm your password.\";\n    }\n    else if(passwordCheck !== password){\n        errors[\"noMatch\"] = \"Passwords do not match!\";\n    }\n\n    return errors;\n}","import { useEffect, useState } from 'react';\nimport { registerUser } from '../newRegistration/RegisterUser';\nimport { Alert, Form } from 'react-bootstrap';\nimport Switch  from '../switch';\nimport auth from '../auth';\nimport './form.css';\n\nexport const HomeSlider = (props) => {\n    console.log(\"Test Registration Recieved props:\", props);\n\n    // Login Hooks\n    const [loginEmail, setLoginEmail] = useState();\n    const [loginPassword, setLoginPassword] = useState();\n    // Registration Hooks\n    const [registerFullName, setRegisterFullName] = useState(\"\");\n    const [registerUsername, setRegisterUserName] = useState(\"\");\n    const [registerEmail, setRegisterEmail] = useState(\"\");\n    const [registerPassword, setRegisterPassword] = useState(\"\");\n    const [registerPasswordCheck, setRegisterPasswordCheck] = useState(\"\");\n    const [showPassword, setShowPassword] = useState(false);\n\n    const [errors, setErrors] = useState({            \n        fullname: \"\",\n        fullnameLength:\"\",\n        email: \"\",\n        invalidEmail: \"\",\n        password: \"\",\n        passwordLength: \"\",\n        username: \"\",\n        usernameLength:\"\",\n        invalidUsername: \"\",\n        passwordCheck: \"\",\n        noMatch: \"\"\n    });\n\n    const [showAlertRegistered, setShowAlertRegistered] = useState(false);\n    const [showAlertLogout, setShowAlertLogout] = useState(false);\n    const [showAlertLoginFail, setShowAlertLoginFail] = useState(false);\n\n    useEffect(() => {\n        let postData = {};\n        if(typeof(props.location.state) !== 'undefined'){\n            postData = props.location.state;\n            console.log(\"Recieved POST Response:\", postData);\n            let tmpErrors = {...postData.errors};\n            if(postData.failedAttempt){\n                if(postData.emailTaken){\n                    tmpErrors[\"emailTaken\"] = \"Email already exists!\";\n                }\n                if(postData.usernameTaken){\n                    tmpErrors[\"usernameTaken\"] = \"Username already exists!\";\n                }\n                setErrors(tmpErrors);\n                console.log(\"Failed to Register. Errors:\", tmpErrors);\n            } \n            else if(postData.loggedOut){\n                setShowAlertLogout(true);\n                props.history.push('/');\n            }\n            else if(postData.loginFailure){\n                setShowAlertLoginFail(true);\n            }\n            else{\n                clearState();\n                setShowAlertRegistered(true);\n                document.getElementById('slider-container').classList.remove(\"sign-up-container-2\");\n\n                document.getElementById('slider-container').classList.remove(\"right-panel-active\");\n            }\n        }\n    }, [props])\n\n    const handleEmailChange = (email) => {\n        let tmpErrors = {...errors};\n        if(errors[\"emailTaken\"] && email !== registerEmail){\n            tmpErrors[\"emailTaken\"] = \"\";\n        }\n        setErrors(tmpErrors);\n        setRegisterEmail(email);\n    }\n\n    const handleUsernameChange = (username) => {\n        let tmpErrors = {...errors};\n        if(errors[\"usernameTaken\"] && username !== registerUsername){\n            tmpErrors[\"usernameTaken\"] = \"\";\n        }\n        setErrors(tmpErrors);\n        setRegisterUserName(username);\n    }\n\n    const clearState = () => {\n        setRegisterFullName(\"\");\n        setRegisterUserName(\"\");\n        setRegisterEmail(\"\");\n        setRegisterPassword(\"\");\n        setRegisterPasswordCheck(\"\");\n        setErrors({\n            fullname: \"\",\n            fullnameLength:\"\",\n            email: \"\",\n            emailTaken: \"\",\n            invalidEmail: \"\",\n            password: \"\",\n            passwordLength: \"\",\n            username: \"\",\n            usernameLength:\"\",\n            usernameTaken: \"\",\n            invalidUsername: \"\",\n            passwordCheck: \"\",\n            noMatch: \"\"\n        });\n        setShowAlertRegistered(false);\n        setShowAlertLoginFail(false);\n    };\n\n\n    // Only runs once (acts like componentDidMount)\n    useEffect(() => {\n        const signUpButton = document.getElementById('signUp');\n        const signInButton = document.getElementById('signIn');\n        const register = document.getElementById('register');\n        const backBtn = document.getElementById('back');\n        const container = document.getElementById('slider-container');\n\n        signUpButton.addEventListener('click', () => {\n            container.classList.add(\"right-panel-active\");\n        });\n        signInButton.addEventListener('click', () => {\n            container.classList.remove(\"right-panel-active\");\n        });\n        register.addEventListener('click', () => {\n            container.classList.add(\"sign-up-container-2\");\n        })\n        backBtn.addEventListener('click', () => {\n            container.classList.remove(\"sign-up-container-2\");\n            setShowPassword(false);\n        })\n        clearState();\n    }, [])\n\n    \n    return(\n        <>\n        <div className=\"register-body\">\n        <img style={{height: \"50px\", margin: \"5%\"}} src=\"/mp-new-logo.png\" alt=\"logo\"/>\n        <div className=\"slider-container\" id=\"slider-container\">\n            <div className=\"form-container back-btn-container\" id=\"back\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"white\" className=\"bi bi-arrow-left-circle\" viewBox=\"0 0 16 16\">\n                        <path fillRule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\"/>\n                    </svg>\n                </div>\n            \n            <h1 className=\"register-title\">Register</h1>\n            <div className=\"form-container sign-up-container\">\n                <div className=\"form-box\">\n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"fullname\"] || errors[\"fullnameLength\"]}\n                        type=\"text\"\n                        value={registerFullName}\n                        placeholder=\"Full Name\" \n                        onChange={e => setRegisterFullName(e.target.value)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"fullname\"] && registerFullName === \"\" \n                        ? errors[\"fullname\"] : null}\n                        {errors[\"fullnameLength\"] ? errors[\"fullnameLength\"] : null }\n                    </Form.Control.Feedback>                        \n                        <br/>\n                    <Form.Control\n                        custom\n                        type=\"email\" \n                        value={registerEmail}\n                        isInvalid={errors[\"email\"] || errors[\"invalidEmail\"] || errors[\"emailTaken\"]}\n                        placeholder=\"Email\" \n                        onChange={e => {\n                            handleEmailChange(e.target.value);\n                        }}/>\n                        <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"email\"] && registerEmail === \"\"\n                        ? errors[\"email\"] : null}\n                        {errors[\"emailTaken\"] ? errors[\"emailTaken\"]: null}\n                        {errors[\"invalidEmail\"] ? errors[\"invalidEmail\"] : null}\n                        </Form.Control.Feedback>          \n                        <br/>\n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"password\"] || errors[\"passwordLength\"]}\n                        type={showPassword ? 'text' : 'password'} \n                        value={registerPassword}\n                        placeholder=\"Password\"\n                        onChange={e => setRegisterPassword(e.target.value)} \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"password\"] && registerPassword === \"\" \n                        ? errors[\"password\"] : null}\n                        {errors[\"passwordLength\"] ? errors[\"passwordLength\"] : null }\n                    </Form.Control.Feedback>                 \n                    <br/>\n                </div>\n            </div>\n            <button className=\"form-button register-btn\" id=\"register\">Sign Up</button>\n\n            <div className=\"form-container sign-up-2\">\n                <div className=\"form-box\">\n\n                    <label>Select a Username</label>\n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"username\"] || errors[\"usernameLength\"] || errors[\"invalidUsername\"] || errors[\"usernameTaken\"]}\n                        type=\"text\" \n                        placeholder=\"Username\" \n                        value={registerUsername}\n                        onChange={e => {\n                            handleUsernameChange(e.target.value)\n                        }}/><br/>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"username\"] && registerUsername === \"\"\n                        ? errors[\"username\"] : null}\n                        {errors[\"usernameTaken\"] ? errors[\"usernameTaken\"] : null}\n                        {errors[\"invalidUsername\"] ? errors[\"invalidUsername\"]: null}\n                        {errors[\"usernameLength\"]  ? errors[\"usernameLength\"] : null}\n                    </Form.Control.Feedback>      \n                    <label>Show Password </label>\n                    <Switch\n                        type=\"register\"\n                        isOn={showPassword}\n                        handleToggle={() => setShowPassword(!showPassword)}\n                    />\n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"passwordCheck\"] || errors[\"noMatch\"]}\n                        type={showPassword ? 'text' : 'password'} \n                        value={registerPasswordCheck}\n                        placeholder=\"Confirm Password\"\n                        onChange={e => setRegisterPasswordCheck(e.target.value)} \n                    /><br/>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"passwordCheck\"] && registerPasswordCheck === \"\" \n                        ? errors[\"passwordCheck\"] : null}\n                        {errors[\"noMatch\"] ? errors[\"noMatch\"] : null }\n                    </Form.Control.Feedback>         \n                    <button className=\"form-button finish\" id=\"register2\"\n                        onClick={() => {\n                            const credentials = {\n                                fullname: registerFullName,\n                                email: registerEmail,\n                                username: registerUsername,\n                                password: registerPassword,\n                                passwordCheck: registerPasswordCheck\n                            };\n                            registerUser(credentials, (res) => { \n                                // Invalid Request\n                                if(res.failedAttempt){\n                                    props.history.push({\n                                        pathname: '/',\n                                        state: res\n                                    });\n                                // Successful Registration\n                                } else{\n                                    props.history.push({\n                                        pathname: '/',\n                                        state: {failedAttempt: false, newlyRegistered: true}\n                                    });\n                                }\n                            })\n                        }}\n                    >Finish</button>\n                </div>\n            </div>\n            \n            <div className=\"form-container sign-in-container\">\n                <div className=\"form-box\">\n                    {showAlertRegistered\n                    ? <Alert variant=\"success\" onClose={() => setShowAlertRegistered(false)} dismissible>You were successfully registered!</Alert>\n                    : null}\n\n                    {showAlertLogout\n                    ? <Alert variant=\"success\" onClose={() => setShowAlertLogout(false)} dismissible>You successfully logged out!</Alert>\n                    : null}\n\n                    {showAlertLoginFail\n                    ? <Alert variant=\"danger\" onClose={() => setShowAlertLoginFail(false)} dismissible>Invlaid email or password!</Alert>\n                    : null}\n\n                    <h1>Sign in</h1><br/>\n\n                    <input type=\"email\" placeholder=\"Email or Username\" \n                        onChange={e => setLoginEmail(e.target.value)}\n                    /><br/>\n                    <input type=\"password\" placeholder=\"Password\" \n                        onChange={e => setLoginPassword(e.target.value)}\n                    /><br/>\n                    {/* eslint-disable-next-line} */}\n                    <a href=\"/forgot\">Forgot your password?</a>\n                    <button className=\"form-button\" \n                        onClick={() => {\n                            auth.login(loginEmail, loginPassword, \n                                (res) => { \n                                    if(typeof res[\"error\"] !== 'undefined'){\n                                        props.history.push({\n                                            pathname: '/',\n                                            state: {loginFailure: true}\n                                        });\n                                    }\n                                    else{\n                                        res[\"ownedByUser\"] = true;\n                                        props.history.push({\n                                            pathname: `/${res.username}`,\n                                            state: {\n                                                user: res,\n                                                requestedBy: res\n                                            }\n                                        });\n                                    }\n                                })\n                            }\n                    }>Sign In</button>\n                </div>\n            </div>\n            <div className=\"overlay-container\">\n                <div className=\"overlay\">\n                    <div className=\"overlay-panel overlay-left\">\n                        <h1>Welcome Back!</h1>\n                        <p className=\"overlay-description\">\n                            Already a member?<br/>\n                            Sign in now!\n                        </p>\n                        <button className=\"ghost\" id=\"signIn\">Sign In</button>\n                    </div>\n                    <div className=\"overlay-panel overlay-right\">\n                        <h1>Hello, Friend!</h1>\n                        <p className=\"overlay-description\">\n                            Not a member yet?<br/>\n                            Sign up for free today!\n                        </p>\n                        <button className=\"ghost\" id=\"signUp\">Sign Up</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </div>\n    </>\n    )\n}\n","import React, {Component} from 'react'\nimport { Form } from 'react-bootstrap';\n\nexport default class ResetPassword extends Component{\n    constructor(){\n        super();\n        \n        this.state = {\n            email: '',\n            password: '',\n            confirmPassword: '',\n            updated: false,\n            error: false,\n            errors: {null: '', noMatch: '', length: ''}\n        }\n    }\n\n    async componentDidMount(){\n        console.log(this.props.match.params.token)\n        const response = await fetch(`/resetPassword/${this.props.match.params.token}`, {\n            method: 'GET', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n        })\n        const res = await response.json();\n\n        if(!res.authenticated){\n            this.setState({\n                error: true,\n                updated: false\n            })\n        }\n        else{\n            console.log(\"Authenticated! Response: \", res);\n            this.setState({\n                updated: false,\n                email: res.email,\n\n            })\n        }\n    }\n\n    handleChange = name => event => {\n        this.setState({\n            [name]: event.target.value\n        });\n    };\n\n    length(obj) {\n        if((!(typeof(obj) !== 'undefined')) || (obj == null)) return 0;\n        return Object.keys(obj).length;\n    }\n\n    updatePassword = async(e) => {\n        const tmpErrs = this.validatePasswords();\n        console.log(tmpErrs)\n        if(tmpErrs['null'] || tmpErrs['noMatch'] || tmpErrs['length']){\n            this.setState({errors: tmpErrs});\n        }\n        else{\n            this.setState({errors: {null: '', noMatch: '', length: ''}})\n            console.log(this.props.match.params.token);\n            \n            const response = await fetch(`/resetPassword/${this.props.match.params.token}`, {\n                method: 'POST', \n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                withCredentials: true,\n                body: JSON.stringify({\n                    email: this.state.email,\n                    password: this.state.password\n                })\n            })\n            const res = await response.json();\n            if(res.updated){\n                this.setState({\n                    email: res.email,\n                    updated: true,\n                    error: false\n                });\n            } else{\n                this.setState({\n                    updated: false,\n                    error: true\n                });\n            }\n        }\n    }\n\n    validatePasswords = () => {\n        const errors = {null: '', noMatch: '', length: ''}\n        const {password, confirmPassword} = this.state;\n        \n        if(!password){\n            errors['null'] = 'Please enter a password.';\n        } else if(password.length < 7 || password.length > 19){\n            errors['length'] = 'Passwords must be between 8 and 20 characters.';\n        }\n\n        if(!confirmPassword){\n            errors['null'] = 'Please enter a password.';\n        } else if(confirmPassword.length < 7 || confirmPassword.length > 19){\n            errors['length'] = 'Passwords must be between 8 and 20 characters.';\n        }\n\n        if(password !== confirmPassword){\n            errors['noMatch'] = 'Passwords do not match.'\n        }\n        return errors;\n    }\n\n    render(){\n        const {password, confirmPassword, error, updated, errors} = this.state;\n\n        if(error){\n            return(\n                <div className=\"register-body\">\n                    <div className=\"slider-container\" id=\"slider-container\">\n                        <div className=\"form-box\">\n                            <h4>Error resetting password. Please send another reset link.</h4>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else{\n            return(\n                <div className=\"register-body\">\n                    <div className=\"slider-container\" id=\"slider-container\">\n                        <div className=\"form-box\">\n                            <h4>Reset Password</h4>\n\n                            <Form.Control\n                            custom\n                            isInvalid={errors['null'] || errors['length'] || errors['noMatch']} \n                            type=\"password\" placeholder=\"New Password\" value={password}\n                            onChange={e => \n                                this.setState({password: e.target.value})\n                            }/><br/>\n\n                            <Form.Control\n                            custom\n                            isInvalid={errors['null'] || errors['length'] || errors['noMatch']} \n                            type=\"password\" placeholder=\"Confirm Password\" value={confirmPassword}\n                            onChange={e => \n                                this.setState({confirmPassword: e.target.value})\n                            }/><br/>\n                            <Form.Control.Feedback type=\"invalid\">\n                                {errors['null'] && !confirmPassword && !password\n                                ? errors['null']\n                                : null}\n                                {errors['noMatch']\n                                ? errors['noMatch'] + '\\n'\n                                : null}\n                                {errors['length']\n                                ? errors['length']+ '\\n'\n                                : null}\n                            </Form.Control.Feedback>      \n                            <button className=\"form-button\" onClick={e => {\n                                this.updatePassword(e)\n                            }}>Reset</button>\n\n                            {updated\n                            ? <><br/><p>Your password has been successfully reset, please try logging in again.</p>\n                            <button className=\"form-button\" onClick={e => {\n                                this.props.history.push('/')\n                            }}>Home</button></>\n                            : null}\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n\n}","import { useState } from 'react';\nimport { Modal } from 'react-bootstrap';\n\nexport const Footer = () => {\n    const [showAbout, setShowAbout] = useState(false);\n    const [showContact, setShowContact] = useState(false);\n    // onClose Handlers\n    const handleShowAbout = () => setShowAbout(true);\n    const handleShowContact = () => setShowContact(true);\n    const handleCloseAbout = () => setShowAbout(false);\n    const handleCloseContact = () => setShowContact(false);\n    \n    return(\n        <footer style={{\n            height: '100px',\n            position: 'relative'\n        }}>\n            \n        <div className=\"footer-style\">\n            <h3>my-portfol.io</h3>\n            <div className=\"modaling-style\">\n            <button style={{background: 'none', textDecoration: 'underline', border: 'none', color:'#18b848'}} onClick={handleShowAbout}>About us</button>\n            <button style={{background: 'none', textDecoration: 'underline', border: 'none', color:'#18b848'}} onClick={handleShowContact}>Contact us</button>\n            </div>\n        </div>\n\n        <Modal\n            show={showAbout}\n            onHide={handleCloseAbout}\n            backdrop=\"static\"\n            size=\"lg\"\n            centered\n            scrollable={false}>\n                <Modal.Header closeButton><Modal.Title><h3>About my-portfol.io</h3></Modal.Title></Modal.Header>\n                <Modal.Body><p>My-portfol.io was created and is managed by developers <a href=\"/johnfurlong\" target=\"_blank\" rel=\"noreferrer\">John Furlong</a> and <a href=\"/tristanhanna\" target=\"_blank\" rel=\"noreferrer\">Tristan Hanna</a>. We aim to solve all your recruting and job search needs with our platform.</p></Modal.Body>\n        </Modal>\n\n        <Modal\n            show={showContact}\n            onHide={handleCloseContact}\n            backdrop=\"static\"\n            size=\"lg\"\n            centered\n            scrollable={false}>\n                <Modal.Header closeButton><Modal.Title><h3>Contact my-portfol.io</h3></Modal.Title></Modal.Header>\n                <Modal.Body><p>You can contact us at myportfolio.help@gmail.com</p></Modal.Body>\n        </Modal>\n            \n        </footer>\n    )\n}\n","import React from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\n// Components\n// import { Welcome } from \"./views/welcome\";\nimport ForgotPassword from './views/ForgotPassword'\nimport Profile from './views/profile';\nimport {HomeSlider} from './components/slider/form';\nimport ResetPassword from './views/ResetPassword';\nimport { Footer } from './views/Footer'\n\nfunction App() {\n  return (\n    <>\n    <div className=\"App\" \n      style={{\n        backgroundImage: 'url(/geo-bg.png)', \n        backgroundRepeat: 'no-repeat',\n         backgroundSize: 'cover', \n         backgroundAttachment: 'fixed',\n         minHeight:'100vh', \n         minWidth: '100vw',\n         paddingBottom: '140px'\n      }}>\n      <Switch>\n        <Route exact path=\"/\" component={HomeSlider} />\n        <Route exact path=\"/forgot\" component={ForgotPassword} />\n        <Route exact path=\"/reset/:token\" component={ResetPassword} />\n        <Route exact path=\"/:username\" component={Profile} />\n        <Route path=\"*\" component={() => \"404 Not Found\"} />\n      </Switch>\n    </div>\n    <Footer/></>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './index.css';\n\nReactDOM.render((\n    <BrowserRouter>\n        <App />   \n    </BrowserRouter>\n), document.getElementById('root'));\n"],"sourceRoot":""}