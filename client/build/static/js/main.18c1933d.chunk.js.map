{"version":3,"sources":["views/ForgotPassword.jsx","components/alerts.jsx","components/auth.jsx","views/navbar.jsx","components/alertDismissible.jsx","components/testAvatar.jsx","views/uploadProfilePic.jsx","views/home.jsx","components/switch.jsx","views/about.jsx","components/AreYouSure.jsx","views/portfolio.jsx","views/contact.jsx","views/profile.jsx","components/newRegistration/RegisterUser.jsx","components/newRegistration/Validated.jsx","components/slider/form.jsx","views/ResetPassword.jsx","views/Footer.jsx","App.js","index.js"],"names":["ForgotPassword","handleEmailChange","e","setState","email","target","value","sendEmail","a","preventDefault","tmpErr","notFound","none","state","error","errors","msgFromServer","fetch","method","headers","mode","credentials","withCredentials","body","JSON","stringify","response","json","res","data","this","className","id","xmlns","width","height","fill","viewBox","onClick","props","history","push","fill-rule","d","Form","Control","custom","isInvalid","type","placeholder","onChange","Feedback","Component","AlertMsg","msg","severity","Alert","authenticated","user","user_id","firstname","lastname","username","password","next","then","console","log","catch","err","NavBar","loggedIn","requestedBy","Navbar","sticky","collapseOnSelect","expand","style","background","Brand","href","src","alt","Toggle","aria-controls","Collapse","Nav","Item","Dropdown","fullname","Menu","Link","auth","logout","pathname","loggedOut","AlertDismissible","bsPrefix","show","showAlert","variant","Heading","textAlign","Button","setShow","handleSave","setEdited","setShowAlert","discardChanges","Avatar","containerId","generateHash","loaderId","onFileLoad","bind","onCloseClick","imgWidth","imgHeight","scale","lastMouseY","cropX","cropY","new","showLoader","img","lineWidth","closeIconColor","cropColor","mimeTypes","backgroundColor","shadingColor","shadingOpacity","mobileScaleSpeed","cropRadius","minCropRadius","image","prefix","s4","Math","floor","random","toString","substring","onClose","crop","x","halfWidth","y","halfHeight","getCropCoords","radius","onCrop","file","elem","onBeforeFileLoad","onImageLoad","Image","complete","init","onload","onImageLoadCallback","onBeforeFileLoadCallback","files","onFileLoadCallback","ref","EXIF","getData","exifOrientation","getTag","LoadImage","orientation","meta","onCloseCallback","originalWidth","originalHeight","ration","imageWidth","imageHeight","cropR","warn","calculatedRadius","max","min","initCanvas","stage","initStage","initBackground","shading","initShading","initCrop","cropStroke","initCropStroke","resize","initResize","resizeIcon","initResizeIcon","layer","Konva","Layer","add","scaledRadius","isLeftCorner","isTopCorner","isRightCorner","isBottomCorner","calcScaleRadius","calcResizerX","calcResizerY","moveResizer","getPreview","toDataURL","onScaleCallback","scaleY","isNotOutOfScale","fire","onCropCallback","on","setFillPatternOffset","container","cursor","evt","dragEvt","changedTouches","pageY","newMouseY","ieScaleFactor","undefined","movementY","Stage","Rect","strokeWidth","opacity","Circle","fillPatternImage","fillPatternOffset","fillPatternScale","draggable","dashEnabled","dash","stroke","strokeScaleEnabled","dragBoundFunc","pos","getAbsolutePosition","Path","display","justifyContent","position","label","labelStyle","lineHeight","borderStyle","name","overflow","zIndex","accept","htmlFor","left","top","React","defaultProps","fontSize","fontWeight","color","fontFamily","border","borderRadius","UploadProfilePicture","preview","initXcoord","initYcoord","initRadius","r","currentPrefix","stagePreview","fullImg","cb","reader","FileReader","readAsDataURL","result","onerror","getBase64","stageImage","stageCoords","Home","profile","location","images","info","about","useState","showDelete","setShowDelete","edited","setFullname","public_email","publicEmail","setPublicEmail","phone","setPhone","setLocation","current_occupation","currentOccupation","setCurrentOccupation","current_organization","currentOrganization","setCurrentOrganization","font","setFont","font_size","size","setSize","showEditPic","setShowEditPic","setX","setY","setR","base64image","binaryToBase64","profilePic","setProfilePic","base64preview","profileAvatar","setProfileAvatar","setPrefix","locationToCreate","locationToUpdate","updateFullname","createCurrentOccupation","updateCurrentOccupation","createCurrentOrganization","updateCurrentOrganization","createProfileImages","updateProfileImages","updateFont","updateSize","updatePreviewCoords","createLocation","length","updateLocation","updatePhone","updateEmail","window","reload","btoa","Uint8Array","reduce","tmp","byte","String","fromCharCode","FormatTextarea","text","split","map","str","idx","ownedByUser","Modal","onHide","backdrop","keyboard","centered","scrollable","Header","closeButton","Title","Body","noValidate","onSubmit","Row","Label","column","sm","defaultValue","Col","Text","indexOf","fullImage","Footer","DropdownButton","title","eventKey","active","onSelect","bottom","fillRule","Switch","isOn","handleToggle","checked","About","hobbiesData","hobbies","skillsData","skills","reordered","setReordered","changingOrder","setChangingOrder","bio","setBio","values","setHobbies","setSkills","validated","setValidated","errs","setErrs","duplicateSkill","setDuplicateSkill","duplicateHobby","setDuplicateHobby","skillsToDelete","setSkillToDelete","hobbiesToDelete","setHobbyToDelete","useEffect","handleHobbyChange","event","tmpHobbies","hobby_id","uid","hobby","toUpdate","some","removeHobby","splice","handleSkillChange","tmpSkills","skill_id","skill","removeSkill","handleOnDragEnd","destination","source","droppableId","items","Array","from","index","reorderedItem","ChangeOrder","onDragEnd","provided","droppableProps","innerRef","row","draggableId","draggableProps","dragHandleProps","validate","isValidated","forEach","stopPropagation","bioToUpdate","hobbiesToCreate","hobbiesToUpdate","skillsToCreate","skillsToUpdate","rowIdx","updateBio","createHobbies","hobbyToCreate","createHobby","updateHobbies","hobbyToUpdate","updateHobby","createSkills","skillToCreate","createSkill","updateSkills","skillToUpdate","updateSkill","reorder","deleteSkills","skillToDelete","deleteSkill","deleteHobbies","hobbyToDelete","deleteHobby","rows","replace","Group","controlId","required","right","AreYouSure","requestedDelete","setRequestedDelete","setRequestedDeleteIdx","deleteProject","deleteWork","deleteEdu","removeLink","Portfolio","portfolioData","portfolio","educationData","education","projectsData","projects","requestedDeleteIdx","duplicateProject","setDuplicateProject","duplicateWork","setDuplicateWork","duplicateEducation","setDuplicateEducation","setProjects","projectsToDelete","setProjectsToDelete","setPortfolio","workExperienceToDelete","setWorkExperienceToDelete","setEducation","educationToDelete","setEducationToDelete","occupation","projectsToCreate","projectsToUpdate","workExperienceToCreate","workExperienceToUpdate","educationToCreate","educationToUpdate","project_id","description","organization","from_when","to_when","link","portfolio_id","education_id","createProjects","projectToCreate","createProject","updateProjects","projectToUpdate","updateProject","createPortfolio","workToCreate","createWorkExperience","updateWorkExperience","workToUpdate","createEdu","eduToCreate","createEducation","updateEdu","eduToUpdate","updateEducation","deleteProjects","projectToDelete","workToDelete","deleteWorkExperience","eduToDelete","deleteEducation","FormatDate","date","dateString","year","obj","Object","keys","Tab","Container","defaultActiveKey","Badge","Content","Pane","tmpProjects","handleProjectTitleChange","as","handleProjectDescriptionChange","handleProjectOrganizationChange","DatePicker","selected","Date","newDate","offset","getTimezoneOffset","setHours","toISOString","handleProjectStartChange","handleProjectFinishChange","handleProjectLinkChange","tmpPortfolio","handlePortfolioOccupationChange","handlePortfolioOrganizationChange","handlePortfolioStartChange","handlePortfolioFinishChange","handlePortfolioDescriptionChange","duplicates","newIdx","tmpRow","tmpIdx","project","tmpEducation","handleEducationChange","handleEducationOrganizationChange","handleEducationStartChange","handleEducationFinishChange","handleEducationDescriptionChange","rel","Contact","linksData","contact","links","setLinks","emailToUpdate","setEmailToUpdate","phoneToUpdate","setPhoneToUpdate","linksToDelete","setLinksToDelete","setDuplicates","linksToCreate","linksToUpdate","link_id","createLinks","linkToCreate","createLink","updateLinks","linkToUpdate","updateLink","deleteLinks","linkToDelete","deleteLink","ChangeLinksOrder","handleLinkTitleChange","tmpLinks","handleLinkChange","handleLinkDescriptionChange","disabled","Profile","loading","linkObj","workExperience","updatedFont","updatedSize","key","alert","substr","urls","Promise","all","url","errorMsg","tmpState","Tabs","activeKey","k","registerUser","passwordCheck","RegExp","test","Validated","failedAttempt","HomeSlider","loginEmail","setLoginEmail","loginPassword","setLoginPassword","registerFullName","setRegisterFullName","registerUsername","setRegisterUserName","registerEmail","setRegisterEmail","registerPassword","setRegisterPassword","registerPasswordCheck","setRegisterPasswordCheck","showPassword","setShowPassword","fullnameLength","invalidEmail","passwordLength","usernameLength","invalidUsername","noMatch","setErrors","showAlertRegistered","setShowAlertRegistered","showAlertLogout","setShowAlertLogout","showAlertLoginFail","setShowAlertLoginFail","showAlertNotFound","setShowAlertNotFound","postData","tmpErrors","emailTaken","usernameTaken","loginFailure","clearState","document","getElementById","classList","remove","signUpButton","signInButton","register","backBtn","addEventListener","margin","handleUsernameChange","newlyRegistered","dismissible","login","ResetPassword","handleChange","updatePassword","tmpErrs","validatePasswords","null","match","params","token","updated","confirmPassword","showAbout","setShowAbout","showContact","setShowContact","showPrivacy","setShowPrivacy","textDecoration","App","backgroundImage","backgroundRepeat","backgroundSize","backgroundAttachment","minHeight","paddingBottom","exact","path","component","ReactDOM","render"],"mappings":"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","file":"static/js/main.18c1933d.chunk.js","sourcesContent":["import React, { Component } from 'react'\nimport { Form } from 'react-bootstrap';\n\nclass ForgotPassword extends Component{\n    constructor(){\n        super();\n\n        this.state = {\n            email: '',\n            error: false,\n            msgFromServer: '',\n            errors: {email: '',  notFound: '', none: ''}\n        }\n    }\n\n    handleEmailChange = (e) => {\n        this.setState({email: e.target.value});\n    }\n\n    sendEmail = async(e) => {\n        e.preventDefault();\n        var tmpErr = {email: '', notFound: '', none: ''};\n        if(this.state.email === ''){\n            tmpErr[\"email\"] = \"Please enter your username or email.\";\n            this.setState({\n                error: false,\n                errors: tmpErr,\n                msgFromServer: ''\n            });\n        }   \n        else{\n            const response = await fetch('/forgotPassword',  {\n                method: 'POST', \n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                withCredentials: true,\n                body: JSON.stringify({\n                    email: this.state.email\n                })\n            })\n            const res = await response.json();\n\n            if(res.data === 'No users registered with that email/username.'){\n                tmpErr[\"notFound\"] = \"Please enter your username or email.\";\n                this.setState({\n                    error: true,\n                    errors: tmpErr,\n                    msgFromServer:'No users registered with that email/username.' \n                });\n            } else if(res.data === 'Recovery email sent.'){\n                tmpErr['email'] = ''; tmpErr['notFound'] = '';\n                tmpErr[\"none\"] = \"An email has been sent to reset your password!\";\n                this.setState({\n                    error: false,\n                    errors: tmpErr,\n                    msgFromServer: 'An email has been sent to reset your password!'\n                });\n            }\n        }\n    }\n\n    render(){\n        const {email, error, msgFromServer} = this.state;\n        return(\n            <div className=\"register-body\">\n                <div className=\"slider-container\" id=\"slider-container\">\n                    \n                    <div className=\"form-container back-btn-container mx-4 my-4\" id=\"back\">\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"#06D6A0\" className=\"bi bi-arrow-left-circle\" viewBox=\"0 0 16 16\" \n                    onClick={() => {this.props.history.push('/')}}>\n                            <path fill-rule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\"/>\n                        </svg>\n                    </div>\n            \n                    <div className=\"form-box\">\n                        <h2>Reset Password</h2><br/>\n\n                        <Form.Control\n                        custom\n                        isInvalid={this.state.errors['email'] || this.state.errors['notFound']} \n                        type=\"email\" \n                        placeholder=\"Email or Username\" \n                        value={email}\n                            onChange={e => this.setState({email: e.target.value})}\n                        /><br/>\n\n                        <Form.Control.Feedback type=\"invalid\">\n                            {this.state.errors['email'] && email === ''\n                            ? \"Please enter your username or email.\"\n                            : null}\n                            {this.state.errors['notFound']\n                            ? \"Email/Username is not recognized. Please try again or register for a new account.\"\n                            : null}\n                        </Form.Control.Feedback>      \n                        <Form.Control.Feedback type=\"valid\">\n                            {this.state.errors['none']\n                            ? this.state.errors['none']\n                            : null}\n                        </Form.Control.Feedback>      \n                    \n                        <button className=\"form-button\" onClick={e => {\n                            this.sendEmail(e)\n                        }}>Reset</button>\n\n\n                    {msgFromServer && !error\n                    ? <><p>{msgFromServer}</p>\n                        <p>Check your spam folder if you do not see the email.</p>\n                        <button className=\"form-button\" onClick={e => {\n                            this.props.history.push('/')\n                        }}>Home</button>\n                        </>\n                    : null}\n\n                    </div>\n                </div>\n            </div>\n        );\n    }\n\n}\n\nexport default ForgotPassword;","import Alert from '@material-ui/lab/Alert';\n\n/* Valid \"severity\" types: {error, warning, info, success} */\n\nexport const AlertMsg = (type, msg) => {\n    let severity;\n    \n    if (type === \"error\" || type === \"warning\" || type === \"success\" || type === \"info\"){\n        severity = type;\n    } else{\n        return null;\n    }\n\n    return (\n        <Alert severity={severity}> {msg} </Alert>\n    );\n}","class Auth {\n    constructor(){\n        this.authenticated = false;\n        this.user = {\n            user_id: null,\n            firstname: null,\n            lastname: null,\n            email: null,\n            username: null,\n        }\n    }\n\n    login(email, password, next){\n\n        const data = { email, password };\n\n\n        fetch('/login', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(data),\n        })\n        .then(data => data.json())\n        .then(user => {\n\n            //console.log(\"User Recieved by /auth : \", user);\n            \n            if(!(typeof user !== 'undefined') || !user[\"authenticated\"]){\n                this.authenticated = false;\n                return next({error: true});\n            }\n            else{\n                // Only authenticate a user upon JSON response: {authenticated: true}\n                this.authenticated = true;\n                this.user = user.data;\n                return next(user.data);\n            }\n        })\n    }\n\n    // User remains authenticated until they log out\n    logout(next){\n        fetch('/logout', {\n            method: 'POST',\n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            withCredentials: true,\n            mode: 'cors',\n            credentials: 'include',\n        })\n        .then(data => data.json())\n        .then((res) => {\n            console.log(\"Logged Out.\");\n            this.authenticated = false;\n            return next();\n        })\n        .catch((err) => console.log(err));\n    }\n\n    isAuthenticated(){\n        return this.authenticated;\n    }\n}\n\nexport default new Auth();","import React from 'react';\nimport { Nav, Navbar, Dropdown } from 'react-bootstrap';\nimport auth from '../components/auth';\n\nexport const NavBar = (props) => {\n    //console.log(\"NavBar Component Recieved Props: \", props);\n    const loggedIn = (props.data.loggedIn !== null) ? props.data.loggedIn : false;\n    const requestedBy = (typeof(props.data.requestedBy) !== 'undefined') ? props.data.requestedBy : null;\n    \n\n    return(\n\n        <Navbar sticky=\"top\" collapseOnSelect expand=\"lg\" style={{background:'rgba(255,255,255,1)'}}>\n            {/* <Navbar.Brand onClick={() => {\n                requestedBy\n                ? this.props.history.push(`/${requestedBy.username}`)\n                : this.props.history.push('/')\n            }}> */}\n            <Navbar.Brand href={loggedIn ? `/${requestedBy.username}` : '/'}>\n                <img style={{height: \"30px\"}} src=\"/mp-new-logo.png\" alt=\"logo\"/>\n                &nbsp;&nbsp;&nbsp;\n            </Navbar.Brand>\n            <Navbar.Toggle aria-controls=\"responsive-navbar-nav\" />\n            <Navbar.Collapse className=\"justify-content-end\">\n                <Nav.Item>\n                    {loggedIn ?\n                    <Dropdown id=\"collapsible-nav-dropdown\">\n                        <Dropdown.Toggle \n                            className=\"bg-transparent text-dark\" \n                            id=\"dropdown-custom-components\"\n                        >\n                            Signed in as: <b>{requestedBy.fullname}</b>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item>\n                                <Nav.Link onClick={() => {\n                                    auth.logout(() => {\n                                        props.history.push({\n                                            pathname:\"/\",\n                                            state: {loggedOut: true}\n                                     });\n                                    });\n                                }}>Logout</Nav.Link>\n                            </Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n                    :                              \n                    <Nav.Link onClick={() => {props.history.push(\"/\");}}>Login or Register</Nav.Link>\n                    }\n                </Nav.Item>\n            </Navbar.Collapse>\n        </Navbar>\n    )\n\n\n}","import Alert from 'react-bootstrap/Alert';\nimport { Button } from 'react-bootstrap';\n\nexport const AlertDismissible = (props) => {\n    return (\n      <>\n        <Alert bsPrefix=\"edit-alert\" show={props.showAlert} variant=\"warning\">\n        <Alert.Heading style={{textAlign: 'center'}}>Attention!</Alert.Heading>\n          <p style={{textAlign: 'center'}}>\n            You have unsaved changes! Are you sure you want to exit?\n          </p>\n          <hr />\n          <div className=\"d-flex justify-content-center\">\n            <Button onClick={() => {\n                props.setShow(false); \n                props.handleSave(); \n                props.setEdited(false); \n                props.setShowAlert(false);\n            }} variant=\"outline-success\">\n                Save Changes\n            </Button>\n            <Button onClick={() => {\n                props.setShow(false); \n                props.discardChanges();\n                props.setEdited(false); \n                props.setShowAlert(false);\n            }} variant=\"outline-danger\">\n                Exit\n            </Button>\n          </div>\n        </Alert>\n      </>\n    );\n}","import React from 'react'\nimport Konva from 'konva/src/Core'\nimport EXIF from 'exif-js'\nimport LoadImage from 'blueimp-load-image'\nimport 'konva/src/shapes/Image'\nimport 'konva/src/shapes/Circle'\nimport 'konva/src/shapes/Rect'\nimport 'konva/src/shapes/Path'\nimport 'konva/src/Animation'\nimport 'konva/src/DragAndDrop'\n\nclass Avatar extends React.Component {\n\n  static defaultProps = {\n    shadingColor: 'grey',\n    shadingOpacity: 0.6,\n    cropColor: 'white',\n    closeIconColor: 'white',\n    lineWidth: 4,\n    minCropRadius: 30,\n    backgroundColor: 'grey',\n    mimeTypes: 'image/jpeg,image/png',\n    mobileScaleSpeed: 0.5, // experimental\n    onClose: () => {\n    },\n    onCrop: () => {\n    },\n    onFileLoad: () => {\n    },\n    onImageLoad: () => {\n    },\n    onBeforeFileLoad: () => {\n    },\n    label: 'Choose a file',\n    labelStyle: {\n      fontSize: '1.25em',\n      fontWeight: '700',\n      color: 'black',\n      display: 'inline-block',\n      fontFamily: 'sans-serif',\n      cursor: 'pointer'\n    },\n    borderStyle: {\n      border: '2px solid #979797',\n      borderStyle: 'dashed',\n      borderRadius: '8px',\n      textAlign: 'center'\n    }\n  };\n\n  constructor(props) {\n    super(props);\n    const containerId = this.generateHash('avatar_container');\n    const loaderId = this.generateHash('avatar_loader');\n    this.onFileLoad = this.onFileLoad.bind(this);\n    this.onCloseClick = this.onCloseClick.bind(this);\n    this.state = {\n      imgWidth: 0,\n      imgHeight: 0,\n      scale: 1,\n      containerId,\n      loaderId,\n      lastMouseY: 0,\n      cropX: props.cropX,\n      cropY: props.cropY,\n      new: props.new,\n      showLoader: !(this.props.src || this.props.img)\n    }\n    //console.log(\"Recieved src from parent:\", this.props.src);\n    //console.log(\"Recieved coords from parent:\", this.state.cropX, this.state.cropY, this.props.cropRadius);\n  }\n\n  get lineWidth() {\n    return this.props.lineWidth\n  }\n\n  get containerId() {\n    return this.state.containerId\n  }\n\n  get closeIconColor() {\n    return this.props.closeIconColor\n  }\n\n  get cropColor() {\n    return this.props.cropColor\n  }\n\n  get loaderId() {\n    return this.state.loaderId\n  }\n\n  get mimeTypes() {\n    return this.props.mimeTypes\n  }\n\n  get backgroundColor() {\n    return this.props.backgroundColor\n  }\n\n  get shadingColor() {\n    return this.props.shadingColor\n  }\n\n  get shadingOpacity() {\n    return this.props.shadingOpacity\n  }\n\n  get mobileScaleSpeed() {\n    return this.props.mobileScaleSpeed\n  }\n\n  get cropRadius() {\n    return this.state.cropRadius\n  }\n\n  get minCropRadius() {\n    return this.props.minCropRadius\n  }\n\n  get scale() {\n    return this.state.scale\n  }\n\n  get width() {\n    return this.state.imgWidth\n  }\n\n  get halfWidth() {\n    return this.state.imgWidth / 2\n  }\n\n  get height() {\n    return this.state.imgHeight\n  }\n\n  get halfHeight() {\n    return this.state.imgHeight / 2\n  }\n\n  get image() {\n    return this.state.image\n  }\n\n\n  generateHash(prefix) {\n    const s4 = () => Math.floor((1 + Math.random()) * 0x10000).toString(16).substring(1);\n    return prefix + '-' + s4() + '-' + s4() + '-' + s4()\n  }\n\n  onCloseCallback() {\n    this.props.onClose();\n  }\n\n  onCropCallback(crop, img) {\n \n    if(this.state.cropX == null && this.state.cropY == null) {\n        crop.x(this.halfWidth);\n        crop.y(this.halfHeight);\n    }\n    //console.log(\"Crop Radius:\", crop.radius());\n    if((typeof(crop.x()) !== 'undefined') && (typeof(crop.y()) !== 'undefined'))\n        this.props.getCropCoords(crop.x(), crop.y(), crop.radius());\n    console.log(\"Img preview in onCrop:\", img)\n    this.props.onCrop(img);\n  }\n\n  onFileLoadCallback(file, img) {\n    this.setState({new: true})\n    this.props.onFileLoad(file)\n  }\n\n  onBeforeFileLoadCallback(elem) {\n    this.props.onBeforeFileLoad(elem)\n  }\n\n  onImageLoadCallback(image) {\n    this.props.onImageLoad(image)\n  }\n\n  componentDidMount() {\n    if (this.state.showLoader) return;\n\n    const image = this.props.img || new Image();\n    if (!this.props.img && this.props.src) image.src = this.props.src;\n\n    this.setState({ image }, () => {\n        //console.log(\"image in componentDidMount:\", image)\n        // This is a HTML image object\n        if (this.image.complete) return this.init();\n        this.image.onload = () => {\n            this.onImageLoadCallback(this.image);\n            this.init()\n      }\n    })\n  }\n\n  onFileLoad(e) {\n    e.preventDefault();\n\n    this.onBeforeFileLoadCallback(e);\n    if(!e.target.value) return;\n\n    let file = e.target.files[0];\n    this.onFileLoadCallback(file);\n\n    const ref = this;\n    EXIF.getData(file, function() {\n      let exifOrientation = EXIF.getTag(this, \"Orientation\");\n      console.log(\"Orientation:\", exifOrientation)\n      LoadImage(\n        file,\n        function (image, data) {\n            console.log(data)\n            ref.setState({ image, file, data, showLoader: false});\n            ref.init();\n        },\n        {orientation: exifOrientation, meta: true}\n      );\n    })\n    // This is a HTML image object\n    //console.log(\"Image in onFileLoad:\", this.image)\n  }\n\n  onCloseClick() {\n    this.setState({ showLoader: true }, () => this.onCloseCallback())\n  }\n\n  init() {\n    const { height, minCropRadius, cropRadius } = this.props;\n    const originalWidth = this.image.width;\n    const originalHeight = this.image.height;\n    const ration = originalHeight / originalWidth;\n    const { imageWidth, imageHeight } = this.props;\n    let imgHeight;\n    let imgWidth;\n    let cropR = cropRadius;\n\n    if(this.state.new)\n        cropR = 0;\n\n    if (imageHeight && imageWidth) {\n      console.warn('The imageWidth and imageHeight properties can not be set together, using only imageWidth.');\n    }\n\n    if (imageHeight && !imageWidth) {\n      imgHeight = imageHeight || originalHeight;\n      imgWidth = imgHeight / ration;\n    } else if (imageWidth) {\n      imgWidth = imageWidth;\n      imgHeight = imgWidth * ration || originalHeight;\n    } else {\n      imgHeight = height || originalHeight;\n      imgWidth = imgHeight / ration;\n    }\n\n    const scale = imgHeight / originalHeight;\n    const calculatedRadius = Math.max(minCropRadius, (cropR || Math.min(imgWidth, imgHeight) / 3));\n\n    this.setState({\n      imgWidth,\n      imgHeight,\n      scale, \n      cropX: this.state.new ? imgWidth/2 : this.props.cropX,\n      cropY: this.state.new ? imgHeight/2 : this.props.cropY,\n      cropRadius: calculatedRadius\n    }, this.initCanvas)\n  }\n\n  initCanvas() {\n    const stage = this.initStage();\n    const background = this.initBackground();\n    const shading = this.initShading();\n    const crop = this.initCrop();\n    const cropStroke = this.initCropStroke();\n    const resize = this.initResize();\n    const resizeIcon = this.initResizeIcon();\n\n    const layer = new Konva.Layer();\n\n    layer.add(background);\n    layer.add(shading);\n    layer.add(cropStroke);\n    layer.add(crop);\n\n    layer.add(resize);\n    layer.add(resizeIcon);\n\n    stage.add(layer);\n\n    const scaledRadius = (scale = 0) => crop.radius() - scale;\n    const isLeftCorner = scale => crop.x() - scaledRadius(scale) < 0;\n    const calcLeft = () => crop.radius() + 1;\n    const isTopCorner = scale => crop.y() - scaledRadius(scale) < 0;\n    const calcTop = () => crop.radius() + 1;\n    const isRightCorner = scale => crop.x() + scaledRadius(scale) > stage.width();\n    const calcRight = () => stage.width() - crop.radius() - 1;\n    const isBottomCorner = scale => crop.y() + scaledRadius(scale) > stage.height();\n    const calcBottom = () => stage.height() - crop.radius() - 1;\n    const isNotOutOfScale = scale => !isLeftCorner(scale) && !isRightCorner(scale) && !isBottomCorner(scale) && !isTopCorner(scale);\n    const calcScaleRadius = scale => scaledRadius(scale) >= this.minCropRadius ? scale : crop.radius() - this.minCropRadius;\n    const calcResizerX = x => x + (crop.radius() * 0.86);\n    const calcResizerY = y => y - (crop.radius() * 0.5);\n    const moveResizer = (x, y) => {\n      resize.x(calcResizerX(x) - 8);\n      resize.y(calcResizerY(y) - 8);\n      resizeIcon.x(calcResizerX(x) - 8);\n      resizeIcon.y(calcResizerY(y) - 10)\n    };\n\n    const getPreview = () => crop.toDataURL({\n      x: crop.x() - crop.radius(),\n      y: crop.y() - crop.radius(),\n      width: crop.radius() * 2,\n      height: crop.radius() * 2\n    });\n\n    const onScaleCallback = (scaleY) => {\n      const scale = scaleY > 0 || isNotOutOfScale(scaleY) ? scaleY : 0;\n      cropStroke.radius(cropStroke.radius() - calcScaleRadius(scale));\n      crop.radius(crop.radius() - calcScaleRadius(scale));\n      resize.fire('resize')\n    };\n\n    this.onCropCallback(crop, getPreview());\n\n    crop.on(\"dragmove\", () => crop.fire('resize'));\n    crop.on(\"dragend\", () => this.onCropCallback(crop, getPreview()));\n\n    crop.on('resize', () => {\n      const x = isLeftCorner() ? calcLeft() : (isRightCorner() ? calcRight() : crop.x());\n      const y = isTopCorner() ? calcTop() : (isBottomCorner() ? calcBottom() : crop.y());\n      moveResizer(x, y);\n      crop.setFillPatternOffset({ x: x / this.scale, y: y / this.scale });\n      crop.x(x);\n      cropStroke.x(x);\n      crop.y(y);\n      cropStroke.y(y)\n    });\n\n    crop.on(\"mouseenter\", () => stage.container().style.cursor = 'move');\n    crop.on(\"mouseleave\", () => stage.container().style.cursor = 'default');\n    crop.on('dragstart', () => stage.container().style.cursor = 'move');\n    crop.on('dragend', () => stage.container().style.cursor = 'default');\n\n    resize.on(\"touchstart\", (evt) => {\n      resize.on(\"dragmove\", (dragEvt) => {\n        if (dragEvt.evt.type !== 'touchmove') return;\n        const scaleY = (dragEvt.evt.changedTouches['0'].pageY - evt.evt.changedTouches['0'].pageY) || 0;\n        onScaleCallback(scaleY * this.mobileScaleSpeed)\n      })\n    });\n\n    resize.on(\"dragmove\", (evt) => {\n      if (evt.evt.type === 'touchmove') return;\n      const newMouseY = evt.evt.y;\n      const ieScaleFactor = newMouseY ? (newMouseY - this.state.lastMouseY) : undefined;\n      const scaleY = evt.evt.movementY || ieScaleFactor || 0;\n      this.setState({\n        lastMouseY: newMouseY,\n      });\n      onScaleCallback(scaleY)\n    });\n    resize.on(\"dragend\", () => this.onCropCallback(crop, getPreview()));\n\n    resize.on('resize', () => moveResizer(crop.x(), crop.y()));\n\n    resize.on(\"mouseenter\", () => stage.container().style.cursor = 'nesw-resize');\n    resize.on(\"mouseleave\", () => stage.container().style.cursor = 'default');\n    resize.on('dragstart', (evt) => {\n      this.setState({\n        lastMouseY: evt.evt.y,\n      });\n      stage.container().style.cursor = 'nesw-resize'\n    });\n    resize.on('dragend', () => stage.container().style.cursor = 'default')\n  }\n\n  initStage() {\n    return new Konva.Stage({\n      container: this.containerId,\n      width: this.width,\n      height: this.height\n    })\n  }\n\n  initBackground() {\n      console.log(\"Init background:\", this.image)\n    return new Konva.Image({\n      x: 0,\n      y: 0,\n      width: this.width,\n      height: this.height,\n      image: this.image\n    })\n  }\n\n  initShading() {\n    return new Konva.Rect({\n      x: 0,\n      y: 0,\n      width: this.width,\n      height: this.height,\n      fill: this.shadingColor,\n      strokeWidth: 4,\n      opacity: this.shadingOpacity\n    })\n  }\n\n  initCrop() {\n      console.log(\"Init Crop:\",this.image)\n    return new Konva.Circle({\n      x: this.state.cropX !== null ? this.state.cropX : this.halfWidth,\n      y: this.state.cropY !== null ? this.state.cropY : this.halfHeight,\n      radius: this.cropRadius,\n      fillPatternImage: this.image,\n      fillPatternOffset: {\n        x: this.state.cropX !== null \n            ? (this.state.cropX / this.scale) \n            : this.halfWidth / this.scale,\n        y: this.state.cropY !== null \n            ? (this.state.cropY / this.scale) \n            : this.halfHeight / this.scale\n      },\n      fillPatternScale: {\n        x: this.scale,\n        y: this.scale\n      },\n      opacity: 1,\n      draggable: true,\n      dashEnabled: true,\n      dash: [10, 5]\n    })\n  }\n\n  initCropStroke() {\n    return new Konva.Circle({\n      x: this.state.cropX !== null ? this.state.cropX : this.halfWidth,\n      y: this.state.cropY !== null ? this.state.cropY : this.halfHeight,\n      radius: this.cropRadius,\n      stroke: this.cropColor,\n      strokeWidth: this.lineWidth,\n      strokeScaleEnabled: true,\n      dashEnabled: true,\n      dash: [10, 5]\n    })\n  }\n\n  initResize() {\n    return new Konva.Rect({\n      x: this.state.cropX !== null \n        ? (this.state.cropX + this.cropRadius * 0.86 - 8) \n        : (this.halfWidth + this.cropRadius * 0.86 - 8),\n      y: this.state.cropY !== null \n        ? (this.state.cropY + this.cropRadius * -0.5 - 8) \n        : (this.halfHeight + this.cropRadius * -0.5 - 8),\n      width: 16,\n      height: 16,\n      draggable: true,\n      dragBoundFunc: function (pos) {\n        return {\n          x: this.getAbsolutePosition().x,\n          y: pos.y\n        }\n      }\n    })\n  }\n\n  initResizeIcon() {\n\n    return new Konva.Path({\n      x: this.state.cropX !== null \n        ? (this.state.cropX + this.cropRadius * 0.86 - 8) \n        : (this.halfWidth + this.cropRadius * 0.86 - 8),\n      y: this.state.cropY !== null \n        ? (this.state.cropY + this.cropRadius * -0.5 - 10) \n        : (this.halfHeight + this.cropRadius * -0.5 - 10),\n      data: 'M47.624,0.124l12.021,9.73L44.5,24.5l10,10l14.661-15.161l9.963,12.285v-31.5H47.624z M24.5,44.5   L9.847,59.653L0,47.5V79h31.5l-12.153-9.847L34.5,54.5L24.5,44.5z',\n      fill: this.cropColor,\n      scale: {\n        x: 0.2,\n        y: 0.2\n      }\n    })\n  }\n\n  render() {\n    const { width, height } = this.props;\n\n    const style = {\n      display: 'flex',\n      justifyContent: 'center',\n      backgroundColor: this.backgroundColor,\n      width: width || this.width,\n      position: 'relative'\n    };\n\n    const inputStyle = {\n      width: 0.1,\n      height: 0.1,\n      opacity: 0,\n      overflow: 'hidden',\n      position: 'absolute',\n      zIndex: -1,\n    };\n\n    const label = this.props.label;\n\n    const labelStyle = { ...this.props.labelStyle, ...{ lineHeight: (height || 200) + 'px' } };\n\n    const borderStyle = {\n      ...this.props.borderStyle, ...{\n        width: width || 200,\n        height: height || 200\n      }\n    };\n\n    const closeBtnStyle = {\n      position: 'absolute',\n      zIndex: 999,\n      cursor: 'pointer',\n      left: '10px',\n      top: '10px'\n    };\n\n    return (\n      <div>\n        {\n          this.state.showLoader\n            ? <div style={borderStyle}>\n              <input\n                onChange={(e) => this.onFileLoad(e)}\n                name={this.loaderId} type=\"file\"\n                id={this.loaderId}\n                style={inputStyle}\n                accept={this.mimeTypes}\n              />\n              <label htmlFor={this.loaderId} style={labelStyle}>{label}</label>\n            </div>\n            : <div style={style}>\n              <svg\n                onClick={this.onCloseClick}\n                style={closeBtnStyle}\n                viewBox=\"0 0 475.2 475.2\"\n                width=\"20px\" height=\"20px\">\n                <g>\n                  <path\n                    d=\"M405.6,69.6C360.7,24.7,301.1,0,237.6,0s-123.1,24.7-168,69.6S0,174.1,0,237.6s24.7,123.1,69.6,168s104.5,69.6,168,69.6    s123.1-24.7,168-69.6s69.6-104.5,69.6-168S450.5,114.5,405.6,69.6z M386.5,386.5c-39.8,39.8-92.7,61.7-148.9,61.7    s-109.1-21.9-148.9-61.7c-82.1-82.1-82.1-215.7,0-297.8C128.5,48.9,181.4,27,237.6,27s109.1,21.9,148.9,61.7    C468.6,170.8,468.6,304.4,386.5,386.5z\"\n                    fill={this.closeIconColor} />\n                  <path\n                    d=\"M342.3,132.9c-5.3-5.3-13.8-5.3-19.1,0l-85.6,85.6L152,132.9c-5.3-5.3-13.8-5.3-19.1,0c-5.3,5.3-5.3,13.8,0,19.1    l85.6,85.6l-85.6,85.6c-5.3,5.3-5.3,13.8,0,19.1c2.6,2.6,6.1,4,9.5,4s6.9-1.3,9.5-4l85.6-85.6l85.6,85.6c2.6,2.6,6.1,4,9.5,4    c3.5,0,6.9-1.3,9.5-4c5.3-5.3,5.3-13.8,0-19.1l-85.4-85.6l85.6-85.6C347.6,146.7,347.6,138.2,342.3,132.9z\"\n                    fill={this.closeIconColor} />\n                </g>\n              </svg>\n              <div id={this.containerId} />\n            </div>\n        \n        }\n      </div>\n    )\n  }\n}\n\nexport default Avatar\n","import React from 'react';\nimport Avatar from '../components/testAvatar';\n\nfunction getBase64(file, cb) {\n  let reader = new FileReader();\n  reader.readAsDataURL(file);\n  reader.onload = function () {\n      cb(reader.result)\n  };\n  reader.onerror = function (error) {\n      console.log('Error: ', error);\n  };\n}\n\nclass UploadProfilePicture extends React.Component{\n    constructor(props) {\n        super(props)\n        this.state = {\n          preview: null,\n          src: props.src,\n          img: props.img,\n          initXcoord: props.x,\n          initYcoord: props.y,\n          initRadius: props.r,\n          new: false,\n          currentPrefix: null,\n        }\n        this.onCrop = this.onCrop.bind(this)\n        this.onClose = this.onClose.bind(this)\n        this.onFileLoad = this.onFileLoad.bind(this)\n        this.getCropCoords = this.getCropCoords.bind(this)\n        //console.log(props)\n      }\n      \n      onClose() {\n        this.setState({preview: null});\n        console.log(\"Closed\");\n      }\n      \n      onCrop(preview) {\n        this.setState({preview});\n        //console.log(\"Recieved Preview:\", preview)\n        this.props.stagePreview(preview);\n      }\n\n      onFileLoad(file){\n        let fullImg = '';\n        this.setState({new: true})\n        getBase64(file, (result) => {\n          fullImg = result;\n          this.props.stageImage(fullImg);\n          //console.log(\"Image orientation:\", file)\n        })\n      }\n\n      getCropCoords(x, y, r){\n        // console.log(\"Middle Component Recieved Crop Coordinates:\");\n        // console.log(\"(x: \" + x ,\", y: \" + y + \", Radius: \", + r + \")\");\n        this.props.stageCoords(x, y, r);\n      }\n\n      render () {\n        \n        return (\n          <div>\n            <Avatar\n              width={390}\n              height={295}\n              onCrop={this.onCrop}\n              onClose={this.onClose}\n              closeIconColor={\"black\"}\n              onFileLoad={this.onFileLoad}\n              src={this.state.src}\n              new={this.state.new}\n              cropX={this.state.initXcoord}\n              cropY={this.state.initYcoord}\n              cropRadius={this.state.initRadius}\n              getCropCoords={this.getCropCoords}\n              minCropRadius={60}\n              img={this.state.img}\n            />\n            <br></br>\n            <img src={this.state.preview} alt=\"Preview\" />\n            \n          </div>\n        )\n      }\n}\n\nexport default UploadProfilePicture;","// Home Tab on a User's Profile\nimport { useState } from 'react';\nimport { Modal, Button, Form, Dropdown, DropdownButton, Col } from 'react-bootstrap';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport UploadProfilePicture from './uploadProfilePic';\nimport Fade from 'react-reveal/Fade';\n\nexport const Home = (props) => {\n    //console.log(\"Home Component Recieved Props: \", props);\n    const user = props.data.user;\n    const profile = (props.data.profile !== null) ? props.data.profile : props.location.state.profile;\n    const images = (props.data.images !== null) ? props.data.images : props.location.state.images;\n    const info = (props.data.about !== null) ? props.data.about : null;\n\n    // NOTE TO SELF: Type check for images -- (e.g. new user)\n\n    const [show, setShow] = useState(false);\n    const [showDelete, setShowDelete] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false);\n    const [fullname, setFullname] = useState(user.fullname);\n    const [publicEmail, setPublicEmail] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].public_email : '');\n    const [phone, setPhone] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].phone : '');\n    const [location, setLocation] = useState((info !== null && info.location !== null) ? info.location : null);\n    const [currentOccupation, setCurrentOccupation]\n    = useState(\n        typeof(profile[0]) !== 'undefined' \n            ? profile[0].current_occupation \n            : null\n    );\n    const [currentOrganization, setCurrentOrganization] \n    = useState(\n        typeof(profile[0]) !== 'undefined' \n            ? profile[0].current_organization \n            : null\n    );\n    const [font, setFont] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].font : null);\n    const [size, setSize] = useState(typeof(profile[0]) !== 'undefined' && profile[0].font_size ? profile[0].font_size : \"100%\");\n    const [showEditPic, setShowEditPic] = useState(false);\n    const [x, setX] = useState(typeof(images[0]) !== 'undefined' ? images[0].x : null);\n    const [y, setY] = useState(typeof(images[0]) !== 'undefined' ? images[0].y : null);\n    const [r, setR] = useState(typeof(images[0]) !== 'undefined' ? images[0].radius : null)\n\n    const [profilePic, setProfilePic] \n    = useState(\n        typeof(images[0]) !== 'undefined' && typeof(images[0].base64image) !== 'undefined'\n            ? binaryToBase64(images[0].base64image.data) \n            : \"\"\n    );\n    \n    const [profileAvatar, setProfileAvatar] \n    = useState(\n        typeof(images[0]) !== 'undefined' && typeof(images[0].base64preview) !== 'undefined'\n            ? binaryToBase64(images[0].base64preview.data) \n            : \"\"\n    );\n    \n    const [prefix, setPrefix] \n    = useState(\n        typeof(images[0]) !== 'undefined' && typeof(images[0].prefix) !== 'undefined'\n            ? images[0].prefix \n            : \"\"\n    );\n\n    // Modal Alert\n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited){\n            setShowAlert(true);\n        } else{\n            setShow(false);\n            setShowEditPic(false);\n        }\n    }\n    const discardChanges = () => {\n        setFullname(user.fullname);\n        setCurrentOccupation(typeof(profile[0]) !== 'undefined' ? profile[0].current_occupation : null);\n        setCurrentOrganization(typeof(profile[0]) !== 'undefined' ? profile[0].current_organization : null);\n        setX(typeof(images[0]) !== 'undefined' ? images[0].x : null);\n        setY(typeof(images[0]) !== 'undefined' ? images[0].y : null);\n        setR(typeof(images[0]) !== 'undefined' ? images[0].radius : null);\n        setShowEditPic(false);\n    }\n\n    const stageImage = (fullImage) => {\n        //console.log(\"Recieved Full Base64 Img:\", fullImage);\n        setProfilePic(fullImage.substring(fullImage.indexOf(',')+1));\n        setPrefix(fullImage.substring(0, fullImage.indexOf(',')+1));\n    }\n    const stagePreview = (preview) => {\n        //console.log(\"Recieved Base64 Preview:\", preview);\n        setProfileAvatar(preview.substring(preview.indexOf(',')+1));\n    }\n\n    const stageCoords = (x, y, r) => {\n        //console.log(\"Home tab recieved crop coords:\");\n        //console.log(\"(x: \" + x ,\", y: \" + y + \", Radius: \", + r + \")\");\n        setX(x); setY(y); setR(r);\n    }\n\n    const handleSave = async() => {\n        let locationToCreate = [];\n        let locationToUpdate = [];\n        \n        // Declare Funcation Prototypes\n        const updateFullname = async() => {\n            await props.updateFullname(user.user_id, fullname);\n        }\n\n        const createCurrentOccupation = async() => {\n            await props.createCurrentOccupation(user.user_id, currentOccupation);\n        }\n\n        const updateCurrentOccupation = async() => {\n            await props.updateCurrentOccupation(user.user_id, currentOccupation);\n        }\n\n        const createCurrentOrganization = async() => {\n            await props.createCurrentOrganization(user.user_id, currentOrganization);\n        }\n\n        const updateCurrentOrganization = async() => {\n            await props.updateCurrentOrganization(user.user_id, currentOrganization);\n        }\n\n        const createProfileImages = async() => {\n            await props.createProfileImages(user.user_id, profilePic, profileAvatar, prefix)\n        }\n\n        const updateProfileImages = async() => {\n            await props.updateProfileImages(user.user_id, profilePic, profileAvatar, prefix)\n        }\n\n        const updateFont = async() => {\n            await props.updateFont(user.user_id, font);\n        }\n\n        const updateSize = async() => {\n            await props.updateSize(user.user_id, size);\n        }\n\n        const updatePreviewCoords = async() => {\n            await props.updatePreviewCoords(user.user_id, x, y, r);\n        }\n\n        // Conditionally Call Functions\n        if(fullname !== user.fullname) await updateFullname();\n\n        if((!info && location) || (info !== null && info.location !== location)){\n            //console.log(`Set location update from: ${info.location} to: ${location}`);\n            locationToUpdate.push(location);\n        }\n\n        const createLocation = async() => {\n            await props.createLocation(user.user_id, locationToCreate[0]);\n        }\n        if(locationToCreate.length) await createLocation();\n\n        const updateLocation = async() => {\n            await props.updateLocation(locationToUpdate[0], user.user_id);\n        }\n        if(locationToUpdate.length) await updateLocation();\n\n        if((!typeof(profile.current_occupation) !== 'undefined') && currentOccupation)\n            await createCurrentOccupation();\n        else if(typeof(profile[0]) !== 'undefined' && currentOccupation !== profile[0].current_occupation)\n            await updateCurrentOccupation();\n\n        if((!typeof(profile.current_organization) !== 'undefined') && currentOrganization)\n            await createCurrentOrganization();\n        else if(typeof(profile[0]) !== 'undefined' && currentOrganization !== profile[0].current_organization)\n            await updateCurrentOrganization();\n\n        const updatePhone = async() => {\n            await props.updatePhone(user.user_id, phone);\n        }\n        if((typeof(profile[0]) == 'undefined' && phone) || (typeof(profile[0]) !== 'undefined' && phone !== profile[0].phone)) await updatePhone();\n\n        const updateEmail = async() => {\n            await props.updateEmail(user.user_id, publicEmail);\n        }\n        if((typeof(profile[0]) == 'undefined' && publicEmail) || (typeof(profile[0]) !== 'undefined' && publicEmail !== profile[0].public_email)) await updateEmail();\n\n        if(typeof(profile[0]) !== 'undefined' && font !== profile[0].font)\n            await updateFont();\n        \n        if(typeof(profile[0]) !== 'undefined' && size !== profile[0].font_size)\n            await updateSize();\n            \n        // Create Profile Picture\n        if(typeof(images[0]) == 'undefined' && (profileAvatar || profilePic)){\n            await createProfileImages();\n        }\n        else if(typeof(images[0]) !== 'undefined' && typeof(images[0].base64image) !== 'undefined'  && (profilePic !== images[0].base64image || profileAvatar !== images[0].base64preview)){\n            await updateProfileImages();\n        }\n        if(typeof(images[0]) !== 'undefined' && ((images[0].x !== x && x) || (images[0].y !== y && y))){\n            await updatePreviewCoords();\n        }\n\n\n        window.location.reload();\n    }\n\n    function binaryToBase64(data){\n        var image = btoa(new Uint8Array(data).reduce(function (tmp, byte) {\n            return tmp + String.fromCharCode(byte);\n        }, ''));\n        return image;\n    }\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n    return(\n        <div className=\"tab-container\"> \n        {props.data.ownedByUser \n        ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button>\n        : null}\n        \n        <Modal\n            show={show}\n            onHide={handleClose}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"lg\"\n            centered\n            scrollable={false}\n        >\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    Edit Homepage\n                    <AlertDismissible\n                        setShow={setShow}\n                        setEdited={setEdited}\n                        setShowAlert={setShowAlert}\n                        showAlert={showAlert}\n                        handleSave={handleSave}\n                        discardChanges={discardChanges}\n                    />\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form noValidate onSubmit={handleSave}>\n                    \n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Full Name\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1\" \n                            defaultValue={fullname} \n                            onChange={e => \n                                {    \n                                setFullname(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Current Occupation\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1 mt-2\" \n                            defaultValue={currentOccupation} \n                            onChange={e => \n                                {setCurrentOccupation(e.target.value); \n                                setEdited(true); \n                            }}\n                        ></input>\n                    </Form.Row>\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Current Organization\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1 mt-2\" \n                            defaultValue={currentOrganization} \n                            onChange={e => \n                                {setCurrentOrganization(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Location\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"45%\"}} \n                            className=\"form-control ml-1\" \n                            id=\"location\" \n                            defaultValue={(info !== null && info.location !== null) \n                                ? info.location \n                                : ''} \n                            onChange={e => \n                                {setLocation(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n\n                    <Form.Row className='mt-4'>\n                        <Form.Label column sm={2}>\n                            Public Email\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                                type=\"email\" \n                                style={{textAlign:\"left\", width: \"55%\"}} \n                                defaultValue={typeof(profile[0]) !== 'undefined' ? profile[0].public_email : null}  \n                                onChange={e => {\n                                    setPublicEmail(e.target.value); \n                                    setEdited(true);\n                                }}/>\n                            <Form.Text className=\"text-muted\">\n                            Public email to display on your profile.\n                            </Form.Text>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Phone Number\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                            type=\"text\" \n                            style={{textAlign:\"left\", width: \"55%\"}} \n                            defaultValue={typeof(profile[0]) !== 'undefined' ? profile[0].phone : null} \n                            onChange={e => {\n                                setPhone(e.target.value);\n                                setEdited(true);\n                            }}/>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label>\n                            Edit Profile Picture\n                        </Form.Label>\n                    </Form.Row>\n\n                    <Form.Row className='justify-content-center'>\n                        {showEditPic \n                        ? <UploadProfilePicture \n                            stagePreview={stagePreview}\n                            stageImage={stageImage}\n                            stageCoords={stageCoords}\n                            x={x}\n                            y={y}\n                            r={r}\n                        />\n                        : <img src={typeof(images[0]) !== 'undefined'\n                            ? prefix + profileAvatar\n                            : ''} alt=\"Preview\"/>}\n                        \n                        {showDelete\n                            ? <Modal\n                                show={showDelete}\n                                onHide={() => setShowDelete(false)}\n                                backdrop=\"static\"\n                                keyboard={false}\n                                size=\"sm\"\n                                centered\n                                scrollable={false}\n                            >\n                            <Modal.Header closeButton>\n                            <Modal.Title>Modal title</Modal.Title>\n                            </Modal.Header>\n                                <Modal.Body>\n                                    <p>Are you sure you want to remove your current avatar?</p>\n                                </Modal.Body>\n                            <Modal.Footer>\n                                <Button variant=\"secondary\" onClick={() => setShowDelete(false)}>Cancel</Button>\n                                <Button variant=\"danger\" \n                                    onClick={() => {\n                                        setProfileAvatar('');\n                                        setProfilePic('');\n                                        setEdited(true);\n                                        setShowDelete(false);\n                                    }}>    \n                                OK</Button>\n                            </Modal.Footer>\n                            </Modal>\n                        :null}\n\n                        {!showEditPic\n                        ? <DropdownButton id=\"avatar-dropdown\" title=\"edit\" size=\"sm\">\n                            <Dropdown.Item eventKey=\"1\" \n                                onClick={() => {setShowEditPic(!showEditPic);setEdited(true);}}>\n                                Upload a photo...\n                            </Dropdown.Item>\n                            <Dropdown.Item eventKey=\"2\" onClick={() => setShowDelete(true)}>Remove Photo</Dropdown.Item>\n                        </DropdownButton>\n                        : null}\n                    </Form.Row>\n\n                    <br></br>\n                    <Form.Row className='mt-3'>\n                        <Form.Label>\n                            Edit Font\n                        </Form.Label>\n                    </Form.Row>\n                    <Dropdown id=\"collapsible-nav-dropdown\">\n                        <Dropdown.Toggle className=\"bg-transparent text-dark\" id=\"dropdown-custom-components\">\n                        Your font: <b style={{\n                            fontFamily: font\n                        }}>{!font ? \"Arial\" : font}</b>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item active={(font === \"Arial\") ? true : false} onSelect={e => {setFont(\"Arial\");setEdited(true);}} style={{fontFamily: \"Arial\"}}>Arial</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Times New Roman\") ? true : false} onSelect={e => {setFont(\"Times New Roman\");setEdited(true);}} style={{fontFamily: \"Times New Roman\"}}>Times New Roman</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Helvetica\") ? true : false} onSelect={e => {setFont(\"Helvetica\");setEdited(true);}} style={{fontFamily: \"Helvetica\"}}>Helvetica</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Lucida Console\") ? true : false} onSelect={e => {setFont(\"Lucida Console\");setEdited(true);}} style={{fontFamily: \"Lucida Console\"}}>Lucida Console</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Georgia\") ? true : false} onSelect={e => {setFont(\"Georgia\");setEdited(true);}} style={{fontFamily: \"Georgia\"}}>Georgia</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Garamond\") ? true : false} onSelect={e => {setFont(\"Garamond\");setEdited(true);}} style={{fontFamily: \"Garamond\"}}>Garamond</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Verdana\") ? true : false} onSelect={e => {setFont(\"Verdana\");setEdited(true);}} style={{fontFamily: \"Verdana\"}}>Verdana</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Courier New\") ? true : false} onSelect={e => {setFont(\"Courier New\");setEdited(true);}} style={{fontFamily: \"Courier New\"}}>Courier New</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Monaco\") ? true : false} onSelect={e => {setFont(\"Monaco\");setEdited(true);}} style={{fontFamily: \"Monaco\"}}>Monaco</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Brush Script MT\") ? true : false} onSelect={e => {setFont(\"Brush Script MT\");setEdited(true);}} style={{fontFamily: \"Brush Script MT\"}}>Brush Script MT</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Lucida Handwriting\") ? true : false} onSelect={e => {setFont(\"Lucida Handwriting\");setEdited(true);}} style={{fontFamily: \"Lucida Handwriting\"}}>Lucida Handwriting</Dropdown.Item>\n                            <Dropdown.Item active={(font === \"Copperplate\") ? true : false} onSelect={e => {setFont(\"Copperplate\");setEdited(true);}} style={{fontFamily: \"Copperplate\"}}>Copperplate</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n\n                    <br></br>\n                    <Dropdown id=\"collapsible-nav-dropdown\">\n                        <Dropdown.Toggle className=\"bg-transparent text-dark\" id=\"dropdown-custom-components\">\n                        Font size: <b style={{fontFamily: font, fontSize: size}}>\n                        {size === \"75%\" ? \"Small Text\" : null}\n                        {size === \"100%\" ? \"Medium Text\" : null}\n                        {size === \"125%\" ? \"Large Text\" : null}</b>\n                        </Dropdown.Toggle>\n                        <Dropdown.Menu>\n                            <Dropdown.Item active={(size === \"75%\") ? true : false} onSelect={e => {setSize(\"75%\");setEdited(true);}} style={{fontSize: '75%'}}>Small text</Dropdown.Item>\n                            <Dropdown.Item active={(size === \"100%\") ? true : false} onSelect={e => {setSize(\"100%\");setEdited(true);}} style={{fontSize: '100%'}}>Normal Text</Dropdown.Item>\n                            <Dropdown.Item active={(size === \"125%\") ? true : false} onSelect={e => {setSize(\"125%\");setEdited(true);}} style={{fontSize: '125%'}}>Large Text</Dropdown.Item>\n                        </Dropdown.Menu>\n                    </Dropdown>\n\n                    <Button variant=\"success\" type=\"submit\" className=\"mt-5\">Save Changes</Button>\n\n                </Form>\n            </Modal.Body>\n        </Modal>\n            {(user !== null && typeof user !== 'undefined')\n            ? \n            <Fade bottom>\n            <div className='home-container'>\n                <div className=\"mt-3 ml-2 mr-4\">\n                {typeof(images[0]) !== 'undefined' && images[0].base64preview.data.length > 0\n                 ? <img src={prefix + `${binaryToBase64(images[0].base64preview.data)}`}  alt=\"Preview\"/>\n                 : null}\n                </div> \n\n\n                <div className=\"mt-4 ml-4\" style={{width: '100%'}}>\n                    <h3><b>{user.fullname}</b></h3>\n                    \n                    <p>\n                        {typeof(profile[0]) !== 'undefined' && profile[0].current_occupation\n                        ? <b>{profile[0].current_occupation}</b>\n                        : null}\n                        {typeof(profile[0]) !== 'undefined' && profile[0].current_organization\n                            ? <> at {profile[0].current_organization}</>\n                            : null}\n                    </p>\n\n                    {info !== null && info.location !== null && location !== ''\n                    ? <div className=\"row ml-1 d-flex flex-row\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-geo-alt-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>\n                        </svg>\n                        <FormatTextarea text={info.location === \"\" ? '' : info.location}/>\n                        </div>\n                    : null}\n                    \n                    {info !== null && info.public_email !== null && publicEmail !== ''\n                    ?<div className=\"row ml-1 mt-3 d-flex flex-row\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z\"/>\n                        </svg>\n                        {info.public_email}\n                        </div>\n                    : null}\n                    \n\n                    {info !== null && info.phone !== null && phone !== ''\n                    ? <div className=\"row ml-1 mt-3 d-flex flex-row\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-telephone-fill\" viewBox=\"0 0 16 16\">\n                        <path fillRule=\"evenodd\" d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\n                        </svg>\n                        {info.phone}\n                    </div>\n                    : null}\n                \n                </div>\n\n                <br></br>\n            </div> \n            </Fade>\n            : null}\n\n        </div>\n    )\n}","import React from 'react';\n\nconst Switch = ({ isOn, handleToggle, type }) => {\n  if(type === \"register\"){\n    return(\n        <>\n          <input\n            checked={isOn}\n            onChange={handleToggle}\n            className=\"register-switch-checkbox\"\n            id={`register-switch-new`}\n            type=\"checkbox\"\n          />\n            <label\n            style={{ background: isOn && '#06D6A0' }}\n            className=\"register-switch-label\"\n            htmlFor={`register-switch-new`}\n            >\n            <span className={`register-switch-button`} />\n          </label>\n        </>\n    );\n  } else{\n    return (\n      <>\n        <input\n          checked={isOn}\n          onChange={handleToggle}\n          className=\"react-switch-checkbox\"\n          id={`react-switch-new`}\n          type=\"checkbox\"\n        />\n          <label\n          style={{ background: isOn && '#06D6A0' }}\n          className=\"react-switch-label\"\n          htmlFor={`react-switch-new`}\n          >\n          <span className={`react-switch-button`} />\n        </label>\n      </>\n    );\n  }\n  \n};\n\nexport default Switch;","import { useEffect, useState } from 'react';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { Modal, Button, Form, Col } from 'react-bootstrap';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport Switch  from '../components/switch';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Fade from 'react-reveal/Fade';\n\nexport const About = props => {\n    //console.log(\"About Recieved Parent Props: \", props);\n    \n    // User Data\n    const info = (props.data.about !== null) ? props.data.about : null;\n    const user = (props.location.state.user !== null) ? props.location.state.user : props.data.user;\n    const hobbiesData = (props.data.hobbies !== null) ? props.data.hobbies : props.location.state.hobbies;\n    const images = (props.data.images !== null) ? props.data.images : props.location.state.images;\n    const skillsData = (props.data.skills !== null) ? props.data.skills : props.location.state.skills;\n\n    // Hooks used to keep track of current edits\n    const [show, setShow] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false); \n\n    const [reordered, setReordered] = useState(false);\n    const [changingOrder, setChangingOrder] = useState(false);\n\n    const [location, setLocation] = useState((info !== null && info.location !== null) ? info.location : null);\n    const [bio, setBio] = useState((info !== null && info.bio !== null) ? info.bio : null);\n    const [hobbies, setHobbies] = useState({values: hobbiesData});\n    const [skills, setSkills] = useState({values: skillsData});\n\n    const [validated, setValidated] = useState(false);\n    const [errs, setErrs] = useState({}); \n    \n    const [duplicateSkill, setDuplicateSkill] = useState({});\n    const [duplicateHobby, setDuplicateHobby] = useState({});\n\n\n    // Hooks used to format final onClick data for POST request\n    \n    const [skillsToDelete, setSkillToDelete] = useState([]);\n    const [hobbiesToDelete, setHobbyToDelete] = useState([]);\n\n    // After successful post request, profile.jsx updates state with new data\n    // New data passed to hobbiesData/skillsData, and is copied into hobbies/skills hooks\n    // where data can be manipulated by user\n    useEffect(() => {\n        setHobbies({values: hobbiesData});\n        setSkills({values: skillsData});\n        setHobbyToDelete([]);\n        setSkillToDelete([]);\n        setValidated(false);\n        setErrs({});\n        setDuplicateSkill({});\n        setDuplicateHobby({});\n    }, [hobbiesData, skillsData]);\n\n    // Toggle Modal\n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited){\n            setShowAlert(true);\n        } else{\n            setHobbies({values: hobbiesData});\n            setSkills({values: skillsData});\n            setDuplicateSkill({});\n            setDuplicateHobby({});\n            setChangingOrder(false);\n            setShow(false);    \n        }\n    }\n\n    // Replace state with original data\n    const discardChanges = () => {\n        setLocation((info !== null && info.location !== null) ? info.location : null);\n        setBio((info !== null && info.bio !== null) ? info.bio : null);\n        setHobbies({values: hobbiesData});\n        setSkills({values: skillsData});\n        setHobbyToDelete([]);\n        setSkillToDelete([]);\n        setChangingOrder(false);\n        setReordered(false);\n        setErrs({});\n        setDuplicateSkill({});\n        setDuplicateHobby({});\n    }\n\n\n    // ----------- [BEGIN] Hobby Handlers -------------------\n    const renderHobbiesForm = () => {\n        return (\n            <Form.Group controlId=\"validationCustom02\">\n            {hobbies.values.map((row, idx) =>\n                <Form.Row className='mb-4 ml-3 mr-3' key={idx}>\n                    <Form.Control \n                        required\n                        style={{textAlign: \"left\", width: \"70%\"}}\n                        isInvalid={(errs[\"hobby\"] && row.hobby === \"\") || (typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined' && row.hobby !== \"\")}\n                        type=\"text\" \n                        value={row.hobby} \n                        placeholder={\"Enter Hobby\"} \n                        onChange={e => {\n                            handleHobbyChange(e, idx);\n                    }}/>\n                    <Button \n                        variant=\"outline-danger\" \n                        size=\"sm\"\n                        onClick={() => removeHobby(idx)}    \n                    >Delete</Button>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errs[\"hobby\"] && row.hobby === \"\"\n                            ? \"Please provide a hobby.\"\n                            : null}\n                        {typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined' && row.hobby !== \"\"\n                            ? \"Duplicate hobbies are not allowed.\"\n                            : null\n                        }\n                    </Form.Control.Feedback>\n                </Form.Row>\n            )}\n            </Form.Group>\n        )\n    }\n    const handleHobbyChange = (event, idx) => {\n        let tmpHobbies = [...hobbies.values];\n        tmpHobbies[idx] = {\n            hobby_id: hobbies.values[idx].hobby_id, \n            uid: hobbies.values[idx].uid ,\n            hobby: event.target.value\n        };\n        if((typeof(tmpHobbies[idx].hobby_id) !== 'undefined')\n        && !(typeof(tmpHobbies[idx].toUpdate) !== 'undefined')){\n            tmpHobbies[idx].toUpdate = true;\n        }\n        if((hobbies.values.some(e => e.hobby === event.target.value))){\n            setDuplicateHobby({...duplicateHobby, [\"Idx\"+idx]: true});\n        }\n        else if(!(hobbies.values.some(e => e.hobby === event.target.value)) && typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateHobby[\"Idx\"+idx];\n        }\n        setHobbies({values: tmpHobbies});\n        setEdited(true);\n    }\n    const addHobby = () => {\n        setHobbies({values: \n            [\n                ...hobbies.values, \n                {hobby: ''}\n            ]\n        });\n    }\n    const removeHobby = (idx) => {\n        let tmpHobbies = [...hobbies.values];\n        // Trying to delete hobby with an existing ID? => stage hobby to be deleted\n        if(typeof(tmpHobbies[idx].hobby_id) !== 'undefined'){\n            setHobbyToDelete(\n                [\n                    ...hobbiesToDelete,\n                    {hobby_id: tmpHobbies[idx].hobby_id}\n                ]);\n        }\n        tmpHobbies.splice(idx, 1);\n        setHobbies({values: tmpHobbies});\n        setEdited(true);\n    }\n\n\n    // ----------- [BEGIN] Skill Handlers ------------------- \n\n    const renderSkillsForm = () => {\n        return (\n            <Form.Group controlId=\"validationCustom01\">\n             {skills.values.map((row, idx) =>\n                <Form.Row className='mb-4 ml-3 mr-3' key={idx}>\n                    <Form.Control \n                            required\n                            style={{textAlign: \"left\", width: \"70%\"}}\n                            isInvalid={(errs[\"skill\"] && row.skill === \"\") || (typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined' && row.skill !== \"\")}\n                            type=\"text\" \n                            value={row.skill} \n                            placeholder={\"Enter skill\"} \n                            onChange={e => {\n                                handleSkillChange(e, idx);\n                        }}/>\n                    <Button \n                        variant=\"outline-danger\" \n                        size=\"sm\"\n                        onClick={() => removeSkill(idx)}    \n                    >Delete</Button>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {(errs[\"skill\"] && row.skill === \"\")\n                            ? \"Please provide a skill.\"\n                            : null}\n                        {typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined' && row.skill !== \"\"\n                            ? \"Duplicate skills are not allowed.\"\n                            : null\n                        }\n                    </Form.Control.Feedback>\n                </Form.Row>\n            )}\n            </Form.Group>\n        )\n    }\n    const handleSkillChange = (event, idx) => {\n        let tmpSkills = [...skills.values];\n        tmpSkills[idx] = {\n            skill_id: skills.values[idx].skill_id, \n            uid: skills.values[idx].uid ,\n            skill: event.target.value\n        };\n        if((typeof(tmpSkills[idx].skill_id) !== 'undefined')\n        && !(typeof(tmpSkills[idx].toUpdate) !== 'undefined')){\n            tmpSkills[idx].toUpdate = true;\n        }\n        if(skills.values.some(e => e.skill === event.target.value)){\n            setDuplicateSkill({...duplicateSkill, [\"Idx\"+idx] : true});\n        }\n        else if(!(skills.values.some(e => e.skill === event.target.value)) && typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateSkill[\"Idx\"+idx];\n        }\n        setSkills({values: tmpSkills});\n        setEdited(true);\n    }\n    const addSkill = () => {\n        setSkills({values: \n            [\n                ...skills.values,\n                {skill: ''}\n            ]\n        });\n    }\n    const removeSkill = (idx) => {\n        let tmpSkills = [...skills.values];\n        // Trying to delete skill with an existing ID? => stage skill to be deleted\n        if(typeof(tmpSkills[idx].skill_id) !== 'undefined'){\n            setSkillToDelete( \n                [\n                    ...skillsToDelete, \n                    {skill_id: tmpSkills[idx].skill_id}\n                ]);\n        } \n        tmpSkills.splice(idx, 1);\n        setSkills({values: tmpSkills});\n        setEdited(true);\n    }\n\n    // ----------- [END] Skill Handlers -------------------\n    function handleOnDragEnd(result) {\n        console.log(result)\n      if (!result.destination) return;\n\n      // Sorting in same list\n      if(result.source.droppableId === result.destination.droppableId){\n        if(result.source.droppableId === \"hobbies\"){\n            const items = Array.from(hobbies.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setHobbies({values: items});\n        } else if(result.source.droppableId === \"skills\"){\n            const items = Array.from(skills.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setSkills({values: items});\n        }\n\n      } else{\n          console.log(\"No sorting between lists!\");\n          return;\n      }\n    }\n    \n    const ChangeOrder = () => {\n        return (\n            <Form.Row className=\"text-center\">\n            <DragDropContext \n                onDragEnd={handleOnDragEnd}\n            >\n            <Col>\n                <Droppable droppableId=\"hobbies\">\n                {(provided) => (\n                    <div {...provided.droppableProps} ref={provided.innerRef}>\n                        {hobbies.values.map((row, idx) => {\n                            return (\n                                <Draggable key={idx} draggableId={row.hobby} index={idx}>\n                                    {(provided) => (\n                                    \n                                        <div \n                                        className='draggable-container mb-4 ml-3 mr-3' \n                                        ref={provided.innerRef} \n                                        {...provided.draggableProps} \n                                        {...provided.dragHandleProps}>\n\n                                        {row.hobby\n                                            ? row.hobby\n                                            : null}\n                                        </div>\n                                    )}\n                                </Draggable>\n                            );\n                        })}\n                        {provided.placeholder}\n                    </div>\n                )}\n                </Droppable>\n            </Col>\n            <Col>\n                <Droppable droppableId=\"skills\">\n                {(provided) => (\n                    <div {...provided.droppableProps} ref={provided.innerRef}>\n                        {skills.values.map((row, idx) => {\n                            return (\n                                <Draggable key={idx} draggableId={row.skill} index={idx}>\n                                    {(provided) => (\n                                    \n                                        <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                        {row.skill\n                                            ? row.skill\n                                            : null}\n                                        </div>\n                                    )}\n                                </Draggable>\n                            );\n                        })}\n                        {provided.placeholder}\n                    </div>\n                )}\n                </Droppable>\n            </Col>\n            </DragDropContext>\n        </Form.Row>\n        );\n    }\n\n    const validate = () => {\n        let isValidated = true;\n        let errors = {};\n        hobbies.values.forEach((row, idx) => {\n            if(!(typeof(row.hobby_id) !== 'undefined') && (row.hobby === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"hobby\"] = true;\n            }\n            if(typeof(duplicateHobby[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        skills.values.forEach((row, idx) => {\n            if(!(typeof(row.skill_id) !== 'undefined') && (row.skill === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"skill\"] = true;\n            }\n            if(typeof(duplicateSkill[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        setErrs(errors);\n        return isValidated;\n    }\n\n    // Format edit hooks to be sent in POST request\n    const handleSave = async(event) => {\n        if(!validate()){\n            event.preventDefault();\n            event.stopPropagation();\n        } else{\n        \n        // Location\n        let locationToUpdate = [];\n        let bioToUpdate = [];\n        var hobbiesToCreate = [];\n        var hobbiesToUpdate = [];\n        var skillsToCreate = [];\n        var skillsToUpdate = [];\n        \n        if((!info && location) || (info !== null && info.location !== location)){\n            //console.log(`Set location update from: ${info.location} to: ${location}`);\n            locationToUpdate.push(location);\n        }\n\n        // Bio\n        // Need a better check for creates\n        if((!info && bio) || (info !== null &&  info.bio !== bio)){\n            //console.log(`Set bio update from: ${info.bio} to: ${bio}`);\n            bioToUpdate.push(bio);\n        }\n\n        // Hobbies: \n        // No ID? => CREATE new hobby\n        // Existing ID? => UPDATE existing hobby\n        hobbies.values.forEach((row, idx) => {\n            //console.log(`Row: ${row.hobby}, IDX: ${idx}`);\n            if( !(typeof(row.hobby_id) !== 'undefined')){\n                if(row.hobby === ''){\n                    console.log('A hobby is required to create!');\n                } else{\n                    hobbiesToCreate.push({\n                        hobby: row.hobby,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                if(row.hobby === ''){\n                    console.log('A hobby is required to update!');\n                } else{\n                    hobbiesToUpdate.push({\n                        hobby_id: row.hobby_id,\n                        hobby: row.hobby,\n                        rowIdx: idx\n                    })\n                }\n            }\n        })\n        // Skills: \n        // No ID? => CREATE new skill\n        // Existing ID? => UPDATE existing skill\n        skills.values.forEach((row, idx) => {\n            //console.log(`Row: ${row.skill}, IDX: ${idx}`);\n            if( !(typeof(row.skill_id) !== 'undefined')){\n                if(row.skill === ''){\n                    console.log(\"A skill is required to create!\");\n                } else{\n                    skillsToCreate.push({\n                        skill: row.skill,\n                        rowIdx: idx\n                    })\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                if(row.skill === ''){\n                    console.log(\"A skill is required to updated!\");\n                } else{\n                    skillsToUpdate.push({\n                        skill_id: row.skill_id,\n                        skill: row.skill,\n                        rowIdx: idx\n                    })\n                }\n            }\n        })\n        \n        console.log(\"Location to Update:\", locationToUpdate);\n        console.log(\"Bio to Update:\", bioToUpdate);\n        console.log(\"Hobbies to Create\", hobbiesToCreate);\n        console.log(\"Hobbies to Update:\", hobbiesToUpdate);\n        console.log(\"Hobbies to Delete:\", hobbiesToDelete);\n        console.log(\"Skills to Create:\", skillsToCreate);\n        console.log(\"Skills to Update:\", skillsToUpdate);\n        console.log(\"Skills to Delete:\", skillsToDelete);\n        \n        \n        // Begin POST requests\n\n        const updateLocation = async() => {\n            await props.updateLocation(locationToUpdate[0], user.user_id);\n        }\n        if(locationToUpdate.length) await updateLocation();\n\n        const updateBio = async() => {\n            await props.updateBio(bioToUpdate[0], user.user_id)\n        }\n        if(bioToUpdate.length) await updateBio();\n\n        const createHobbies = async() => {\n            for await (let hobbyToCreate of hobbiesToCreate){\n                await props.createHobby(user.user_id, hobbyToCreate.hobby, hobbyToCreate.rowIdx);\n            }\n        }\n        if(hobbiesToCreate.length) await createHobbies();\n\n        const updateHobbies = async() => {\n            for await(let hobbyToUpdate of hobbiesToUpdate){\n                await props.updateHobby(hobbyToUpdate.hobby_id, hobbyToUpdate.hobby, user.user_id, hobbyToUpdate.rowIdx)\n            }\n        }\n        if(hobbiesToUpdate.length) await updateHobbies();\n\n        const createSkills = async() => {\n            for await (let skillToCreate of skillsToCreate){\n                await props.createSkill(user.user_id, skillToCreate.skill, skillToCreate.rowIdx);\n            }\n        }\n        if(skillsToCreate.length) await createSkills();\n\n        const updateSkills = async() => {\n            for await (let skillToUpdate of skillsToUpdate){\n                await props.updateSkill(skillToUpdate.skill_id, skillToUpdate.skill, user.user_id, skillToUpdate.rowIdx);\n            }\n        }\n        if(skillsToUpdate.length) await updateSkills();\n\n        const reorder = async() => {\n            hobbies.values.forEach(async (row, rowIdx) => {\n                await props.updateHobby(row.hobby_id, row.hobby, user.user_id, rowIdx);\n            })\n            skills.values.forEach(async (row, rowIdx) => {\n                await props.updateSkill(row.skill_id, row.skill, user.user_id, rowIdx);\n            })\n        }\n        if(reordered) await reorder();\n\n        const deleteSkills = async() => {\n            for await (let skillToDelete of skillsToDelete){\n                await props.deleteSkill(skillToDelete.skill_id);\n            }\n        }\n        if(skillsToDelete.length) await deleteSkills();\n\n        const deleteHobbies = async() => {\n            for await (let hobbyToDelete of hobbiesToDelete){\n                await props.deleteHobby(hobbyToDelete.hobby_id);\n            }\n        }\n        if(hobbiesToDelete.length) await deleteHobbies();\n       \n\n        window.location.reload();\n        }\n    };\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n    function binaryToBase64(data){\n        var image = btoa(new Uint8Array(data).reduce(function (tmp, byte) {\n            return tmp + String.fromCharCode(byte);\n        }, ''));\n        return image;\n    }\n\n    return(\n        <div className=\"tab-container\">\n        {props.data.ownedByUser \n        ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button>\n        : null}\n        <h3>About</h3>\n        <hr color=\"black\"/>\n        \n\n        <Modal\n            show={show}\n            onHide={handleClose}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"lg\"\n            centered\n            scrollable={false}\n        >\n            <Modal.Header closeButton>\n                <Modal.Title>\n                    Edit\n                    <AlertDismissible\n                        setShow={setShow}\n                        setEdited={setEdited}\n                        setShowAlert={setShowAlert}\n                        showAlert={showAlert}\n                        handleSave={handleSave}\n                        discardChanges={discardChanges}\n                    />\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n                <Form noValidate validated={validated} onSubmit={handleSave}>\n                    \n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Location\n                        </Form.Label>\n                        <input \n                            type=\"text\" \n                            style={{textAlign: \"left\"}}\n                            className=\"form-control\" \n                            id=\"location\" \n                            defaultValue={(info !== null && info.location !== null) \n                                ? info.location\n                                : ''} \n                            onChange={e => \n                                {setLocation(e.target.value); \n                                setEdited(true);\n                            }}\n                        ></input>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Bio\n                        </Form.Label>\n                            <textarea \n                                className=\"form-control\" \n                                rows=\"5\" \n                                id=\"bio\" \n                                defaultValue={(info !== null && info.bio !== null) \n                                    ? info.bio.replace(/\\\\n/g, '\\n')\n                                    : null} \n                                onChange={e => {\n                                    setBio(e.target.value); \n                                    setEdited(true);\n                                }}/>\n                    </Form.Row>\n                    <Form.Group className=\"mt-4\">\n                        {(hobbiesData.length > 1 || skillsData.length > 1)\n                        ? <>\n                        <label>Change Order</label>\n                            <Switch\n                                isOn={changingOrder}\n                                handleToggle={() => {\n                                    if(!validate()){\n                                        console.log(\"Please address errs\");\n                                    } else{\n                                        setChangingOrder(!changingOrder);\n                                    }\n                                }}\n                            />\n                            </>\n                        : null}\n                    </Form.Group>\n\n                    <Form.Row className=\"text-center\">\n                        <Col>\n                            <Form.Label className='text-center'>\n                                <h4>Hobbies</h4>\n                            </Form.Label > <br></br>\n\n                            {changingOrder ? null : renderHobbiesForm()}\n                            \n                            {hobbies.values.length < 6 && !changingOrder\n                                ? <Button \n                                    onClick={() => addHobby()} \n                                    variant=\"outline-success\" \n                                    size=\"sm\"    \n                                >Add Hobby</Button>\n                                : null }\n                                \n                        </Col> \n                        <Col>\n                            <Form.Label className='text-center'>\n                                <h4>Skills</h4>\n                            </Form.Label > <br></br>\n\n                            {changingOrder ? null : renderSkillsForm()}\n\n                            {skills.values.length < 6 && !changingOrder\n                            ? <Button \n                                onClick={() => addSkill()} \n                                variant=\"outline-success\" \n                                size=\"sm\"    \n                            >Add Skill</Button>\n                            : null }\n                        </Col>\n                    </Form.Row>\n\n                    {changingOrder \n                        ? <ChangeOrder></ChangeOrder>\n                        : null}\n\n                    <Button variant=\"success\" type=\"submit\" className=\"mt-5\">Save Changes</Button>\n\n                </Form>             \n            </Modal.Body>\n            <Modal.Footer>\n            \n            </Modal.Footer>\n        </Modal>\n\n        <div className=\"about-container\">\n            <Fade right>\n            <div>\n            {typeof(images[0]) !== 'undefined' && images[0].base64preview.data.length > 0\n                 ? <img src={images[0].prefix + `${binaryToBase64(images[0].base64preview.data)}`}  alt=\"Preview\"/>\n                 : null}\n            </div>\n            </Fade>\n            <div className=\"col ml-1\">\n\n                {info !== null && info.location !== null && location !== ''\n                ? <Fade left>\n                    <div className=\"d-flex flex-row mr-4 mb-2\">\n                    <div>\n                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" className=\"align-self-center mr-3 bi bi-geo-alt-fill\" viewBox=\"0 0 16 16\">\n                        <path d=\"M8 16s6-5.686 6-10A6 6 0 0 0 2 6c0 4.314 6 10 6 10zm0-7a3 3 0 1 1 0-6 3 3 0 0 1 0 6z\"/>\n                    </svg>\n                    </div>\n                    <div className=\"d-flex flex-column\">\n                        <FormatTextarea text={info.location}/>\n                    </div>\n                    </div>\n                    </Fade>\n                : null}\n\n\n                {info !== null && info.bio !== null && bio !== ''\n                ? <Fade left>\n                    <div className=\"d-flex flex-row mr-4\">\n                    <div>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" fill=\"currentColor\" className=\"align-self-center mr-3 bi bi-person-lines-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M6 8a3 3 0 1 0 0-6 3 3 0 0 0 0 6zm-5 6s-1 0-1-1 1-4 6-4 6 3 6 4-1 1-1 1H1zM11 3.5a.5.5 0 0 1 .5-.5h4a.5.5 0 0 1 0 1h-4a.5.5 0 0 1-.5-.5zm.5 2.5a.5.5 0 0 0 0 1h4a.5.5 0 0 0 0-1h-4zm2 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2zm0 3a.5.5 0 0 0 0 1h2a.5.5 0 0 0 0-1h-2z\"/>\n                        </svg>\n                    </div>\n                    <div className=\"d-flex flex-column\">\n                        <FormatTextarea text={info.bio}/>\n                    </div>\n                </div>\n                </Fade>\n                : null}\n                \n                <hr className='float-left' style={{width: '95%'}}/><br/>\n\n                <Fade bottom>\n                <div className=\"user-container row\" style={{width: '95%'}}>\n                    <div className='d-flex flex-column mx-auto'>\n                        <h4><b>Hobbies:</b></h4>\n                        {hobbiesData\n                        ? hobbiesData.map((row, idx) => \n                            <Button className=\"my-1 noHover\" style={{backgroundColor: '#45d2bce9', border: 'none'}} key={idx}>\n                                {row.hobby}\n                            </Button>\n                        ) \n                        : null}\n                    </div>\n                    \n                    <div className='d-flex flex-column mx-auto'>\n                    <h4><b>Skills:</b></h4>\n                    {skillsData \n                    ? skillsData.map((row, idx) => \n                        <Button className=\"my-1 noHover\" style={{backgroundColor: '#45d2bce9', border: 'none'}} key={idx}>\n                            {row.skill}\n                        </Button>\n                    ) \n                    : null}\n                    </div>\n                </div>\n                </Fade>\n            </div>\n        </div>\n\n\n    </div>\n    );\n}","import { Modal, Button } from 'react-bootstrap';\n\nexport const AreYouSure = (props) => {\n    console.log(\"AreYouSure recieved props:\", props)\n    return(\n        <Modal\n            show={props.showDelete}\n            onHide={() => props.setShowDelete(false)}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"sm\"\n            centered\n            scrollable={false}\n            >\n            <Modal.Header closeButton>\n            <Modal.Title>Are you sure you want to delete?</Modal.Title>\n            </Modal.Header>\n                <Modal.Body>\n                    <p>Are you sure you want to remove this {props.requestedDelete}?</p>\n                </Modal.Body>\n            <Modal.Footer>\n                <Button variant=\"secondary\" \n                    onClick={() => {\n                        props.setRequestedDelete('');   \n                        props.setRequestedDeleteIdx(null);\n                        props.setShowDelete(false);\n                    }}>Cancel</Button>\n                <Button variant=\"danger\" \n                    onClick={() => {\n                        if(props.requestedDelete === 'project')\n                            props.deleteProject(props.idx);\n                        else if(props.requestedDelete === 'work experience')\n                            props.deleteWork(props.idx)\n                        else if(props.requestedDelete === 'education')\n                            props.deleteEdu(props.idx)\n                        else if(props.requestedDelete === 'link'){\n                            props.removeLink(props.idx)\n                        }\n                        props.setEdited(true);\n                        props.setShowDelete(false);\n                        props.setRequestedDelete('');   \n                        props.setRequestedDeleteIdx(null);                 \n                    }}>\n                OK</Button>\n            </Modal.Footer>\n        </Modal>\n    )\n}","import { useEffect, useState } from 'react';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { Nav, Tab, Modal, Button, Form, Row, Col, Badge } from 'react-bootstrap';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport { AreYouSure } from '../components/AreYouSure';\nimport Switch  from '../components/switch';\nimport DatePicker from 'react-datepicker'\nimport Fade from 'react-reveal/Fade';\n\nexport const Portfolio = props => {\n    //console.log(\"Portfolio Recieved Props: \", props);\n    // Data passed down from Profile through the parent state\n    const user = props.location.state.user;\n    const portfolioData = (props.data.portfolio !== null) ? props.data.portfolio: props.location.state.portfolio;\n    const educationData = (props.data.education !== null) ? props.data.education : props.location.state.education;\n    const projectsData = (props.data.projects !== null) ? props.data.projects : props.location.state.projects;\n\n    // Display Toggles\n    const [show, setShow] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false); \n    const [showDelete, setShowDelete] = useState(false);\n    const [requestedDelete, setRequestedDelete] = useState('');\n    const [requestedDeleteIdx, setRequestedDeleteIdx] = useState(null);\n\n    const [reordered, setReordered] = useState(false);\n    const [changingOrder, setChangingOrder] = useState(false);\n\n    const [validated, setValidated] = useState(false);\n    const [errs, setErrs] = useState({\"project\": {}, \"portfolio\": {}, \"education\": {}}); \n\n    const [duplicateProject, setDuplicateProject] = useState({});\n    const [duplicateWork, setDuplicateWork] = useState({});\n    const [duplicateEducation, setDuplicateEducation] = useState({});\n    \n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited) setShowAlert(true);\n        else{\n            setChangingOrder(false);\n            setShow(false);\n            setProjects({values: projectsData});\n            setPortfolio({values: portfolioData});\n            setEducation({values: educationData});\n            setValidated(false);\n            setErrs({\"project\": {}, \"portfolio\": {}, \"education\": {}});\n            setDuplicateProject({});\n            setDuplicateWork({});\n            setDuplicateEducation({});\n            setRequestedDelete('');\n        }\n    }\n\n    // Replace state with original data\n    const discardChanges = () => {\n        setProjects({values: projectsData});\n        setPortfolio({values: portfolioData});\n        setEducation({values: educationData});\n        setProjectsToDelete([]);\n        setWorkExperienceToDelete([]);\n        setEducationToDelete([]);\n        setChangingOrder(false);\n        setReordered(false);\n        setValidated(false);\n        setErrs({\"project\": {}, \"portfolio\": {}, \"education\": {}});\n        setDuplicateProject({});\n        setDuplicateWork({});\n        setDuplicateEducation({});\n    }\n\n    // Data to be Modified\n    const [projects, setProjects] = useState({values: projectsData});\n    const [projectsToDelete, setProjectsToDelete] = useState([]);\n\n    const [portfolio, setPortfolio] = useState({values: portfolioData});\n    const [workExperienceToDelete, setWorkExperienceToDelete] = useState([]);\n\n    const [education, setEducation] = useState({values: educationData});\n    const [educationToDelete, setEducationToDelete] = useState([]);\n\n    // Upon successful POST response, props will change, so reset hooks\n    useEffect(() => {\n        setProjects({values: projectsData});\n        setProjectsToDelete([]);\n\n        setPortfolio({values: portfolioData});\n        setWorkExperienceToDelete([]);\n\n        setEducation({values: educationData});\n        setEducationToDelete([]);\n\n        setValidated(false);\n        setErrs({\"project\": {}, \"portfolio\": {}, \"education\": {}});\n\n        setDuplicateProject({});\n        setDuplicateWork({});\n        setDuplicateEducation({});\n    }, [props, projectsData, portfolioData, educationData])\n\n\n    // --------------- Begin Projects Event Handling --------------\n\n    const handleProjectTitleChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: event.target.value,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        // Delete empty-error if user fills out field\n        if((typeof(errs[\"project\"][\"Idx\"+idx]) !== 'undefined') \n        && (tmpProjects[idx].title !== \"\")){\n            delete errs[\"project\"][\"Idx\"+idx];\n        }\n        // New event is a duplicate? Add idx as duplicate\n        if(projects.values.some(e => e.title === event.target.value)){\n            setDuplicateProject({...duplicateProject, [\"Idx\"+idx]: true});\n        }\n        // No longer a duplicate? Delete from duplicates\n        else if(!(projects.values.some(e => e.title === event.target.value)) && typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined'){\n            if(typeof(errs[\"project\"][\"Idx\"+idx]) !== 'undefined'){\n                delete errs[\"project\"][\"Idx\"+idx];\n            }\n            console.log(\"Deleting dup project at idx:\", idx)\n            delete duplicateProject[\"Idx\"+idx];\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n    \n    const handleProjectDescriptionChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: event.target.value,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectOrganizationChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: event.target.value,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectStartChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            console.log(\"offset:\", offset)\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: newDate,\n            to_when: projects.values[idx].to_when,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectFinishChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: newDate,\n            link: projects.values[idx].link\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const handleProjectLinkChange = (event, idx) => {\n        let tmpProjects = [...projects.values];\n        tmpProjects[idx] = {\n            project_id: projects.values[idx].project_id,\n            uid: projects.values[idx].uid,\n            title: projects.values[idx].title,\n            description: projects.values[idx].description,\n            organization: projects.values[idx].organization,\n            from_when: projects.values[idx].from_when,\n            to_when: projects.values[idx].to_when,\n            link: event.target.value\n        }\n        if((typeof(tmpProjects[idx].project_id) !== 'undefined')\n        && !(typeof(tmpProjects[idx].toUpdate) !== 'undefined')){\n            tmpProjects[idx].toUpdate = true;\n        }\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    }\n\n    const addProject = () => {\n        setProjects({\n            values: [\n                ...projects.values, \n                {\n                    title: '',\n                    description: '',\n                    organization: '',\n                    from_when: \"infinity\",\n                    to_when: \"infinity\",\n                    link: ''\n                }\n            ]\n        });\n    }\n\n    const deleteProject = (idx) => {\n        let tmpProjects = [...projects.values];\n        let errors = {};\n        let duplicates = {}\n        if(typeof(tmpProjects[idx]) == 'undefined'){}\n        else if((typeof(tmpProjects[idx].project_id) !== 'undefined')){\n            setProjectsToDelete(\n                [\n                    ...projectsToDelete, \n                    {project_id: tmpProjects[idx].project_id}\n                ]);\n        }\n        tmpProjects.splice(idx, 1);\n        \n        // Indexes are shifted upon a delete, so we need to recalculate blanks, and/or duplicates\n        tmpProjects.forEach((row, newIdx) => {\n            if((row.title === \"\")){\n                errors[\"Idx\"+newIdx] = true;\n            } else{\n                tmpProjects.forEach((tmpRow, tmpIdx) => {\n                    if(tmpRow.title === row.title && tmpIdx !== newIdx){\n                        duplicates[\"Idx\"+tmpIdx] = true;\n                        duplicates[\"Idx\"+newIdx] = true;\n                    }\n                })\n            }\n        })\n\n        setErrs({\n            project: errors,\n            portfolio: {...errs[\"portfolio\"]},\n            education: {...errs[\"education\"]}\n        })\n        setDuplicateProject(duplicates)\n        console.log(\"New dups after delete:\", duplicates)\n        console.log(\"errors['project'] after delete:\", errors);\n        setProjects({values: tmpProjects});\n        setEdited(true);\n    };\n    // -----------------------------------------------------\n    function handleOnDragEnd(result) {\n        console.log(result)\n      if (!result.destination) return;\n\n      // Sorting in same list\n      if(result.source.droppableId === result.destination.droppableId){\n        if(result.source.droppableId === \"projects\"){\n            const items = Array.from(projects.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setProjects({values: items});\n        } else if(result.source.droppableId === \"work-experience\"){\n            const items = Array.from(portfolio.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setPortfolio({values: items});\n        } else if(result.source.droppableId === \"education\"){\n            const items = Array.from(education.values);\n            const [reorderedItem] = items.splice(result.source.index, 1);\n            items.splice(result.destination.index, 0, reorderedItem);\n        \n            setReordered(true);\n            setEdited(true);\n            setEducation({values: items});\n        }\n\n      } else{\n          console.log(\"No sorting between lists!\");\n          return;\n      }\n    }\n\n    \n    // --------------- Begin Portfolio Event Handling ------------\n\n    const handlePortfolioOccupationChange = (event, idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: event.target.value,\n            organization: portfolio.values[idx].organization,\n            from_when: portfolio.values[idx].from_when,\n            to_when: portfolio.values[idx].to_when,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        // Delete empty-error if user fills out field\n        if((typeof(errs[\"portfolio\"][\"Idx\"+idx]) !== 'undefined') \n        && (tmpPortfolio[idx].occupation !== \"\")){\n            delete errs[\"portfolio\"][\"Idx\"+idx];\n        }\n        // New event is a duplicate? Add idx as duplicate\n        if((portfolio.values.some(e => (e.occupation + e.organization) === (event.target.value + tmpPortfolio[idx].organization)))){\n            setDuplicateWork({...duplicateWork, [\"Idx\"+idx] : true});\n        }\n         // No longer a duplicate? Delete from duplicates\n        else if(!(portfolio.values.some(e => (e.occupation + e.organization) === event.target.value + tmpPortfolio[idx].organization)) && typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateWork[\"Idx\"+idx];\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioOrganizationChange = (event, idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: event.target.value,\n            from_when: portfolio.values[idx].from_when,\n            to_when: portfolio.values[idx].to_when,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        if((portfolio.values.some(e => (e.occupation + e.organization) === (tmpPortfolio[idx].occupation + event.target.value)))){\n            setDuplicateWork({...duplicateWork, [\"Idx\"+idx] : true});\n        }         \n        else if(!(portfolio.values.some(e => (e.occupation + e.organization) === tmpPortfolio[idx].occupation + event.target.value)) && typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateWork[\"Idx\"+idx];\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioStartChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: portfolio.values[idx].organization,\n            from_when: newDate,\n            to_when: portfolio.values[idx].to_when,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioFinishChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: portfolio.values[idx].organization,\n            from_when: portfolio.values[idx].from_when,\n            to_when: newDate,\n            description: portfolio.values[idx].description\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const handlePortfolioDescriptionChange = (event, idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        tmpPortfolio[idx] = {\n            portfolio_id: portfolio.values[idx].portfolio_id,\n            uid: portfolio.values[idx].uid,\n            occupation: portfolio.values[idx].occupation,\n            organization: portfolio.values[idx].organization,\n            from_when: portfolio.values[idx].from_when,\n            to_when: portfolio.values[idx].to_when,\n            description: event.target.value\n        }\n        if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')\n        && !(typeof(tmpPortfolio[idx].toUpdate) !== 'undefined')){\n            tmpPortfolio[idx].toUpdate = true;\n        }\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n    const addWorkExperience = () => {\n        setPortfolio({\n            values: [\n                ...portfolio.values, \n                {\n                    occupation: '',\n                    organization: '',\n                    from_when: \"infinity\",\n                    to_when: \"infinity\",\n                    description: ''\n                }\n            ]\n        });\n    }\n\n    const deleteWorkExperience = (idx) => {\n        let tmpPortfolio = [...portfolio.values];\n        let errors = {};\n        let duplicates = {};\n        if(typeof(tmpPortfolio[idx]) == 'undefined'){}\n        else if((typeof(tmpPortfolio[idx].portfolio_id) !== 'undefined')){\n            setWorkExperienceToDelete(\n                [\n                    ...workExperienceToDelete, \n                    {portfolio_id: tmpPortfolio[idx].portfolio_id}\n                ]);\n        }\n        tmpPortfolio.splice(idx, 1);\n\n        // Indexes are shifted upon a delete, so we need to recalculate blanks, and/or duplicates\n        tmpPortfolio.forEach((row, newIdx) => {\n            if(row.occupation === \"\"){\n                errors[\"Idx\"+newIdx] = true;\n            } else{\n                tmpPortfolio.forEach((tmpRow, tmpIdx) => {\n                    if((tmpRow.occupation + tmpRow.organization) === (row.occupation + row.organization) && tmpIdx !== newIdx){\n                        duplicates[\"Idx\"+tmpIdx] = true;\n                        duplicates[\"Idx\"+newIdx] = true;\n                    }\n                })\n            }\n        })\n\n        setErrs({\n            project: {...errs[\"project\"]},\n            portfolio: errors,\n            education: {...errs[\"education\"]}\n        })\n        setDuplicateWork(duplicates);\n        console.log(\"New dups after delete:\", duplicates)\n        console.log(\"errors['portfolio'] after delete:\", errors);\n        setPortfolio({values: tmpPortfolio});\n        setEdited(true);\n    }\n\n\n    // --------------- Begin Education Event Handling ------------\n\n    const handleEducationOrganizationChange = (event, idx) => {\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: event.target.value,\n            education: education.values[idx].education,\n            from_when: education.values[idx].from_when,\n            to_when: education.values[idx].to_when,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationChange = (event, idx) => {\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: event.target.value,\n            from_when: education.values[idx].from_when,\n            to_when: education.values[idx].to_when,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        // Delete empty-error if user fills out field\n        if((typeof(errs[\"education\"][\"Idx\"+idx]) !== 'undefined') \n        && (tmpEducation[idx].education !== \"\")){\n            delete errs[\"education\"][\"Idx\"+idx];\n        }\n        // New event is a duplicate? Add idx as duplicate\n        if((education.values.some(e => e.education === event.target.value))){\n            setDuplicateEducation({...duplicateEducation, [\"Idx\"+idx] : true});\n        }\n        // No longer a duplicate? Delete from duplicates\n        else if(!(education.values.some(e => e.education === event.target.value)) && typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined'){\n            delete duplicateEducation[\"Idx\"+idx];\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationStartChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: education.values[idx].education,\n            from_when: newDate,\n            to_when: education.values[idx].to_when,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationFinishChange = (date, idx) => {\n        let newDate;\n        if(date !== null){\n            const offset = date.getTimezoneOffset();\n            if(offset < 0) date.setHours(12, 0, 0);\n            //eslint-disable-next-line\n            newDate = date.toISOString().replace(/-/g, '\\/').replace(/T.+/, '');\n        }\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: education.values[idx].education,\n            from_when: education.values[idx].from_when,\n            to_when: newDate,\n            description: education.values[idx].description\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    const handleEducationDescriptionChange = (event, idx) => {\n        let tmpEducation = [...education.values];\n        tmpEducation[idx] = {\n            education_id: education.values[idx].education_id,\n            uid: education.values[idx].uid,\n            organization: education.values[idx].organization,\n            education: education.values[idx].education,\n            from_when: education.values[idx].from_when,\n            to_when: education.values[idx].to_when,\n            description: event.target.value\n        }\n        if((typeof(tmpEducation[idx].education_id) !== 'undefined')\n        && !(typeof(tmpEducation[idx].toUpdate) !== 'undefined')){\n            tmpEducation[idx].toUpdate = true;\n        }\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n    // Inserting null dates in psql is tricky -- instead use special value \"infinity\"\n    const addEducation = () => {\n        setEducation({\n            values: [\n                ...education.values, \n                {\n                    organization: '',\n                    education: '',\n                    from_when: \"infinity\",\n                    to_when: \"infinity\",\n                    description: ''\n                }\n            ]\n        });\n    }\n\n    const deleteEducation = (idx) => {\n        let tmpEducation = [...education.values];\n        let duplicates = {};\n        let errors = {};\n        if(typeof(tmpEducation[idx]) == 'undefined'){\n            \n        }\n        else if((typeof(tmpEducation[idx].education_id) !== 'undefined')){\n            setEducationToDelete(\n                [\n                    ...educationToDelete, \n                    {education_id: tmpEducation[idx].education_id}\n                ]);\n        }\n        tmpEducation.splice(idx, 1);\n\n        tmpEducation.forEach((row, newIdx) => {\n            if(row.education === \"\"){\n                errors[\"Idx\"+idx] = true;\n            } else{\n                tmpEducation.forEach((tmpRow, tmpIdx) => {\n                    if(tmpRow.education === row.education && tmpIdx !== newIdx){\n                        duplicates[\"Idx\"+tmpIdx] = true;\n                        duplicates[\"Idx\"+newIdx] = true;\n                    }\n                })\n            }\n        })\n        setErrs({\n            project: {...errs[\"project\"]},\n            portfolio: {...errs[\"portfolio\"]},\n            education: errors\n        })\n        setDuplicateEducation(duplicates);\n        console.log(\"New dups after delete:\", duplicates)\n        console.log(\"errors['project'] after delete:\", errors);\n        setEducation({values: tmpEducation});\n        setEdited(true);\n    }\n\n\n    // --------------- End Education Event Handling --------------\n\n    const validate = () => {\n        let isValidated = true;\n        setErrs({});\n        let errors = {};\n        errors[\"project\"] = {};\n        errors[\"portfolio\"] = {};\n        errors[\"education\"] = {};\n        projects.values.forEach((row, idx) => {\n            if((row.title === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"project\"][\"Idx\"+idx] = true;\n            }\n            if(typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        portfolio.values.forEach((row, idx) => {\n            if((row.occupation === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"portfolio\"][\"Idx\"+idx] = true;\n            }\n            if(typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        education.values.forEach((row, idx) => {\n            if((row.education === \"\")){\n                isValidated = false;\n                setValidated(false);\n                errors[\"education\"][\"Idx\"+idx] = true;\n            }\n            if(typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined'){\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n\n        console.log(\"errors['project'] in validate():\", errors[\"project\"]);\n        console.log(\"duplicate projects in validate():\", duplicateProject);\n        setErrs(errors);\n        return isValidated;\n    }\n\n    const handleSave = async(event) => {\n        if(!validate()){\n            event.preventDefault();\n            event.stopPropagation();\n        } else{\n\n        var projectsToCreate = [];\n        var projectsToUpdate = [];\n        var workExperienceToCreate = [];\n        var workExperienceToUpdate = [];\n        var educationToCreate = [];\n        var educationToUpdate = [];\n\n        // Determine what needs to be created vs. updated\n        projects.values.forEach((row, idx) => {\n            \n            if(!(typeof(row.project_id) !== 'undefined')){\n                if(row.title === ''){\n                    console.log(\"A title is required in order to create!\");\n                } else {\n                    projectsToCreate.push({\n                        title: row.title,\n                        description: row.description,\n                        organization: row.organization,\n                        from_when: row.from_when,\n                        to_when: row.to_when,\n                        link: row.link,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                projectsToUpdate.push({\n                    project_id: row.project_id,\n                    title: row.title,\n                    description: row.description,\n                    organization: row.organization,\n                    from_when: row.from_when,\n                    to_when: row.to_when,\n                    link: row.link,\n                    rowIdx: idx\n                })\n            }\n        })\n        portfolio.values.forEach((row, idx) => {\n            if(!(typeof(row.portfolio_id) !== 'undefined')){\n                if(row.occupation === ''){\n                    console.log(\"An occupation is required in order to create!\");\n                } else {\n                    workExperienceToCreate.push({\n                        occupation: row.occupation,\n                        organization: row.organization,\n                        from_when: row.from_when,\n                        to_when: row.to_when,\n                        description: row.description,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                workExperienceToUpdate.push({\n                    portfolio_id: row.portfolio_id,\n                    occupation: row.occupation,\n                    organization: row.organization,\n                    from_when: row.from_when,\n                    to_when: row.to_when,\n                    description: row.description,\n                    rowIdx: idx\n                })\n            }\n        })\n        education.values.forEach((row, idx) => {\n            if(!(typeof(row.education_id) !== 'undefined')){\n                if(row.education === ''){\n                    console.log(\"Education Field is required in order to create!\");\n                } else {\n                    educationToCreate.push({\n                        organization: row.organization,\n                        education: row.education,\n                        from_when: row.from_when,\n                        to_when: row.to_when,\n                        description: row.description,\n                        rowIdx: idx\n                    });\n                }\n            } else if(typeof(row.toUpdate) !== 'undefined'){\n                educationToUpdate.push({\n                    education_id: row.education_id,\n                    organization: row.organization,\n                    education: row.education,\n                    from_when: row.from_when,\n                    to_when: row.to_when,\n                    description: row.description,\n                    rowIdx: idx\n                })\n            }\n        })\n\n        // console.log(\"Projects to Create:\", projectsToCreate);\n        // console.log(\"Projects to Update:\", projectsToUpdate);\n        // console.log(\"Projects to Delete:\", projectsToDelete);\n        // console.log(\"Work Experience to Create:\", workExperienceToCreate);\n        // console.log(\"Work Experience to Update:\", workExperienceToUpdate);\n        // console.log(\"Work Experience to Delete:\", workExperienceToDelete);\n        // console.log(\"Education to Create:\", educationToCreate);\n        // console.log(\"Education to Update:\", educationToUpdate);\n        // console.log(\"Education to Delete:\", educationToDelete);\n\n        // Begin POST Requests\n\n        const createProjects = async() => {\n            for await (const projectToCreate of projectsToCreate){\n                await props.createProject(user.user_id, projectToCreate, projectToCreate.rowIdx);\n            }\n        }\n        if(projectsToCreate.length) await createProjects();\n\n        const updateProjects = async() => {\n            for(const projectToUpdate of projectsToUpdate){\n                await props.updateProject(user.user_id, projectToUpdate, projectToUpdate.rowIdx);\n            }\n        }\n        if(projectsToUpdate.length) await updateProjects();\n\n        const createPortfolio = async() => {\n            for await (let workToCreate of workExperienceToCreate){\n                await props.createWorkExperience(user.user_id, workToCreate, workToCreate.rowIdx);\n            }\n        }\n        if(workExperienceToCreate.length) await createPortfolio();\n\n        const updateWorkExperience = async() => {\n            for(const workToUpdate of workExperienceToUpdate){\n                await props.updateWorkExperience(user.user_id, workToUpdate, workToUpdate.rowIdx);\n            }\n        }\n        if(workExperienceToUpdate.length) await updateWorkExperience();\n\n        const createEdu = async() => {\n                for await (let eduToCreate of educationToCreate){\n                    await props.createEducation(user.user_id, eduToCreate, eduToCreate.rowIdx);\n                }\n        }\n        if(educationToCreate.length) await createEdu();\n\n        const updateEdu = async() => {\n            for await (const eduToUpdate of educationToUpdate){\n                await props.updateEducation(user.user_id, eduToUpdate, eduToUpdate.rowIdx);\n            }\n        }\n        if(educationToUpdate.length) await updateEdu();\n\n        const deleteProjects = async() => {\n            for await (let projectToDelete of projectsToDelete){\n                await props.deleteProject(projectToDelete.project_id);\n            }\n        };\n        if(projectsToDelete.length) await deleteProjects();\n\n        const deleteWork = async() => {\n            for await (let workToDelete of workExperienceToDelete){\n                await props.deleteWorkExperience(workToDelete.portfolio_id);\n            }\n        }\n        if(workExperienceToDelete.length) await deleteWork();\n\n        const deleteEdu = async() => {\n            for await (let eduToDelete of educationToDelete){\n                await props.deleteEducation(eduToDelete.education_id);\n            }\n        }\n        if(educationToDelete.length) await deleteEdu();\n\n        const reorder = async() => {\n            console.log(\"Reordered projects:\");\n            projects.values.forEach(async (row, rowIdx) => {\n                console.log(\"Row:\", row);\n                console.log(\"New Position:\", rowIdx);\n                await props.updateProject(user.user_id, row, rowIdx);\n            })\n            console.log(\"Reordered Work Experience:\");\n            portfolio.values.forEach(async (row, rowIdx) => {\n                console.log(\"Row:\", row);\n                console.log(\"New Position:\", rowIdx);\n                await props.updateWorkExperience(user.user_id, row, rowIdx);\n            })\n            education.values.forEach(async (row, rowIdx) => {\n                console.log(\"Row:\", row);\n                console.log(\"New Position:\", rowIdx);\n                await props.updateEducation(user.user_id, row, rowIdx);\n            })\n        }\n        if(reordered) await reorder();\n\n\n        window.location.reload();\n        }\n    }\n\n\n    // Dynamically render list of forms\n    const renderProjectsForm = () => {\n        return projects.values.map((row, idx) => \n        <Form.Row className='draggable-container mb-4 ml-1' key={idx}>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Project\n                </Form.Label>\n                <Col>\n                    <Form.Control \n                        required\n                        style={{textAlign: \"left\"}}\n                        isInvalid={(length(errs[\"project\"]) > 0 && row.title===\"\") || (typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined' && row.title !== \"\")}\n                        type=\"text\" \n                        value={row.title || ''} \n                        placeholder={\"Project Title (Required)\"} \n                        onChange={e => handleProjectTitleChange(e, idx)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        {(length(errs[\"project\"]) > 0) && row.title === \"\"\n                            ? \"Please provide a project title.\"\n                            : null}\n                        {(typeof(duplicateProject[\"Idx\"+idx]) !== 'undefined' && row.title !== \"\")\n                            ? \"Duplicate project titles are not allowed.\"\n                            : null\n                        }\n                    </Form.Control.Feedback>\n                </Col>\n            </Form.Row>\n\n            <Col className='mt-1'>\n                <Button variant=\"outline-danger\" size=\"sm\"\n                    onClick={() => {\n                        setShowDelete(true);\n                        setRequestedDelete('project');\n                        setRequestedDeleteIdx(idx);\n                    }}\n                >Delete Project</Button>\n            </Col>   \n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Description\n                </Form.Label>\n                <Col>\n                    <Form.Control as=\"textarea\" id=\"description\" rows=\"3\" \n                    defaultValue={row.description !== null \n                        ? row.description.replace(/\\\\n/g, '\\n') \n                        : ''} \n                    placeholder={\"Add a description for your project!\"} \n                    onChange={e => handleProjectDescriptionChange(e, idx)}\n                    />\n                </Col>\n            </Form.Row>\n        \n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Organization\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"project-organization\" style={{textAlign: \"left\"}}\n                    value={row.organization !== null ? row.organization : ''} \n                    placeholder={\"Add an organization (Optional)\"} \n                    onChange={e => handleProjectOrganizationChange(e, idx)}></Form.Control>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Start Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.from_when !== \"infinity\" && typeof(row.from_when) !== 'undefined' && row.from_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.from_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}\n                    placeholder={\"Add a start date for your project (Optional)\"} \n                    onChange={ date => {\n                            handleProjectStartChange(date, idx);\n                    }}></Form.Control>\n                    \n                </Col>\n            </Form.Row>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Finish Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.to_when !== \"infinity\" && typeof(row.to_when) !== 'undefined' && row.to_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.to_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}  \n                    placeholder={\"Add a finish date for your project (Optional)\"} \n                    onChange={date => {\n                        handleProjectFinishChange(date, idx);\n                    }}></Form.Control>\n\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Link\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"project-link\" style={{textAlign: \"left\"}} value={row.link !== null ? row.link : ''} placeholder={\"Ex: http://www.example.com\"} \n                        onChange={e => handleProjectLinkChange(e, idx)}\n                    />\n                </Col>\n            </Form.Row>\n        </Form.Row>\n        )\n    }\n\n    const renderWorkExperienceForm = () => {\n\n        return portfolio.values.map((row, idx) => \n        <Form.Row className='draggable-container mb-4 ml-3' key={idx}>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Title\n                </Form.Label>\n                <Col>\n                    <Form.Control \n                        type=\"text\" \n                        required\n                        style={{textAlign: \"left\"}}\n                        isInvalid={(length(errs[\"portfolio\"]) > 0 && row.occupation === \"\") || (typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined' && row.occupation !== \"\")}\n                        value={row.occupation !== null ? row.occupation : ''} \n                        placeholder={\"Occupation Title\"} \n                        onChange={e => {handlePortfolioOccupationChange(e, idx)}}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                    {(length(errs[\"portfolio\"]) > 0 && row.occupation === \"\")\n                        ? \"Please provide an occupation.\"\n                        : null} \n                    {(typeof(duplicateWork[\"Idx\"+idx]) !== 'undefined' && row.occupation !== \"\")\n                        ? \"Duplicate (occupation titles, organization) not allowed.\"\n                        : null}\n                    </Form.Control.Feedback>\n                </Col>\n            </Form.Row>\n\n            <Col className='mt-1'><Button variant=\"outline-danger\" size=\"sm\"\n                onClick={() => {\n                    setShowDelete(true);\n                    setRequestedDelete('work experience');\n                    setRequestedDeleteIdx(idx);\n                }}\n            >Delete Work</Button></Col>   \n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Organization\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"organization\" style={{textAlign: \"left\"}} value={row.organization !== null ? row.organization : ''} placeholder={\"Add an organization (Optional)\"} \n                        onChange={e => {handlePortfolioOrganizationChange(e, idx)}}>\n                    </Form.Control>\n                </Col>\n            </Form.Row>\n        \n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Start Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.from_when !== \"infinity\" && typeof(row.from_when) !== 'undefined' && row.from_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.from_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}   \n                    placeholder=\n                    {\"Add a start date (Optional)\"} \n                    onChange={ date => {\n                        handlePortfolioStartChange(date, idx);\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Finish Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.to_when !== \"infinity\" && typeof(row.to_when) !== 'undefined' && row.to_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.to_when.replace(/-/g, '\\/').replace(/T.+/, ''))\n                    : ''}  \n                    placeholder={\"Add a finish date (Optional)\"} \n                    onChange={date => {\n                        handlePortfolioFinishChange(date, idx);\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Description\n                </Form.Label>\n                <Col>\n                    <Form.Control as=\"textarea\" rows=\"3\" \n                    style={{textAlign: \"left\"}}\n                    defaultValue={row.description !== null \n                        ? row.description.replace(/\\\\n/g, '\\n') \n                        : ''}\n                    placeholder={\"Add a description (Optional)\"} \n                    onChange={e => handlePortfolioDescriptionChange(e, idx)}\n                    />\n                </Col>\n            </Form.Row>\n        </Form.Row>\n        )\n    }\n\n    const renderEducationForm = () => {\n        return education.values.map((row, idx) => \n        <Form.Row className='draggable-container mb-4 ml-3' key={idx}>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Education\n                </Form.Label>\n                <Col>\n                    <Form.Control \n                        type=\"text\" \n                        required\n                        style={{textAlign: \"left\"}}\n                        isInvalid={(length(errs[\"education\"]) > 0 && row.education === \"\") || (typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined' && row.education !== \"\")}\n                        value={row.education !== null ? row.education : ''} \n                        placeholder={\"Education (Required)\"} \n                        onChange={e => {handleEducationChange(e, idx)}}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                    {(length(errs[\"education\"]) > 0 && row.education === \"\")\n                        ? \"Please provide education.\"\n                        : null}\n                    {(typeof(duplicateEducation[\"Idx\"+idx]) !== 'undefined' && row.education !== \"\")\n                        ? \"Duplicate education is not allowed.\"\n                        :null}\n                    </Form.Control.Feedback>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Organization\n                </Form.Label>\n                <Col>\n                    <Form.Control type=\"text\" id=\"education-organization\" style={{textAlign: \"left\"}} value={row.organization !== null ? row.organization : ''} placeholder={\"Add an organization (Optional)\"}\n                        onChange={e => {handleEducationOrganizationChange(e, idx)}}\n                    ></Form.Control>\n                </Col>\n            </Form.Row>\n\n\n            <Col className='mt-1'>\n                <Button variant=\"outline-danger\" size=\"sm\"\n                    onClick={() => {\n                        setShowDelete(true);\n                        setRequestedDelete('education');\n                        setRequestedDeleteIdx(idx);\n                    }}\n                >Delete Education</Button>\n            </Col>   \n        \n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Start Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.from_when !== \"infinity\" && typeof(row.from_when) !== 'undefined' && row.from_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.from_when.replace(/-/g, '\\/'))\n                    : ''}   \n                    placeholder=\n                    {\"Add a start date (Optional)\"} \n                    onChange={ date => {\n                        handleEducationStartChange(date, idx)\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Finish Date\n                </Form.Label>\n                <Col>\n                    <Form.Control as={ DatePicker } \n                    selected={(row.to_when !== \"infinity\" && typeof(row.to_when) !== 'undefined' && row.to_when !== null) \n                    //eslint-disable-next-line\n                    ? new Date(row.to_when.replace(/-/g, '\\/')) \n                    : ''}  \n                    placeholder={\"Add a finish date (Optional)\"} \n                    onChange={date => {\n                        handleEducationFinishChange(date, idx)\n                    }}></Form.Control>\n                </Col>\n            </Form.Row>\n\n            <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                <Form.Label column sm={3}>\n                    Description\n                </Form.Label>\n                <Col>\n                    <Form.Control as=\"textarea\" rows=\"3\" \n                    style={{textAlign: \"left\"}}\n                    defaultValue={row.description !== null\n                        ? row.description.replace(/\\\\n/g, '\\n')  \n                        : ''}\n                    placeholder={\"Add a description (Optional)\"}\n                    onChange={e => {handleEducationDescriptionChange(e, idx)}}\n                    />\n                </Col>\n            </Form.Row>\n        </Form.Row>\n        )\n    }\n\n    const ChangeOrder = (props) => {\n        console.log(\"ChangeOrder Component Recieved ID:\", props.droppableId)\n        return (\n            <DragDropContext \n                onDragEnd={handleOnDragEnd}\n            >\n            {props.droppableId === \"projects\"\n            ? <Droppable droppableId=\"projects\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {projects.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.title} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.title\n                                        ? <b>{row.title}</b>\n                                        : null}\n\n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            : null}\n\n            {props.droppableId === \"work-experience\"\n            ? <Droppable droppableId=\"work-experience\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {portfolio.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.occupation} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.occupation\n                                        ? <b>{row.occupation}</b>\n                                        : null}\n                                    {row.organization\n                                        ? <>{' | ' + row.organization}</>\n                                        : null}\n\n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            : null}\n\n            {props.droppableId === \"education\"\n            ? <Droppable droppableId=\"education\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {education.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.education} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.education\n                                        ? <b>{row.education}</b>\n                                        : null}\n                                        \n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            : null}\n            </DragDropContext>\n        );\n    }\n\n    const FormatDate = (props) => {\n        let date = props.dateString;\n        const months = {\"01\": \"January\", \"02\": \"February\", \"03\": \"March\", \"04\": \"April\", \"05\": \"May\", \"06\": \"June\", \n                        \"07\": \"July\", \"08\": \"August\", \"09\": \"September\", \"10\": \"October\", \"11\": \"November\", \"12\": \"December\"};\n        const year = date.substring(0, 4);\n        const monthDecimal = date.substring(5, 7);\n        const month = months[monthDecimal];\n        const formattedDate = month + ' ' + year;\n        return ' ' + formattedDate + ' ';\n    }\n\n    function length(obj) {\n        if((!(typeof(obj) !== 'undefined')) || (obj == null)) return 0;\n        return Object.keys(obj).length;\n    }\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n\n    return(\n        <div className=\"tab-container\">        \n        {props.data.ownedByUser ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button> : null}\n        <h3>Portfolio</h3>\n        <Modal\n            show={show}\n            onHide={handleClose}\n            backdrop=\"static\"\n            keyboard={false}\n            size=\"lg\"\n            centered\n            scrollable={false}\n        >\n            <Modal.Header closeButton>\n                <Modal.Title id=\"contained-modal-title-vcenter\">\n                    Edit\n                    <AlertDismissible\n                        setShow={setShow}\n                        setEdited={setEdited}\n                        setShowAlert={setShowAlert}\n                        showAlert={showAlert}\n                        handleSave={handleSave}\n                        discardChanges={discardChanges}\n                    />\n                </Modal.Title>\n            </Modal.Header>\n            <Modal.Body>\n            <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"projects\">\n            <Form noValidate validated={validated} onSubmit={handleSave}>\n                <Row>\n                    <Col sm={3}>\n                    <Nav variant=\"pills\" className=\"flex-column\">\n                        <Nav.Item>\n                            <Nav.Link \n                                className={(length(errs[\"project\"]) > 0) || (length(duplicateProject) > 0)\n                                    ? \"nav-error\" \n                                    : \"\"}\n                                eventKey=\"projects\" \n                                onClick={() => setChangingOrder(false)}\n                            >\n                            Projects\n                            {((length(errs[\"project\"]) > 0) || (length(duplicateProject) > 0))\n                            ? <Badge variant=\"danger\" className='ml-4'>\n                                {(length(errs[\"project\"]) + length(duplicateProject))}\n                                </Badge>\n                            : null}\n                            \n                            </Nav.Link>\n                        </Nav.Item>\n                        <Nav.Item>\n                            <Nav.Link \n                                className={(length(errs[\"portfolio\"]) > 0) || (length(duplicateWork) > 0)\n                                    ? \"nav-error\" : \"\"}\n                                eventKey=\"work-exerience\" \n                                onClick={() => setChangingOrder(false)}\n                            >Work Experience\n                            {(length(errs[\"portfolio\"]) > 0) || (length(duplicateWork) > 0)\n                            ? <Badge variant=\"danger\" className='ml-1'>\n                                {length(errs[\"portfolio\"]) + length(duplicateWork)}\n                                </Badge>\n                            : null}\n                            </Nav.Link>\n                        </Nav.Item>\n                        <Nav.Item>\n                            <Nav.Link \n                                className={(length(errs[\"education\"]) > 0) || (length(duplicateEducation) > 0)\n                                ? \"nav-error\" : \"\"}  \n                                eventKey=\"education\" \n                                onClick={() => setChangingOrder(false)}\n                            >Education\n                            {(length(errs[\"education\"]) > 0) || (length(duplicateEducation) > 0)\n                            ? <Badge variant=\"danger\" className='ml-4'>\n                                {length(errs[\"education\"]) + length(duplicateEducation)}\n                                </Badge>\n                            : null}\n                            </Nav.Link>\n                        </Nav.Item>\n                    </Nav>\n                    </Col>\n                    <Col sm={9}>\n                    <Tab.Content>\n                        <Tab.Pane eventKey=\"projects\">\n                            <Form.Group>\n                                <h4>Projects</h4>\n                                {projects.values.length < 4\n                                ? <Button onClick={() => addProject()} variant=\"outline-success\" size=\"sm\">Add Project</Button>  \n                                : null }<br></br>\n                                                               \n                                {projectsData.length > 1\n                                ? <><label>Change Order</label>\n                                    <Switch\n                                        isOn={changingOrder}\n                                        handleToggle={() => {                                    \n                                            if(!validate()){\n                                                console.log(\"Please address errs\");\n                                            } else{\n                                                setChangingOrder(!changingOrder);\n                                            }\n                                        }}\n                                    /></>\n                                : null}\n\n\n                                {changingOrder\n                                ? <ChangeOrder droppableId=\"projects\"></ChangeOrder>\n                                : renderProjectsForm()}\n\n                            </Form.Group>\n                        </Tab.Pane>\n                        <Tab.Pane eventKey=\"work-exerience\">\n                            <Form.Group>\n                                <h4>Work Experience</h4>\n                                {portfolio.values.length < 4\n                                ? <Button onClick={() => addWorkExperience()} variant=\"outline-success\" size=\"sm\">Add Work Experience</Button>  \n                                : null }<br></br>\n\n                                {portfolioData.length > 1\n                                ? <><label>Change Order</label>\n                                    <Switch\n                                        isOn={changingOrder}\n                                        handleToggle={() => {\n                                            if(!validate()){\n                                                console.log(\"Please address errs\");\n                                            } else{\n                                                setChangingOrder(!changingOrder);\n                                            }\n                                        }}\n                                    /></>\n                                : null}\n\n                                {changingOrder\n                                ? <ChangeOrder droppableId=\"work-experience\"></ChangeOrder>\n                                : renderWorkExperienceForm()}\n                            </Form.Group>\n                        </Tab.Pane>\n                        <Tab.Pane eventKey=\"education\">\n                            <Form.Group>\n                                <h4>Education</h4>\n                                {education.values.length < 4\n                                ? <Button onClick={() => addEducation()} variant=\"outline-success\" size=\"sm\">Add Education</Button>  \n                                : null }<br></br>\n\n                                {educationData.length > 1\n                                ? <><label>Change Order</label>\n                                    <Switch\n                                        isOn={changingOrder}\n                                        handleToggle={() => {\n                                            if(!validate()){\n                                            console.log(\"Please address errs\");\n                                        } else{\n                                            setChangingOrder(!changingOrder);\n                                        }}}\n                                    /></>\n                                : null} \n\n                                {showDelete\n                                ?    <AreYouSure\n                                        showDelete={showDelete}\n                                        setShowDelete={setShowDelete}\n                                        deleteWork={deleteWorkExperience}\n                                        deleteEdu={deleteEducation}\n                                        deleteProject={deleteProject}\n                                        setEdited={setEdited}\n                                        requestedDelete={requestedDelete}\n                                        setRequestedDelete={setRequestedDelete}\n                                        idx={requestedDeleteIdx}\n                                        setRequestedDeleteIdx={setRequestedDeleteIdx}\n                                    />\n                                :null}\n                                \n                                {changingOrder\n                                ? <ChangeOrder droppableId=\"education\"></ChangeOrder>\n                                : renderEducationForm()}\n\n\n                            </Form.Group>\n                        </Tab.Pane>\n                    </Tab.Content>\n                    </Col>\n                </Row>\n                <Button variant=\"success\" type=\"submit\">Save Changes</Button>\n            </Form>\n            </Tab.Container>\n\n            </Modal.Body>\n            <Modal.Footer>\n                \n            </Modal.Footer>\n        </Modal>\n        <br></br>\n        \n        <Fade left>\n        <h3 className=\"h3-style\">Projects</h3>\n        </Fade>\n        <hr color=\"black\"/>\n        <Fade left>\n        <div className=\"info-container\">\n            {projectsData\n            ? projectsData.map((row, idx) => \n                <div className=\"mb-2 ml-3 mr-3\" key={idx}>\n                    \n                    <div className='row mb-1'>\n                        <h5 className='d-flex flex-column h5-style h5-style'><b>{row.title}</b></h5>\n                    \n                        {(row.organization && row.organization !== \"null\")\n                        ? <h5 className=\"d-flex flex-column h5-style h5-style ml-1\">{'| ' + row.organization}</h5>\n                        : null}\n                    </div>\n\n                    <div className=\"mb-3\">\n                        {(row.from_when && row.from_when !== \"infinity\")\n                        ? <FormatDate dateString={row.from_when}/>\n                        : null\n                        }\n                        \n                        {(row.from_when && row.from_when !== \"infinity\") && (row.to_when && row.to_when !== \"infinity\") \n                        ? ' - '\n                        : null}\n\n                        {(row.to_when && row.to_when !== \"infinity\")\n                        ?  <FormatDate dateString={row.to_when}/>\n                        : null}\n                    </div>\n\n                    {row.description \n                    ? <><FormatTextarea text={row.description}/></>\n                    : null}\n\n                    {(row.link && row.link !== \"null\")\n                    ? <div className='my-1'>\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"mr-1 bi bi-link-45deg\" viewBox=\"0 0 16 16\">\n                            <path d=\"M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z\"/>\n                            <path d=\"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z\"/>\n                        </svg>\n                        <a href={row.link} target=\"_blank\" rel=\"noreferrer\">{row.link}</a>\n                    </div>\n                    : null}\n                    \n                    <hr/>\n                </div>\n            )\n            : null}\n        </div>\n        </Fade>\n\n        <Fade left>\n        <h3 className=\"h3-style\">Work Experience</h3>\n        </Fade>\n        <hr color=\"black\"/>\n        <Fade left>\n        <div className=\"info-container\">\n        {portfolioData\n        ? portfolioData.map((row, idx) => \n            <div className=\"mb-3 ml-3 mr-3\" key={idx}>\n                \n                <div className='row'>\n                    <h5 className='d-flex flex-column h5-style h5-style'><b>{row.occupation}</b></h5>\n                    <h5 className='d-flex flex-column h5-style h5-style ml-1'>\n                        <p className='mb-2'>{!row.organization ? '' :  ' | ' + row.organization}</p></h5>\n                </div>\n\n                <div className=\"mb-3\">\n                    {(row.from_when && row.from_when !== \"infinity\")\n                    ? <FormatDate dateString={row.from_when}/>\n                    : null}\n                    \n                    {(row.from_when && row.from_when !== \"infinity\") && (row.to_when && row.to_when !== \"infinity\")\n                    ? ' - '\n                    : null}\n\n                    {(row.to_when && row.to_when !== \"infinity\")\n                    ? <FormatDate dateString={row.to_when}/>\n                    : null}\n                </div>\n\n                {(row.description)\n                ? <FormatTextarea text={row.description}/>\n                : null}\n\n                <hr/>\n            </div>\n        )\n        : null } \n        </div>\n        </Fade>\n\n        <Fade left>\n        <h3 className=\"h3-style\">Education</h3>\n        </Fade>\n        <hr color=\"black\"/>\n        <Fade left>\n        <div className=\"info-container\">\n            {educationData \n            ? educationData.map((row, idx) => \n                <div className=\"ml-3 mr-3\" key={idx}>\n                    \n                    <div className='row'>\n                        <h5 className='d-flex flex-column h5-style'>\n                            <b>{row.education}</b></h5>\n\n                        {row.organization \n                        ? <h5 className=\"d-flex flex-column h5-style ml-1\">\n                            <p className='mb-2'>{'| ' + row.organization}</p></h5>\n                        : null}\n                    </div>\n                    \n                    <div className=\"mb-3\">\n                        {(row.from_when && row.from_when !== \"infinity\")\n                        ? <FormatDate dateString={row.from_when}/>\n                        : null}\n                        \n                        {(row.from_when && row.from_when !== \"infinity\") && (row.to_when && row.to_when !== \"infinity\")\n                        ? ' - '\n                        : null}\n                        \n                        {(row.to_when && row.to_when !== \"infinity\")\n                        ? <FormatDate dateString={row.to_when}/>\n                        : null}\n                    </div>\n\n                    {row.description\n                    ? <FormatTextarea text={row.description}/>\n                    : null}\n                    <hr/>\n                </div>\n            )\n            : null}\n        </div>\n        </Fade>\n        </div>\n    );\n}","import { useEffect, useState } from 'react';\nimport { PencilFill } from 'react-bootstrap-icons';\nimport { Modal, Button, Form, Col } from 'react-bootstrap';\nimport { AlertDismissible } from '../components/alertDismissible';\nimport { AreYouSure } from '../components/AreYouSure'\nimport Switch  from '../components/switch';\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\nimport Fade from 'react-reveal/Fade';\n\nexport const Contact = (props) => {\n    //console.log(\"Contact Recieved Props: \", props);\n\n    // Original Data from Parent Profile\n    const user = (props.location.state.user !== null) ? props.location.state.user : props.data.user;\n    let profile = (props.data.profile !== null) ? props.data.profile : props.location.state.profile;\n    const linksData = (props.data.contact !== null) ? props.data.contact : props.location.state.contact;\n    const images = (props.data.images !== null) ? props.data.images : props.location.state.images;\n\n    // Display Toggles\n    const [show, setShow] = useState(false);\n    const [edited, setEdited] = useState(false);\n    const [showAlert, setShowAlert] = useState(false); \n    const [showDelete, setShowDelete] = useState(false);\n    const [requestedDelete, setRequestedDelete] = useState('');\n    const [requestedDeleteIdx, setRequestedDeleteIdx] = useState(null);\n    \n    const [reordered, setReordered] = useState(false);\n    const [changingOrder, setChangingOrder] = useState(false);\n\n    // Data to be Modified\n    const [publicEmail, setPublicEmail] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].public_email : '');\n    const [phone, setPhone] = useState(typeof(profile[0]) !== 'undefined' ? profile[0].phone : '');\n    const [links, setLinks] = useState({values: linksData});\n\n    // POST request hooks\n    const [emailToUpdate, setEmailToUpdate] = useState([]);\n    const [phoneToUpdate, setPhoneToUpdate] = useState([]);\n    const [linksToDelete, setLinksToDelete] = useState([]);\n\n    const [validated, setValidated] = useState(false);\n    const [errs, setErrs] = useState({}); \n    const [duplicates, setDuplicates] = useState({});\n\n\n    // Event Handlers\n    const handleShow = () => setShow(true);\n    const handleClose = () => {\n        if(edited){\n            setShowAlert(true);\n        }\n        else {\n            setShow(false);\n            setChangingOrder(false);\n            setLinks({values: linksData});\n            setDuplicates({});\n        }\n    }\n\n    // Replace state with original data\n    const discardChanges = () => {\n        setPublicEmail(publicEmail);\n        setPhone(phone);\n        setLinks({values: linksData});\n        setChangingOrder(false);\n        setReordered(false);\n        setLinksToDelete([]);\n        setValidated(false);\n        setErrs({});\n        setDuplicates({});\n    }\n\n    // form values change? => stage values to be updated\n    useEffect(() => {\n        if(profile.phone !== phone)\n            setPhoneToUpdate(phone);\n        if(profile.public_email !== publicEmail){\n            setEmailToUpdate(publicEmail);\n        }\n\n    }, [phone, profile.phone, profile.public_email, publicEmail])\n\n    //Upon successful POST response, linksData or aboutData will change, so reset hooks\n    useEffect(() => {\n        setPhoneToUpdate([]);\n        setEmailToUpdate([]);\n        setLinksToDelete([]);\n        setLinks({values: linksData});\n        setValidated(false);\n        setErrs({});\n        setDuplicates({});\n    }, [props, linksData])\n\n\n    const validate = () => {\n        let isValidated = true;\n\n        links.values.forEach((row, idx) => {\n            if(row.link === \"\"){\n                isValidated = false;\n                setValidated(false);\n                setErrs({link: true});\n            }\n            if(typeof(duplicates[\"Idx\"+idx]) !== 'undefined'){\n                console.log(\"Validation found duplicate at idx:\", idx)\n                isValidated = false;\n                setValidated(false);\n            }\n        })\n        return isValidated;\n    }\n\n    const handleSave = async(event) => {\n        if(!validate()){\n            event.preventDefault();\n            event.stopPropagation();\n        } else{\n\n        console.log(\"Saving Changes:\");\n        console.log(\"Email to Update:\", emailToUpdate);\n        console.log(\"Phone to Update:\", phoneToUpdate);\n\n        var linksToCreate = [];\n        var linksToUpdate = [];\n        // Update/Insert (Upsert) Links?\n        links.values.forEach((row, idx) => {\n            if(!(typeof(row.link_id) !== 'undefined')){\n                if(row.link === \"\"){\n                    console.log(\"A link is required in order to create!\")\n                } else{\n                    linksToCreate.push({\n                        title: row.title,\n                        link: row.link,\n                        description: row.description,\n                        rowIdx: idx\n                    });\n                }\n            } else if((typeof(row.toUpdate) !== 'undefined')){\n                linksToUpdate.push({\n                    link_id: row.link_id,\n                    title: row.title,\n                    link: row.link,\n                    description: row.description,\n                    rowIdx: idx\n                });\n            }\n        })\n\n        console.log(\"Links to Create:\", linksToCreate);\n        console.log(\"Links to Update:\", linksToUpdate);\n        console.log(\"Links to Delete\", linksToDelete);        \n        console.log(\"links.values:\", links.values);\n\n        // Begin POST Requests\n        const updatePhone = async() => {\n            await props.updatePhone(user.user_id, phoneToUpdate);\n        }\n        if(phoneToUpdate.length) await updatePhone();\n\n        \n        const updateEmail = async() => {\n            await props.updateEmail(user.user_id, emailToUpdate);\n        }\n        if(emailToUpdate.length) await updateEmail();\n\n\n        const createLinks = async() => {\n            for await (let linkToCreate of linksToCreate){\n                await props.createLink(user.user_id, linkToCreate, linkToCreate.rowIdx);\n            }\n        }\n        if(linksToCreate.length) await createLinks();\n\n\n        const updateLinks = async() => {\n            for await(let linkToUpdate of linksToUpdate){\n                await props.updateLink(linkToUpdate, user.user_id, linkToUpdate.rowIdx);\n            }\n        }\n        if(linksToUpdate.length) await updateLinks();\n\n\n        const reorder = async() => {\n            links.values.forEach(async (row, rowIdx) => {\n                await props.updateLink(row.link_id, row.link, row.title, row.description, user.user_id, rowIdx);\n            })\n        }\n        if(reordered) await reorder();\n\n\n        const deleteLinks = async() => {\n            for await (let linkToDelete of linksToDelete){\n                await props.deleteLink(linkToDelete.link_id);\n            }\n        }\n        if(linksToDelete.length) await deleteLinks();\n\n\n        window.location.reload();\n        }\n    }\n    \n    const renderLinksForm = () => {\n        return (\n            <Form.Group controlId=\"validationCustom01\">\n            {links.values.map((row, idx) => \n                <Form.Row className='draggable-container mb-4 ml-3 mr-3' key={idx}>\n                    <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                        <Form.Label column sm={3}>\n                            Title\n                        </Form.Label>\n                        <Col>\n                            <Form.Control type=\"text\" value={row.title || ''} placeholder={\"Link Title (Optional)\"} \n                            onChange={e => {handleLinkTitleChange(e, idx)}}/>\n                        </Col>\n                    </Form.Row>\n                    \n    \n                    <Form.Row className='mt-1 mr-2' style={{\"width\": \"75%\"}}>\n                        <Form.Label column sm={3}>\n                            Link\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                                required\n                                isInvalid={(errs[\"link\"] && row.link === \"\") || (typeof(duplicates[\"Idx\"+idx]) !== 'undefined' && row.link !== \"\")}\n                                type=\"text\" \n                                value={row.link} \n                                placeholder={\"(Required) Ex: http://www.example.com\"} \n                                onChange={e => {\n                                    handleLinkChange(e, idx);\n                            }}/>\n                            <Form.Control.Feedback type=\"invalid\">\n                                {/* Can't ever have both cases! */}\n                                {(errs[\"link\"] && row.link === \"\") \n                                ? \"Please provide a Link.\" \n                                : null} \n                                {typeof(duplicates[\"Idx\"+idx]) !== 'undefined' && row.link !== \"\"\n                                ? \"Duplicate links are not allowed.\"\n                                : null\n                                }\n                            </Form.Control.Feedback>\n                        </Col>\n                    </Form.Row>\n\n                    <Col className='mt-1' style={{width: \"75%\"}}>\n                        <Button onClick={() => {\n                            setRequestedDelete('link');\n                            setRequestedDeleteIdx(idx);\n                            setShowDelete(true);\n                        }} variant=\"outline-danger\" size=\"sm\">Delete Link</Button>\n                    </Col>   \n                \n                    <Form.Row className='mt-1' style={{width: \"75%\"}}>\n                            <Form.Label column sm={3}>\n                                Description\n                            </Form.Label>\n                            <Col>\n                                <Form.Control as=\"textarea\" rows={3}\n                                defaultValue={(row.description !== null) ? row.description.replace(/\\\\n/g, '\\n') : ''} \n                                placeholder={\"Add a description for your link! (Optional)\"} \n                                onChange={e => {\n                                    handleLinkDescriptionChange(e, idx);\n                                }}></Form.Control>\n                            </Col>\n                        </Form.Row>\n                </Form.Row>\n            )}\n            </Form.Group>\n        );\n    }\n    \n    function binaryToBase64(data){\n        var image = btoa(new Uint8Array(data).reduce(function (tmp, byte) {\n            return tmp + String.fromCharCode(byte);\n        }, ''));\n        return image;\n    }\n\n\n    const ChangeLinksOrder = () => {\n        return (\n            <DragDropContext \n                onDragEnd={handleOnDragEnd}\n            >\n            <Droppable droppableId=\"links\">\n            {(provided) => (\n                <div {...provided.droppableProps} ref={provided.innerRef}>\n                    {links.values.map((row, idx) => {\n                        return (\n                            <Draggable key={idx} draggableId={row.link} index={idx}>\n                                {(provided) => (\n                                \n                                    <div className='draggable-container mb-4 ml-3 mr-3' ref={provided.innerRef} {...provided.draggableProps} {...provided.dragHandleProps}>\n\n                                    {row.link\n                                        ? <b>{row.link}</b>\n                                        : null}\n\n                                    </div>\n                                )}\n                            </Draggable>\n                        );\n                    })}\n                    {provided.placeholder}\n                </div>\n            )}\n            </Droppable>\n            </DragDropContext>\n        );\n    }\n\n    const handleLinkTitleChange = (event, idx) => {\n        let tmpLinks = [...links.values];\n        tmpLinks[idx] = {\n            link_id: links.values[idx].link_id,\n            uid: links.values[idx].uid,\n            link: links.values[idx].link,\n            title: event.target.value,\n            description: links.values[idx].description\n        }\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined')\n        && !(typeof(tmpLinks[idx].toUpdate) !== 'undefined')){\n            tmpLinks[idx].toUpdate = true;\n        }\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    const handleLinkChange = (event, idx) => {\n        let tmpLinks = [...links.values];\n        tmpLinks[idx] = {\n            link_id: links.values[idx].link_id,\n            uid: links.values[idx].uid,\n            link: event.target.value,\n            title: links.values[idx].title,\n            description: links.values[idx].description\n        }\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined')\n        && !(typeof(tmpLinks[idx].toUpdate) !== 'undefined')){\n                tmpLinks[idx].toUpdate = true;\n        }\n        // If duplicate => add index to duplicates hook\n        if((links.values.some(e => e.link === event.target.value))){\n            console.log(\"Found duplicate:\", event.target.value);\n            setDuplicates({...duplicates, [\"Idx\"+idx]: true});\n        } \n        // User fixes duplicate entry: not a duplicate, but exists as one in duplcates hook => remove\n        else if(!(links.values.some(e => e.link === event.target.value)) && typeof(duplicates[\"Idx\"+idx]) !== \"undefined\"){\n            delete duplicates[\"Idx\"+idx];\n        }\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    const handleLinkDescriptionChange = (event, idx) => {\n        let tmpLinks = [...links.values];\n        tmpLinks[idx] = {\n                link_id: links.values[idx].link_id,\n                uid: links.values[idx].uid,\n                link: links.values[idx].link,\n                title: links.values[idx].title,\n                description: event.target.value\n        }\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined') \n        && !(typeof(tmpLinks[idx].toUpdate) !== 'undefined')){\n            tmpLinks[idx].toUpdate = true;\n        }\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    const addLink = () => {\n        setLinks({values: [...links.values, {title: '', link: '', description: ''}]});\n    }\n\n    const removeLink = (idx) => {\n        let tmpLinks = [...links.values];\n        if((typeof(tmpLinks[idx].link_id) !== 'undefined')){\n            // Must create hook since we're removing the link\n            setLinksToDelete([...linksToDelete, {link_id: tmpLinks[idx].link_id}]);\n        }\n        tmpLinks.splice(idx, 1);\n        setLinks({values: tmpLinks});\n        setEdited(true);\n    }\n\n    function handleOnDragEnd(result) {\n        console.log(result)\n      if (!result.destination) return;\n  \n      const items = Array.from(links.values);\n      const [reorderedItem] = items.splice(result.source.index, 1);\n      items.splice(result.destination.index, 0, reorderedItem);\n  \n      setReordered(true);\n      setEdited(true);\n      setLinks({values: items});\n    }\n\n    function FormatTextarea(props) {\n        let text = props.text;\n        if(text == null) return null;\n        return text.split(\"\\n\").map((str, idx) => \n            <div key={idx}>{str.length === 0 ? <br/> : str}</div>\n        )\n    }\n\n    return (\n        <div className=\"tab-container\"> \n            <Modal\n                show={show}\n                onHide={handleClose}\n                backdrop=\"static\"\n                keyboard={false}\n                size=\"lg\"\n                centered\n                scrollable={false}\n            >\n                <Modal.Header closeButton>\n                    <Modal.Title>\n                        <h3>Edit</h3>\n                        <AlertDismissible\n                            setShow={setShow}\n                            setEdited={setEdited}\n                            setShowAlert={setShowAlert}\n                            showAlert={showAlert}\n                            handleSave={handleSave}\n                            discardChanges={discardChanges}\n                        />\n\n                    </Modal.Title>\n                </Modal.Header>\n                <Modal.Body>\n\n                <Form noValidate validated={validated} onSubmit={handleSave}>\n                    <h4>Contact Information</h4>\n                    <Form.Row className='mt-4'>\n                        <Form.Label column sm={2}>\n                            Public Email\n                        </Form.Label>\n                        <Col>\n                            <Form.Control type=\"email\" style={{width: \"55%\"}} \n                            defaultValue={publicEmail} \n                            onChange={e => {\n                                setPublicEmail(e.target.value); \n                                setEdited(true);\n                            }}/>\n                            <Form.Text className=\"text-muted\">\n                            Public email to display on your profile.\n                            </Form.Text>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Row className='mt-3'>\n                        <Form.Label column sm={2}>\n                            Phone Number\n                        </Form.Label>\n                        <Col>\n                            <Form.Control \n                            type=\"text\" \n                            style={{width: \"55%\"}} \n                            defaultValue={phone} \n                            onChange={e => {\n                                setPhone(e.target.value);\n                                setEdited(true);\n                            }}/>\n                        </Col>\n                    </Form.Row>\n\n                    <Form.Group>\n                        <Form.Label className='mt-4'>\n                            <h4>Links</h4>\n                        </Form.Label > <br></br>\n                            {links.values.length < 6\n                                ? <Button \n                                onClick={() => addLink()} \n                                variant=\"outline-success\" \n                                size=\"sm\" \n                                disabled={changingOrder}\n                                >Add Link</Button>\n                                \n                                : null }\n                            <br></br>\n\n                            {linksData.length > 1\n                            ? <><label>Change Order</label>\n                                <Switch\n                                    isOn={changingOrder}\n                                    handleToggle={() => {\n                                        if(!validate()){\n                                            console.log(\"Please address errs\");\n                                        } else{\n                                            setChangingOrder(!changingOrder);\n                                        }\n                                    }}\n                                /></>\n                            : null}\n\n                            {showDelete\n                                ?    <AreYouSure\n                                        showDelete={showDelete}\n                                        setShowDelete={setShowDelete}\n                                        removeLink={removeLink}\n                                        setEdited={setEdited}\n                                        requestedDelete={requestedDelete}\n                                        setRequestedDelete={setRequestedDelete}\n                                        idx={requestedDeleteIdx}\n                                        setRequestedDeleteIdx={setRequestedDeleteIdx}\n                                    />\n                                :null}\n                       \n\n                        {changingOrder \n                        ? <ChangeLinksOrder></ChangeLinksOrder>\n                        : renderLinksForm()}\n\n                    </Form.Group>\n                    <Button variant=\"success\" type=\"submit\">Save Changes</Button>\n                </Form>\n                </Modal.Body>\n                <Modal.Footer>\n                    \n                </Modal.Footer>\n            </Modal>\n\n            {/* After integrating backend, render original data not tmpHooks */}\n            {props.data.ownedByUser ? <Button variant=\"warning\" className=\"edit-button\" onClick={handleShow}>Edit&nbsp;<PencilFill size={25}/></Button> : null}\n            <h3>Contact Information</h3>\n            <hr color=\"black\"/>\n            <br/>\n\n        <div className=\"contact-container\">\n            <Fade right>\n                <div className='mr-4'>\n                    {typeof(images[0]) !== 'undefined' && images[0].base64preview.data.length > 0\n                    ? <img src={images[0].prefix + `${binaryToBase64(images[0].base64preview.data)}`}  alt=\"Preview\"/>\n                    : null}\n                </div>\n            </Fade>\n\n            <div className=\"col ml-1\">\n            {typeof(profile[0]) !== 'undefined' && profile[0].public_email !== null && publicEmail !== ''\n                ? <Fade left>\n                    <div className=\"row ml-1 d-flex flex-row\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-envelope-fill\" viewBox=\"0 0 16 16\">\n                            <path d=\"M.05 3.555A2 2 0 0 1 2 2h12a2 2 0 0 1 1.95 1.555L8 8.414.05 3.555zM0 4.697v7.104l5.803-3.558L0 4.697zM6.761 8.83l-6.57 4.027A2 2 0 0 0 2 14h12a2 2 0 0 0 1.808-1.144l-6.57-4.027L8 9.586l-1.239-.757zm3.436-.586L16 11.801V4.697l-5.803 3.546z\"/>\n                        </svg>\n                        {profile[0].public_email}\n                        </div>\n                    </Fade>\n                : null}\n\n                {typeof(profile[0]) !== 'undefined' && profile[0].phone !== null && phone !== ''\n                ? <Fade left>\n                    <div className=\"row ml-1 mt-3 d-flex flex-row\">\n                        <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"align-self-center mr-2 bi bi-telephone-fill\" viewBox=\"0 0 16 16\">\n                        <path fillRule=\"evenodd\" d=\"M1.885.511a1.745 1.745 0 0 1 2.61.163L6.29 2.98c.329.423.445.974.315 1.494l-.547 2.19a.678.678 0 0 0 .178.643l2.457 2.457a.678.678 0 0 0 .644.178l2.189-.547a1.745 1.745 0 0 1 1.494.315l2.306 1.794c.829.645.905 1.87.163 2.611l-1.034 1.034c-.74.74-1.846 1.065-2.877.702a18.634 18.634 0 0 1-7.01-4.42 18.634 18.634 0 0 1-4.42-7.009c-.362-1.03-.037-2.137.703-2.877L1.885.511z\"/>\n                        </svg>\n                        {profile[0].phone}\n                    </div>\n                </Fade>\n                : null}\n\n                <hr className='my-4 mr-4'/>\n\n                <div className=\"d-flex flex-row mt-3\">\n                    <Fade left> \n                    <div className='d-flex flex-column'>\n                        <h4 className='mb-4'> My Links</h4>\n                        {linksData \n                        ? linksData.map((row, idx) => \n                        \n                            <div className=\"mb-1 ml-3 mr-3\" key={idx}>\n                                \n                                {row.title \n                                ? <b>{row.title}</b>\n                                : null }\n\n                                {(row.link && row.link !== \"null\")\n                                ? <div className='my-1'>\n                                    <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"20\" height=\"20\" fill=\"currentColor\" className=\"mr-1 bi bi-link-45deg\" viewBox=\"0 0 16 16\">\n                                        <path d=\"M4.715 6.542L3.343 7.914a3 3 0 1 0 4.243 4.243l1.828-1.829A3 3 0 0 0 8.586 5.5L8 6.086a1.001 1.001 0 0 0-.154.199 2 2 0 0 1 .861 3.337L6.88 11.45a2 2 0 1 1-2.83-2.83l.793-.792a4.018 4.018 0 0 1-.128-1.287z\"/>\n                                        <path d=\"M6.586 4.672A3 3 0 0 0 7.414 9.5l.775-.776a2 2 0 0 1-.896-3.346L9.12 3.55a2 2 0 0 1 2.83 2.83l-.793.792c.112.42.155.855.128 1.287l1.372-1.372a3 3 0 0 0-4.243-4.243L6.586 4.672z\"/>\n                                    </svg>\n                                    <a href={row.link} target=\"_blank\" rel=\"noreferrer\">{row.link}</a>\n                                </div>\n                                : null}\n\n                                {row.description \n                                ? <FormatTextarea text={row.description} key={idx}/>\n                                : null }\n                                \n                                <hr/>\n                            </div>\n                            )\n                    : null }\n                </div>\n                </Fade>\n                </div>\n            </div>\n        </div>         \n    </div>\n    );\n}","import React, { Component } from 'react';\nimport { Tabs, Tab } from 'react-bootstrap';\nimport { AlertMsg } from '../components/alerts';\n\n// Import Components\nimport { NavBar } from './navbar';\nimport { Home } from './home';\nimport { About } from './about';\nimport { Portfolio } from './portfolio';\nimport { Contact } from './contact';\n\nclass Profile extends Component{\n    constructor(props){\n        super(props);\n        this.state = {\n            user: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.user !== 'undefined') ? this.props.location.state.user : null,\n            \n            key: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.key !== 'undefined') ? this.props.location.state.key : \"home\",\n            \n            ownedByUser: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.ownedByUser !== 'undefined') ? this.props.location.state.ownedByUser : false,\n            \n            alert: null,\n\n            loggedIn: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.loggedIn !== 'undefined') ? this.props.location.state.loggedIn : false,\n\n            requestedBy: (typeof this.props.location.state !== 'undefined' && typeof this.props.location.state.requestedBy !== 'undefined') ? this.props.location.state.requestedBy : null,\n\n            about: (typeof this.props.location.about !== 'undefined') ? this.props.location.state.about : [],\n\n            profile: (typeof this.props.location.profile !== 'undefined') ? this.props.location.state.profile : null,\n\n            portfolio: (typeof this.props.location.portfolio !== 'undefined') ? this.props.location.state.portfolio : null,\n\n            contact: (typeof this.props.location.contact !== 'undefined') ? this.props.location.state.contact : null,\n\n            education: (typeof this.props.location.education !== 'undefined') ? this.props.location.state.education : null,\n\n            hobbies: (typeof this.props.location.hobbies !== 'undefined') ? this.props.location.state.hobbies : null,\n\n            skills: (typeof this.props.location.skills !== 'undefined') ? this.props.location.state.skills : null,\n\n            projects: (typeof this.props.location.projects !== 'undefined') ? this.props.location.state.projects : null,\n\n            images: (typeof this.props.location.images !== 'undefined') ? this.props.location.state.images : null,\n\n            font: (typeof this.props.location.font !== 'undefined') ? this.props.location.state.font : null,\n\n            loading: true\n        }\n    }\n\n    // GET profile data, then determine if the user owns this profile\n    async componentDidMount(){\n\n        var pathname = window.location.pathname.substr(1, window.location.pathname.length);\n        \n        const urls = [\n            '/getUserData',\n            '/about',\n            '/profile',\n            '/portfolio',\n            '/contact',\n            '/education',\n            '/hobbies',\n            '/skills',\n            '/projects',\n            '/images',\n        ];\n\n        let [data, about, profile, portfolio, contact, education, hobbies, skills, projects, images] = await \n        Promise.all(urls.map(url => \n            fetch(url, {\n                method: 'GET',\n                headers: {username: pathname}, \n                mode: 'cors',\n                credentials: 'include',\n                withCredentials: true,\n            })\n            .then((res) => res.json())\n        ))\n\n        // No profile found\n        if((typeof data !== 'undefined') && data[\"error\"]){\n            // If not signed in, redirect to splash page\n            if(!(typeof data.requestedBy !== 'undefined')){\n                return this.props.history.push({\n                    pathname: '/',\n                    errorMsg: (pathname !== \"dashboard\") ? `Unable to locate user: ${pathname}` : null,\n                })\n            } \n            // If signed in, redirect back to users profile\n            else{\n                this.props.history.push({\n                    pathname: `/${data.requestedBy.username}`,\n                    errorMsg: `Unable to locate user: ${pathname}`,\n                    state: {\n                        user: data.requestedBy,\n                        key: this.state.key,\n                        ownedByUser: this.state.ownedByUser,\n                        loggedIn: this.state.loggedIn,\n                        requestedBy: data.requestedBy,\n                        about: this.state.about,\n                        portfolio: this.state.portfolio,\n                        contact: this.state.contact,\n                        education: this.state.education,\n                        hobbies: this.state.hobbies,\n                        skills: this.state.skills,\n                        projects: this.state.projects,\n                        profile: this.state.profile,\n                        images: this.state.images\n                    }\n                })\n                window.location.reload();\n            }\n        }else{\n            // If user was found => Store in state\n            //console.log(\"Found user: \", data.user);\n            this.setState({\n                user: data.user, \n                requestedBy: data.requestedBy,\n                about: about,\n                profile: profile,\n                portfolio: portfolio,\n                contact: contact,\n                education: education,\n                hobbies: hobbies,\n                skills: skills,\n                projects: projects,\n                images: images\n            });\n        }\n\n        // Regardless of whether the current user matches the profile, a user must always be logged-in in order to edit their profile\n        if(typeof this.state.requestedBy !== 'undefined' && typeof this.state.user !== 'undefined' && this.state.requestedBy !== null && this.state.user !== null && this.state.requestedBy.user_id === this.state.user.user_id){\n            //console.log(\"Profile owned by user!\");\n            this.setState({ownedByUser: true});\n        }\n\n        if(typeof this.state.requestedBy !== 'undefined'){\n            this.setState({loggedIn: true});\n        }\n\n        if(typeof this.props.location.state.errorMsg !== 'undefined'){\n            this.setState({alert: AlertMsg(\"error\", this.props.location.state.errorMsg)}); \n        }\n\n        console.log(\"STATE: \", this.state);\n        console.log(\"PROPS: \", this.props.location.state);\n        this.setState({loading: false});\n    }\n\n    // Keeps track of what tab we're on, for the event of user refresh\n    componentDidUpdate(){\n        if(typeof this.props.location.state !== 'undefined'){\n            if(this.state.key !== this.props.location.state.key){\n                //console.log(\"Saving a new Key: \", this.state.key);\n                const tmpState = {...this.props.location.state};\n                tmpState['key'] = this.state.key;\n                tmpState['user'] = this.state.user;\n                tmpState['requestedBy'] = this.state.requestedBy;\n                this.props.history.replace({\n                    pathname: `/${this.state.user.username}`,\n                    state: tmpState\n                })\n                //console.log(\"State:\", this.state);\n                // this.props.history.replace({\n                //     pathname: `/${this.state.user.username}`,\n                //     state: {\n                //         user: this.state.user,\n                        // key: this.state.key,\n                //         ownedByUser: this.state.ownedByUser,\n                //         loggedIn: this.state.loggedIn,\n                //         requestedBy: this.state.requestedBy,\n                //         about: this.state.about,\n                //         profile: this.state.profile,\n                //         portfolio: this.state.portfolio,\n                //         contact: this.state.contact,\n                //         education: this.state.education,\n                //         hobbies: this.state.hobbies,\n                //         skills: this.state.skills,\n                //         projects: this.state.projects,\n                //         images: this.state.images\n                //     }\n                // })\n            }\n        } \n        else if(this.state.user.username === 'undefined'){\n            this.props.history.push({\n                pathname: '/',\n                errorMsg: `Unable to locate user: ${window.location.pathname.substr(1, window.location.pathname.length)}`\n            })\n        }\n        else{\n            const tmpState = {...this.props.location.state};\n            tmpState['key'] = this.state.key;\n            tmpState['user'] = this.state.user;\n            tmpState['requestedBy'] = this.state.requestedBy;\n            this.props.history.push({\n                pathname: `/${this.state.user.username}`,\n                state: {...this.props.location.state}\n                // state: {\n                //     user: this.state.user,\n                //     key: this.state.key,\n                //     ownedByUser: this.state.ownedByUser,\n                //     loggedIn: this.state.loggedIn,\n                //     requestedBy: this.state.requestedBy,\n                //     about: this.state.about,\n                //     profile: this.state.profile,\n                //     portfolio: this.state.portfolio,\n                //     contact: this.state.contact,\n                //     education: this.state.education,\n                //     hobbies: this.state.hobbies,\n                //     skills: this.state.skills,\n                //     projects: this.state.projects,\n                //     images: this.state.images\n                // }\n            })\n        }\n    }\n    \n    // ABOUT Tab\n    updateLocation = async (locationToUpdate, user_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateLocation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id, \n                location: locationToUpdate\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateBio = async(bioToUpdate, user_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateBio',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id, \n                bio: bioToUpdate\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    \n    createHobby = async(user_id, hobby, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createHobby',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                hobby: hobby,\n                position: idx\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    } \n    updateHobby = async(hobby_id, hobby, user_id, rowIdx) => {\n        this.setState({loading: true});\n        console.log(\"[Profile.jsx] Recieved Position:\", rowIdx);\n        const response = await fetch('/updateHobby',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                hobby_id: hobby_id, \n                hobby: hobby,\n                user_id: user_id,\n                position: rowIdx\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    deleteHobby = async(hobby_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteHobby',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                hobby_id: hobby_id\n            }\n        });\n        await response.json();\n        ///console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createSkill = async(user_id, skill, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createSkill',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                skill: skill,\n                position: idx\n            }\n        });\n        await response.json();\n       // console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    updateSkill = async(skill_id, skill, user_id, rowIdx) => {\n        this.setState({loading: true});\n        console.log(\"[Profile.jsx] Recieved Position:\", rowIdx);\n        const response = await fetch('/updateSkill',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                skill_id: skill_id, \n                skill: skill,\n                user_id: user_id,\n                position: rowIdx\n            }\n        });\n        const data = await response.json();\n        console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    deleteSkill = async(skill_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteSkill',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                skill_id: skill_id\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    // CONTACT Tab\n    updateEmail = async(user_id, public_email) => {\n        this.setState({loading: true});\n        const response = await fetch('/updatePublicEmail',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id, \n                public_email: public_email\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updatePhone = async(user_id, phone) => {\n        this.setState({loading: true});\n        const response = await fetch('/updatePhone',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id, \n                phone: phone\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createLink = async(user_id, linkObj, idx) =>{\n        this.setState({loading: true});\n        const response = await fetch('/createLink',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                linkObj: linkObj,\n                position: idx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateLink = async(linkObj, user_id, rowIdx) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateLink',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                linkObj: linkObj,\n                user_id: user_id,\n                position: rowIdx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    deleteLink = async(link_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteLink',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                link_id: link_id\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    // PORTFOLIO Tab\n\n    createProject = async(user_id, project, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createProject',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                title: project.title,\n                description: project.description,\n                organization: project.organization,\n                from_when: project.from_when,\n                to_when: project.to_when,\n                link: project.link,\n                position: idx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateProject = async(user_id, project, rowIdx) => {\n        this.setState({loading: true});\n        //console.log(\"Profile.jsx Recieved Project:\", project)\n        const response = await fetch('/updateProject',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                project_id: project.project_id, \n                user_id: user_id,\n                title: project.title,\n                description: project.description,\n                organization: project.organization,\n                from_when: project.from_when,\n                to_when: project.to_when,\n                link: project.link,\n                position: rowIdx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    } \n    \n    deleteProject = async(project_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteProject',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                project_id: project_id\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createWorkExperience = async(user_id, workExperience, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createWorkExperience',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                occupation: workExperience.occupation,\n                organization: workExperience.organization,\n                from_when: workExperience.from_when,\n                to_when: workExperience.to_when,\n                description: workExperience.description,\n                position: idx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateWorkExperience = async(user_id, workExperience, rowIdx) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateWorkExperience',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                portfolio_id: workExperience.portfolio_id, \n                user_id: user_id,\n                occupation: workExperience.occupation,\n                organization: workExperience.organization,\n                from_when: workExperience.from_when,\n                to_when: workExperience.to_when,\n                description: workExperience.description,\n                position: rowIdx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    deleteWorkExperience = async(portfolio_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteWorkExperience',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                portfolio_id: portfolio_id\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createEducation = async(user_id, education, idx) => {\n        this.setState({loading: true});\n        const response = await fetch('/createEducation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                user_id: user_id,\n                organization: education.organization,\n                education: education.education,\n                from_when: education.from_when,\n                to_when: education.to_when,\n                description: education.description,\n                position: idx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateEducation = async(user_id, education, rowIdx) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateEducation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                'Content-Type': 'application/json',\n                'Accept': 'application/json'\n            },\n            body: JSON.stringify({\n                education_id: education.education_id, \n                user_id: user_id,\n                organization: education.organization,\n                education: education.education,\n                from_when: education.from_when,\n                to_when: education.to_when,\n                description: education.description,\n                position: rowIdx\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    deleteEducation = async(education_id) => {\n        this.setState({loading: true});\n        const response = await fetch('/deleteEducation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                education_id: education_id\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    // HOME Tab\n    updateFullname = async(user_id, fullname) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateFullname',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                fullname: fullname\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createCurrentOccupation = async(user_id, occupation) => {\n        this.setState({loading: true});\n        const response = await fetch('/createCurrentOccupation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                occupation: occupation\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateCurrentOccupation = async(user_id, occupation) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateCurrentOccupation',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                occupation: occupation\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    createCurrentOrganization = async(user_id, organization) => {\n        this.setState({loading: true});\n        const response = await fetch('/createCurrentOrganization',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                organization: organization\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateCurrentOrganization = async(user_id, organization) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateCurrentOrganization',  {\n            method: 'POST', \n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            headers: {\n                user_id: user_id,\n                organization: organization\n            }\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n    \n    createProfileImages = async(user_id, base64image, base64preview, prefix) => {\n        this.setState({loading: true});\n        const response = await fetch('/createProfileImages',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                base64image: base64image,\n                base64preview: base64preview,\n                prefix: prefix\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateProfileImages = async(user_id, base64image, base64preview, prefix) => {\n        this.setState({loading: true});\n        const response = await fetch('/updateProfileImages',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                base64image: base64image,\n                base64preview: base64preview,\n                prefix: prefix\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updatePreviewCoords = async(user_id, x, y, r) => {\n        this.setState({loading: true})\n        const response = await fetch('/updatePreviewCoords',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                x: x,\n                y: y,\n                radius: r\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateFont = async(user_id, updatedFont) => {\n        this.setState({loading: true})\n        console.log(\"Profile recieved font:\", updatedFont)\n        const response = await fetch('/updateFont',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                font: updatedFont\n            })\n        });\n        await response.json();\n       // console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    updateSize = async(user_id, updatedSize) => {\n        this.setState({loading: true})\n        console.log(\"Profile recieved size:\", updatedSize)\n        const response = await fetch('/updateFontSize',  {\n            method: 'POST', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n            body: JSON.stringify({\n                user_id: user_id,\n                size: updatedSize\n            })\n        });\n        await response.json();\n        //console.log(\"Client Recieved Response: \", data);\n        return;\n    }\n\n    render(){\n\n        return(\n            <div className=\"profile-container\">\n\n                {this.state.loading\n                \n                ? <div className=\"loading-container\">\n                    <div className=\"holder\">\n                        <div className='box'>\n                        </div>\n                    </div>\n                    <div className=\"holder\">\n                        <div className='box'>\n                        </div>\n                    </div>\n                    <div className=\"holder\">\n                        <div className='box'>\n                        </div>\n                    </div>\n                </div>\n                \n                : <><NavBar {...this.props} data={this.state}/>\n                <div className=\"tabulation-container\" \n                    style={{\n                        fontFamily: this.state.profile && this.state.profile[0]\n                            ? this.state.profile[0].font : null, \n                        fontSize: this.state.profile && this.state.profile[0]\n                            ? this.state.profile[0].font_size : null\n                        }}>\n                <div className=\"user-tab-container\">\n                    <Tabs\n                    className=\"tab-style mt-4\"\n                    activeKey={this.state.key}\n                    onSelect={(k) => this.setState({key: k})}\n                        >\n                        <Tab eventKey=\"home\" title=\"Home\" />\n                        <Tab eventKey=\"about\" title=\"About\" />\n                        <Tab eventKey=\"portfolio\" title=\"Portfolio\" />\n                        <Tab eventKey=\"contact\" title=\"Contact\" />\n                    </Tabs>\n                </div>\n\n                <div className=\"info-container\">\n                    { this.state.key === \"home\" ? \n                        <Home {...this.props} data={this.state} \n                            updateFullname={this.updateFullname}\n                            createCurrentOccupation={this.createCurrentOccupation}\n                            updateCurrentOccupation={this.updateCurrentOccupation}\n                            createCurrentOrganization={this.createCurrentOrganization}\n                            updateCurrentOrganization={this.updateCurrentOrganization}\n                            updateEmail={this.updateEmail}\n                            updatePhone={this.updatePhone}\n                            updateLocation={this.updateLocation}\n                            updateFont={this.updateFont}\n                            updateSize={this.updateSize}\n                            createProfileImages={this.createProfileImages}\n                            updateProfileImages={this.updateProfileImages}\n                            updatePreviewCoords={this.updatePreviewCoords}\n                        />\n                    : null }\n\n                    { this.state.key === \"about\" ?  \n                        <About {...this.props} \n                            data={this.state} \n                            updateLocation={this.updateLocation}\n                            updateBio={this.updateBio}\n                            updateHobby={this.updateHobby}\n                            updateSkill={this.updateSkill}\n                            createHobby={this.createHobby}\n                            createSkill={this.createSkill}\n                            deleteHobby={this.deleteHobby}\n                            deleteSkill={this.deleteSkill}\n                        />\n                    : null } \n\n                    { this.state.key === \"portfolio\" ?\n                        <Portfolio {...this.props} data={this.state}\n                            createProject={this.createProject}\n                            updateProject={this.updateProject}\n                            deleteProject={this.deleteProject}\n                            createWorkExperience={this.createWorkExperience}\n                            updateWorkExperience={this.updateWorkExperience}\n                            deleteWorkExperience={this.deleteWorkExperience}\n                            createEducation={this.createEducation}\n                            updateEducation={this.updateEducation}\n                            deleteEducation={this.deleteEducation}\n                        />\n                    : null }\n\n                    { this.state.key === \"contact\" ?\n                        <Contact {...this.props} data={this.state}\n                            updateEmail={this.updateEmail}\n                            updatePhone={this.updatePhone}\n                            createLink={this.createLink}\n                            updateLink={this.updateLink}\n                            deleteLink={this.deleteLink}\n                        />\n                    : null }\n                </div> \n            </div>\n            </>}\n        </div>\n        );\n    }\n\n}\n\nexport default Profile;\n","import { Validated } from '../newRegistration/Validated';\n\nfunction length(obj) {\n    if((!(typeof(obj) !== 'undefined')) || (obj == null)) return 0;\n    return Object.keys(obj).length;\n}\n\n\nexport const registerUser = (credentials, next) => {\n    const errors = Validated(credentials);\n    \n    if(length(errors) > 0){\n        return next({failedAttempt: true, errors: errors});\n    }\n    else{\n        fetch('/newUser', {\n            method: 'POST',\n            headers: {\n                'Content-Type': 'application/json',\n            },\n            body: JSON.stringify(credentials),\n        })\n        .then(response => response.json())\n        .then(data => {\n            return next(data);\n        })\n        .catch((err) => {\n            console.error('Error:', err);\n        });\n    }\n}","export const Validated = (credentials) => {\n    const {\n        fullname,\n        email,\n        username,\n        password,\n        passwordCheck\n    } = credentials;\n\n    let errors = {};\n\n    if (fullname === \"\") {\n        errors[\"fullname\"] = \"Please enter your full name.\";\n    }\n    if (fullname.length > 49) {\n        errors[\"fullnameLength\"] = \"Full name must be less than 50 characters.\";\n    }\n    if (email === \"\") {\n        errors[\"email\"] = \"Please enter an email address.\";\n    }\n    if (email !== '') {\n        var pattern = new RegExp(/^((\"[\\w-\\s]+\")|([\\w-]+(?:\\.[\\w-]+)*)|(\"[\\w-\\s]+\")([\\w-]+(?:\\.[\\w-]+)*))(@((?:[\\w-]+\\.)*\\w[\\w-]{0,66})\\.([a-z]{2,6}(?:\\.[a-z]{2})?)$)|(@\\[?((25[0-5]\\.|2[0-4][0-9]\\.|1[0-9]{2}\\.|[0-9]{1,2}\\.))((25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\.){2}(25[0-5]|2[0-4][0-9]|1[0-9]{2}|[0-9]{1,2})\\]?$)/i);\n        if (!pattern.test(email)) {\n            errors[\"invalidEmail\"] = \"Please enter a valid email address.\";\n        }\n    }\n    if (password === \"\") {\n        errors[\"password\"] = \"Please enter a password.\";\n    } else if(password.length < 7 || password.length > 19){\n        errors[\"passwordLength\"] = \"Password must be between 8 and 20 characters.\";\n    } \n\n    if(username === \"\"){\n        errors[\"username\"] = \"Please enter a username.\";\n    } \n    else if(username.length < 7 || username.length > 49){\n        errors[\"usernameLength\"] = \"Username must be between 8 and 50 characters.\"\n    } \n    else{\n        var regexp = new RegExp(/^[a-zA-Z0-9-_]+$/);\n        if(!regexp.test(username)){\n            errors[\"invalidUsername\"] = \"Username can only contrain alphanumeric values, dashes, or underscores.\"\n        }\n    }\n\n    if(passwordCheck === \"\"){\n        errors[\"passwordCheck\"] = \"Please confirm your password.\";\n    }\n    else if(passwordCheck !== password){\n        errors[\"noMatch\"] = \"Passwords do not match!\";\n    }\n\n    return errors;\n}","import { useEffect, useState } from 'react';\nimport { registerUser } from '../newRegistration/RegisterUser';\nimport { Alert, Form } from 'react-bootstrap';\nimport Switch  from '../switch';\nimport auth from '../auth';\nimport './form.css';\n\nexport const HomeSlider = (props) => {\n    console.log(\"Test Registration Recieved props:\", props);\n\n    // Login Hooks\n    const [loginEmail, setLoginEmail] = useState();\n    const [loginPassword, setLoginPassword] = useState();\n    // Registration Hooks\n    const [registerFullName, setRegisterFullName] = useState(\"\");\n    const [registerUsername, setRegisterUserName] = useState(\"\");\n    const [registerEmail, setRegisterEmail] = useState(\"\");\n    const [registerPassword, setRegisterPassword] = useState(\"\");\n    const [registerPasswordCheck, setRegisterPasswordCheck] = useState(\"\");\n    const [showPassword, setShowPassword] = useState(false);\n\n    const [errors, setErrors] = useState({            \n        fullname: \"\",\n        fullnameLength:\"\",\n        email: \"\",\n        invalidEmail: \"\",\n        password: \"\",\n        passwordLength: \"\",\n        username: \"\",\n        usernameLength:\"\",\n        invalidUsername: \"\",\n        passwordCheck: \"\",\n        noMatch: \"\"\n    });\n\n    const [showAlertRegistered, setShowAlertRegistered] = useState(false);\n    const [showAlertLogout, setShowAlertLogout] = useState(false);\n    const [showAlertLoginFail, setShowAlertLoginFail] = useState(false);\n    const [showAlertNotFound, setShowAlertNotFound] = useState(false);\n\n    useEffect(() => {\n        let postData = {};\n        if(typeof(props.location.state) !== 'undefined'){\n            postData = props.location.state;\n            console.log(\"Recieved POST Response:\", postData);\n            let tmpErrors = {...postData.errors};\n            if(postData.failedAttempt){\n                if(postData.emailTaken){\n                    tmpErrors[\"emailTaken\"] = \"Email already exists!\";\n                }\n                if(postData.usernameTaken){\n                    tmpErrors[\"usernameTaken\"] = \"Username already exists!\";\n                }\n                setErrors(tmpErrors);\n                console.log(\"Failed to Register. Errors:\", tmpErrors);\n            } \n            else if(postData.loggedOut){\n                setShowAlertLogout(true);\n                props.history.push('/');\n            }\n            else if(postData.loginFailure){\n                setShowAlertLoginFail(true);\n            }\n            else if(typeof(props.location.errorMsg) !== 'undefined'){\n                console.log(props.location.errorMsg)\n                setShowAlertNotFound(true);\n            }\n            else{\n                clearState();\n                setShowAlertRegistered(true);\n                document.getElementById('slider-container').classList.remove(\"sign-up-container-2\");\n\n                document.getElementById('slider-container').classList.remove(\"right-panel-active\");\n            }\n        }\n    }, [props])\n\n    const handleEmailChange = (email) => {\n        let tmpErrors = {...errors};\n        if(errors[\"emailTaken\"] && email !== registerEmail){\n            tmpErrors[\"emailTaken\"] = \"\";\n        }\n        setErrors(tmpErrors);\n        setRegisterEmail(email);\n    }\n\n    const handleUsernameChange = (username) => {\n        let tmpErrors = {...errors};\n        if(errors[\"usernameTaken\"] && username !== registerUsername){\n            tmpErrors[\"usernameTaken\"] = \"\";\n        }\n        setErrors(tmpErrors);\n        setRegisterUserName(username);\n    }\n\n    const clearState = () => {\n        setRegisterFullName(\"\");\n        setRegisterUserName(\"\");\n        setRegisterEmail(\"\");\n        setRegisterPassword(\"\");\n        setRegisterPasswordCheck(\"\");\n        setErrors({\n            fullname: \"\",\n            fullnameLength:\"\",\n            email: \"\",\n            emailTaken: \"\",\n            invalidEmail: \"\",\n            password: \"\",\n            passwordLength: \"\",\n            username: \"\",\n            usernameLength:\"\",\n            usernameTaken: \"\",\n            invalidUsername: \"\",\n            passwordCheck: \"\",\n            noMatch: \"\"\n        });\n        setShowAlertRegistered(false);\n        setShowAlertLoginFail(false);\n    };\n\n\n    // Only runs once (acts like componentDidMount)\n    useEffect(() => {\n        const signUpButton = document.getElementById('signUp');\n        const signInButton = document.getElementById('signIn');\n        const register = document.getElementById('register');\n        const backBtn = document.getElementById('back');\n        const container = document.getElementById('slider-container');\n\n        signUpButton.addEventListener('click', () => {\n            container.classList.add(\"right-panel-active\");\n        });\n        signInButton.addEventListener('click', () => {\n            container.classList.remove(\"right-panel-active\");\n        });\n        register.addEventListener('click', () => {\n            container.classList.add(\"sign-up-container-2\");\n        })\n        backBtn.addEventListener('click', () => {\n            container.classList.remove(\"sign-up-container-2\");\n            setShowPassword(false);\n        })\n        clearState();\n    }, [])\n\n    \n    return(\n        <>\n        <div className=\"register-body\">\n        <img style={{height: \"50px\", margin: \"5%\"}} src=\"/mp-new-logo.png\" alt=\"logo\"/>\n        <div className=\"slider-container\" id=\"slider-container\">\n            <div className=\"form-container back-btn-container\" id=\"back\">\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" fill=\"white\" className=\"bi bi-arrow-left-circle\" viewBox=\"0 0 16 16\">\n                        <path fillRule=\"evenodd\" d=\"M1 8a7 7 0 1 0 14 0A7 7 0 0 0 1 8zm15 0A8 8 0 1 1 0 8a8 8 0 0 1 16 0zm-4.5-.5a.5.5 0 0 1 0 1H5.707l2.147 2.146a.5.5 0 0 1-.708.708l-3-3a.5.5 0 0 1 0-.708l3-3a.5.5 0 1 1 .708.708L5.707 7.5H11.5z\"/>\n                    </svg>\n                </div>\n            \n            <h1 className=\"register-title\">Register</h1>\n            <div className=\"form-container sign-up-container\">\n                <div className=\"form-box\">\n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"fullname\"] || errors[\"fullnameLength\"]}\n                        type=\"text\"\n                        value={registerFullName}\n                        placeholder=\"Full Name\" \n                        onChange={e => setRegisterFullName(e.target.value)}\n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"fullname\"] && registerFullName === \"\" \n                        ? errors[\"fullname\"] : null}\n                        {errors[\"fullnameLength\"] ? errors[\"fullnameLength\"] : null }\n                    </Form.Control.Feedback>                        \n                        <br/>\n                    <Form.Control\n                        custom\n                        type=\"email\" \n                        value={registerEmail}\n                        isInvalid={errors[\"email\"] || errors[\"invalidEmail\"] || errors[\"emailTaken\"]}\n                        placeholder=\"Email\" \n                        onChange={e => {\n                            handleEmailChange(e.target.value);\n                        }}/>\n                        <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"email\"] && registerEmail === \"\"\n                        ? errors[\"email\"] : null}\n                        {errors[\"emailTaken\"] ? errors[\"emailTaken\"]: null}\n                        {errors[\"invalidEmail\"] ? errors[\"invalidEmail\"] : null}\n                        </Form.Control.Feedback>          \n                        <br/>\n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"password\"] || errors[\"passwordLength\"]}\n                        type={showPassword ? 'text' : 'password'} \n                        value={registerPassword}\n                        placeholder=\"Password\"\n                        onChange={e => setRegisterPassword(e.target.value)} \n                    />\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"password\"] && registerPassword === \"\" \n                        ? errors[\"password\"] : null}\n                        {errors[\"passwordLength\"] ? errors[\"passwordLength\"] : null }\n                    </Form.Control.Feedback>                 \n                    <br/>\n                </div>\n            </div>\n            <button className=\"form-button register-btn\" id=\"register\">Sign Up</button>\n\n            <div className=\"form-container sign-up-2\">\n                <div className=\"form-box\">\n\n                    <label>Select a Username</label>\n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"username\"] || errors[\"usernameLength\"] || errors[\"invalidUsername\"] || errors[\"usernameTaken\"]}\n                        type=\"text\" \n                        placeholder=\"Username\" \n                        value={registerUsername}\n                        onChange={e => {\n                            handleUsernameChange(e.target.value)\n                        }}/><br/>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"username\"] && registerUsername === \"\"\n                        ? errors[\"username\"] : null}\n                        {errors[\"usernameTaken\"] ? errors[\"usernameTaken\"] : null}\n                        {errors[\"invalidUsername\"] ? errors[\"invalidUsername\"]: null}\n                        {errors[\"usernameLength\"]  ? errors[\"usernameLength\"] : null}\n                    </Form.Control.Feedback>      \n                    <Form.Control\n                        custom\n                        isInvalid={errors[\"passwordCheck\"] || errors[\"noMatch\"]}\n                        type={showPassword ? 'text' : 'password'} \n                        value={registerPasswordCheck}\n                        placeholder=\"Confirm Password\"\n                        onChange={e => setRegisterPasswordCheck(e.target.value)} \n                    />\n                    <label>Show Password </label>\n                    <Switch\n                        type=\"register\"\n                        isOn={showPassword}\n                        handleToggle={() => setShowPassword(!showPassword)}\n                    />\n                    <br/>\n                    <Form.Control.Feedback type=\"invalid\">\n                        {errors[\"passwordCheck\"] && registerPasswordCheck === \"\" \n                        ? errors[\"passwordCheck\"] : null}\n                        {errors[\"noMatch\"] ? errors[\"noMatch\"] : null }\n                    </Form.Control.Feedback>         \n                    <button className=\"form-button finish\" id=\"register2\"\n                        onClick={() => {\n                            const credentials = {\n                                fullname: registerFullName,\n                                email: registerEmail,\n                                username: registerUsername,\n                                password: registerPassword,\n                                passwordCheck: registerPasswordCheck\n                            };\n                            registerUser(credentials, (res) => { \n                                // Invalid Request\n                                if(res.failedAttempt){\n                                    props.history.push({\n                                        pathname: '/',\n                                        state: res\n                                    });\n                                // Successful Registration\n                                } else{\n                                    props.history.push({\n                                        pathname: '/',\n                                        state: {failedAttempt: false, newlyRegistered: true}\n                                    });\n                                }\n                            })\n                        }}\n                    >Finish</button>\n                </div>\n            </div>\n            \n            <div className=\"form-container sign-in-container\">\n                <div className=\"form-box\">\n                    {showAlertRegistered\n                    ? <Alert variant=\"success\" onClose={() => setShowAlertRegistered(false)} dismissible>You were successfully registered!</Alert>\n                    : null}\n\n                    {showAlertLogout\n                    ? <Alert variant=\"success\" onClose={() => setShowAlertLogout(false)} dismissible>You successfully logged out!</Alert>\n                    : null}\n\n                    {showAlertLoginFail\n                    ? <Alert variant=\"danger\" onClose={() => setShowAlertLoginFail(false)} dismissible>Invalid email or password!</Alert>\n                    : null}\n                    \n                    {showAlertNotFound\n                    ? <Alert variant=\"danger\" onClose={() => setShowAlertNotFound(false)} dismissible>{props.location.state.errorMsg}</Alert>\n                    : null}\n\n                    <h1>Sign in</h1><br/>\n\n                    <input type=\"email\" placeholder=\"Email or Username\" \n                        onChange={e => setLoginEmail(e.target.value)}\n                    /><br/>\n                    <input type=\"password\" placeholder=\"Password\" \n                        onChange={e => setLoginPassword(e.target.value)}\n                    /><br/>\n                    {/* eslint-disable-next-line} */}\n                    <a href=\"/forgot\">Forgot your password?</a>\n                    <button className=\"form-button\" \n                        onClick={() => {\n                            auth.login(loginEmail, loginPassword, \n                                (res) => { \n                                    if(typeof res[\"error\"] !== 'undefined'){\n                                        props.history.push({\n                                            pathname: '/',\n                                            state: {loginFailure: true}\n                                        });\n                                    }\n                                    else{\n                                        res[\"ownedByUser\"] = true;\n                                        props.history.push({\n                                            pathname: `/${res.username}`,\n                                            state: {\n                                                user: res,\n                                                requestedBy: res\n                                            }\n                                        });\n                                    }\n                                })\n                            }\n                    }>Sign In</button>\n                </div>\n            </div>\n            <div className=\"overlay-container\">\n                <div className=\"overlay\">\n                    <div className=\"overlay-panel overlay-left\">\n                        <h1>Welcome Back!</h1>\n                        <p className=\"overlay-description\">\n                            Already a member?<br/>\n                            Sign in now!\n                        </p>\n                        <button className=\"ghost\" id=\"signIn\">Sign In</button>\n                    </div>\n                    <div className=\"overlay-panel overlay-right\">\n                        <h1>Hello, Friend!</h1>\n                        <p className=\"overlay-description\">\n                            Not a member yet?<br/>\n                            Sign up for free today!\n                        </p>\n                        <button className=\"ghost\" id=\"signUp\">Sign Up</button>\n                    </div>\n                </div>\n            </div>\n        </div>\n        </div>\n    </>\n    )\n}\n","import React, {Component} from 'react'\nimport { Form } from 'react-bootstrap';\n\nexport default class ResetPassword extends Component{\n    constructor(){\n        super();\n        \n        this.state = {\n            email: '',\n            password: '',\n            confirmPassword: '',\n            updated: false,\n            error: false,\n            errors: {null: '', noMatch: '', length: ''}\n        }\n    }\n\n    async componentDidMount(){\n        console.log(this.props.match.params.token)\n        const response = await fetch(`/resetPassword/${this.props.match.params.token}`, {\n            method: 'GET', \n            headers: {\n                'Accept': 'application/json',\n                'Content-Type': 'application/json',\n            },\n            mode: 'cors',\n            credentials: 'include',\n            withCredentials: true,\n        })\n        const res = await response.json();\n\n        if(!res.authenticated){\n            this.setState({\n                error: true,\n                updated: false\n            })\n        }\n        else{\n            console.log(\"Authenticated! Response: \", res);\n            this.setState({\n                updated: false,\n                email: res.email,\n\n            })\n        }\n    }\n\n    handleChange = name => event => {\n        this.setState({\n            [name]: event.target.value\n        });\n    };\n\n    length(obj) {\n        if((!(typeof(obj) !== 'undefined')) || (obj == null)) return 0;\n        return Object.keys(obj).length;\n    }\n\n    updatePassword = async(e) => {\n        const tmpErrs = this.validatePasswords();\n        console.log(tmpErrs)\n        if(tmpErrs['null'] || tmpErrs['noMatch'] || tmpErrs['length']){\n            this.setState({errors: tmpErrs});\n        }\n        else{\n            this.setState({errors: {null: '', noMatch: '', length: ''}})\n            console.log(this.props.match.params.token);\n            \n            const response = await fetch(`/resetPassword/${this.props.match.params.token}`, {\n                method: 'POST', \n                headers: {\n                    'Accept': 'application/json',\n                    'Content-Type': 'application/json',\n                },\n                mode: 'cors',\n                credentials: 'include',\n                withCredentials: true,\n                body: JSON.stringify({\n                    email: this.state.email,\n                    password: this.state.password\n                })\n            })\n            const res = await response.json();\n            if(res.updated){\n                this.setState({\n                    email: res.email,\n                    updated: true,\n                    error: false\n                });\n            } else{\n                this.setState({\n                    updated: false,\n                    error: true\n                });\n            }\n        }\n    }\n\n    validatePasswords = () => {\n        const errors = {null: '', noMatch: '', length: ''}\n        const {password, confirmPassword} = this.state;\n        \n        if(!password){\n            errors['null'] = 'Please enter a password.';\n        } else if(password.length < 7 || password.length > 19){\n            errors['length'] = 'Passwords must be between 8 and 20 characters.';\n        }\n\n        if(!confirmPassword){\n            errors['null'] = 'Please enter a password.';\n        } else if(confirmPassword.length < 7 || confirmPassword.length > 19){\n            errors['length'] = 'Passwords must be between 8 and 20 characters.';\n        }\n\n        if(password !== confirmPassword){\n            errors['noMatch'] = 'Passwords do not match.'\n        }\n        return errors;\n    }\n\n    render(){\n        const {password, confirmPassword, error, updated, errors} = this.state;\n\n        if(error){\n            return(\n                <div className=\"register-body\">\n                    <div className=\"slider-container\" id=\"slider-container\">\n                        <div className=\"form-box\">\n                            <h4>Error resetting password. Please send another reset link.</h4>\n                        </div>\n                    </div>\n                </div>\n            );\n        } else{\n            return(\n                <div className=\"register-body\">\n                    <div className=\"slider-container\" id=\"slider-container\">\n                        <div className=\"form-box\">\n                            <h4>Reset Password</h4>\n\n                            <Form.Control\n                            custom\n                            isInvalid={errors['null'] || errors['length'] || errors['noMatch']} \n                            type=\"password\" placeholder=\"New Password\" value={password}\n                            onChange={e => \n                                this.setState({password: e.target.value})\n                            }/><br/>\n\n                            <Form.Control\n                            custom\n                            isInvalid={errors['null'] || errors['length'] || errors['noMatch']} \n                            type=\"password\" placeholder=\"Confirm Password\" value={confirmPassword}\n                            onChange={e => \n                                this.setState({confirmPassword: e.target.value})\n                            }/><br/>\n                            <Form.Control.Feedback type=\"invalid\">\n                                {errors['null'] && !confirmPassword && !password\n                                ? errors['null']\n                                : null}\n                                {errors['noMatch']\n                                ? errors['noMatch'] + '\\n'\n                                : null}\n                                {errors['length']\n                                ? errors['length']+ '\\n'\n                                : null}\n                            </Form.Control.Feedback>      \n                            <button className=\"form-button\" onClick={e => {\n                                this.updatePassword(e)\n                            }}>Reset</button>\n\n                            {updated\n                            ? <><br/><p>Your password has been successfully reset, please try logging in again.</p>\n                            <button className=\"form-button\" onClick={e => {\n                                this.props.history.push('/')\n                            }}>Home</button></>\n                            : null}\n                        </div>\n                    </div>\n                </div>\n            );\n        }\n    }\n\n}","import { useState } from 'react';\nimport { Modal } from 'react-bootstrap';\n\nexport const Footer = () => {\n    const [showAbout, setShowAbout] = useState(false);\n    const [showContact, setShowContact] = useState(false);\n    const [showPrivacy, setShowPrivacy] = useState(false);\n    // onClose Handlers\n    const handleShowAbout = () => setShowAbout(true);\n    const handleShowContact = () => setShowContact(true);\n    const handleShowPrivacy = () => setShowPrivacy(true);\n    const handleCloseAbout = () => setShowAbout(false);\n    const handleCloseContact = () => setShowContact(false);\n    const handleClosePrivacy = () => setShowPrivacy(false);\n    \n    return(\n        <footer style={{\n            height: '140px',\n            position: 'relative'\n        }}>\n            \n        <div className=\"footer-style\">\n            <h3>my-portfol.io</h3>\n            <div className=\"modaling-style\">\n            <button style={{background: 'none', textDecoration: 'underline', border: 'none', color:'#18b848'}} onClick={handleShowAbout}>About us</button>\n            <button style={{background: 'none', textDecoration: 'underline', border: 'none', color:'#18b848'}} onClick={handleShowContact}>Contact us</button>\n            <button style={{background: 'none', textDecoration: 'underline', border: 'none', color:'#18b848'}} onClick={handleShowPrivacy}>Privacy Policy</button>\n            </div>\n        </div>\n\n        <Modal\n            show={showAbout}\n            onHide={handleCloseAbout}\n            backdrop=\"static\"\n            size=\"lg\"\n            centered\n            scrollable={false}>\n                <Modal.Header closeButton><Modal.Title><h3>About my-portfol.io</h3></Modal.Title></Modal.Header>\n                <Modal.Body><p>My-portfol.io was created and is managed by developers <a href=\"/johnfurlong\" target=\"_blank\" rel=\"noreferrer\">John Furlong</a> and <a href=\"/tristanhanna\" target=\"_blank\" rel=\"noreferrer\">Tristan Hanna</a>. We aim to solve all of your recruiting and job search needs with our platform. At this phase we are in early development and any feedback on our site would be appreciated. You can contact us at myportfolio.help@gmail.com</p></Modal.Body>\n        </Modal>\n\n        <Modal\n            show={showContact}\n            onHide={handleCloseContact}\n            backdrop=\"static\"\n            size=\"lg\"\n            centered\n            scrollable={false}>\n                <Modal.Header closeButton><Modal.Title><h3>Contact my-portfol.io</h3></Modal.Title></Modal.Header>\n                <Modal.Body><p>You can contact us by email at myportfolio.help@gmail.com</p></Modal.Body>\n        </Modal>\n\n        <Modal\n            show={showPrivacy}\n            onHide={handleClosePrivacy}\n            backdrop=\"static\"\n            size=\"lg\"\n            centered\n            scrollable={false}>\n                <Modal.Header closeButton><Modal.Title><h3>Privacy Policy</h3></Modal.Title></Modal.Header>\n                <Modal.Body><p>This Privacy Policy describes how your personal information is collected, used, and shared when you visit my-portfol.io (the Site).<br /><br/>\n\n                                Personal information we collect<br/>\n                                When you visit the Site, we automatically collect certain information about your device, including information about your web browser, IP address, time zone, and some of the cookies that are installed on your device. Additionally, as you browse the Site, we collect information about the individual web pages or products that you view, what websites or search terms referred you to the Site, and information about how you interact with the Site. We refer to this automatically-collected information as Device Information.<br/>\n                                <br/>\n                                We collect Device Information using the following technologies:<br/>\n                                - Cookies are data files that are placed on your device or computer and often include an anonymous unique identifier. For more information about cookies, and how to disable cookies, visit http://www.allaboutcookies.org.<br/>\n                                - Log files track actions occurring on the Site, and collect data including your IP address, browser type, Internet service provider, referring/exit pages, and date/time stamps.<br/>\n                                - Web beacons, tags, and pixels are electronic files used to record information about how you browse the Site.<br/>\n                                <br/>\n                                When we talk about Personal Information in this Privacy Policy, we are talking both about Device Information and Order Information.<br/>\n                                <br/>\n                                How do we use your personal information?<br/>\n                                We use the Order Information that we collect generally to fulfill any orders placed through the Site (including processing your payment information, arranging for shipping, and providing you with invoices and/or order confirmations). Additionally, we use this Order Information to:<br/>\n                                - Communicate with you;<br/>\n                                - Screen our orders for potential risk or fraud; and<br/>\n                                - When in line with the preferences you have shared with us, provide you with information or advertising relating to our products or services.<br/>\n                                <br/>\n                                We use the Device Information that we collect to help us screen for potential risk and fraud (in particular, your IP address), and more generally to improve and optimize our Site (for example, by generating analytics about how our customers browse and interact with the Site, and to assess the success of our marketing and advertising campaigns).<br/>\n                                <br/>\n                                Sharing you personal Information<br/>\n                                We share your Personal Information with third parties to help us use your Personal Information, as described above. For example, we use Shopify to power our online store--you can read more about how Shopify uses your Personal Information here: https://www.shopify.com/legal/privacy. We also use Google Analytics to help us understand how our customers use the Site -- you can read more about how Google uses your Personal Information here: https://www.google.com/intl/en/policies/privacy/. You can also opt-out of Google Analytics here: https://tools.google.com/dlpage/gaoptout.<br/>\n                                <br/>\n                                Finally, we may also share your Personal Information to comply with applicable laws and regulations, to respond to a subpoena, search warrant or other lawful request for information we receive, or to otherwise protect our rights.<br/>\n                                <br/>\n                                You can opt out of some of these services by visiting the Digital Advertising Alliances opt-out portal at: http://optout.aboutads.info/.<br/>\n                                <br/>\n                                Do not track<br/>\n                                Please note that we do not alter our Sites data collection and use practices when we see a Do Not Track signal from your browser.<br/>\n                                <br/>\n                                Your rights<br/>\n                                If you are a European resident, you have the right to access personal information we hold about you and to ask that your personal information be corrected, updated, or deleted. If you would like to exercise this right, please contact us through the contact information below.<br/>\n                                <br/>\n                                Additionally, if you are a European resident we note that we are processing your information in order to fulfill contracts we might have with you (for example if you make an order through the Site), or otherwise to pursue our legitimate business interests listed above. Additionally, please note that your information will be transferred outside of Europe, including to Canada and the United States.<br/>\n                                <br/>\n                                Changes<br/>\n                                We may update this privacy policy from time to time in order to reflect, for example, changes to our practices or for other operational, legal or regulatory reasons.<br/>\n                                <br/>\n                                Contact us<br/>\n                                For more information about our privacy practices, if you have questions, or if you would like to make a complaint, please contact us by email at myportfolio.help@gmail.com</p></Modal.Body>\n        </Modal>\n            \n        </footer>\n    )\n}\n","import React from 'react';\nimport { Switch, Route } from \"react-router-dom\";\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport './App.css';\n\n// Components\n// import { Welcome } from \"./views/welcome\";\nimport ForgotPassword from './views/ForgotPassword'\nimport Profile from './views/profile';\nimport {HomeSlider} from './components/slider/form';\nimport ResetPassword from './views/ResetPassword';\nimport { Footer } from './views/Footer'\n\nfunction App() {\n  return (\n    <>\n    <div className=\"App\" \n      style={{\n        backgroundImage: 'url(/geo-bg.png)', \n        backgroundRepeat: 'no-repeat',\n         backgroundSize: 'cover', \n         backgroundAttachment: 'fixed',\n         minHeight:'100vh',\n         paddingBottom: '140px'\n      }}>\n      <Switch>\n        <Route exact path=\"/\" component={HomeSlider} />\n        <Route exact path=\"/forgot\" component={ForgotPassword} />\n        <Route exact path=\"/reset/:token\" component={ResetPassword} />\n        <Route exact path=\"/:username\" component={Profile} />\n        <Route path=\"*\" component={() => \"404 Not Found\"} />\n      </Switch>\n    </div>\n    <Footer/></>\n  );\n}\n\nexport default App;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { BrowserRouter } from 'react-router-dom';\nimport 'bootstrap/dist/css/bootstrap.css'\nimport './index.css';\n\nReactDOM.render((\n    <BrowserRouter>\n        <App />   \n    </BrowserRouter>\n), document.getElementById('root'));\n"],"sourceRoot":""}